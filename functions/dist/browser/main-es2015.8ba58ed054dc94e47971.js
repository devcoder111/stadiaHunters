(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var r=n("30Go"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(c);a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.4","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return rn}),n.d(e,"b",function(){return Mc}),n.d(e,"c",function(){return Ic}),n.d(e,"d",function(){return Tc}),n.d(e,"e",function(){return Pc}),n.d(e,"f",function(){return Tu}),n.d(e,"g",function(){return vu}),n.d(e,"h",function(){return ka}),n.d(e,"i",function(){return $c}),n.d(e,"j",function(){return Yo}),n.d(e,"k",function(){return Vc}),n.d(e,"l",function(){return na}),n.d(e,"m",function(){return xr}),n.d(e,"n",function(){return oc}),n.d(e,"o",function(){return ls}),n.d(e,"p",function(){return pn}),n.d(e,"q",function(){return nn}),n.d(e,"r",function(){return Ss}),n.d(e,"s",function(){return va}),n.d(e,"t",function(){return _a}),n.d(e,"u",function(){return Fc}),n.d(e,"v",function(){return Ma}),n.d(e,"w",function(){return wu}),n.d(e,"x",function(){return La}),n.d(e,"y",function(){return pu}),n.d(e,"z",function(){return Xc}),n.d(e,"A",function(){return mn}),n.d(e,"B",function(){return Lc}),n.d(e,"C",function(){return Dc}),n.d(e,"D",function(){return cc}),n.d(e,"E",function(){return ia}),n.d(e,"F",function(){return ra}),n.d(e,"G",function(){return Ar}),n.d(e,"H",function(){return oa}),n.d(e,"I",function(){return pr}),n.d(e,"J",function(){return bn}),n.d(e,"K",function(){return Cu}),n.d(e,"L",function(){return Ia}),n.d(e,"M",function(){return ru}),n.d(e,"N",function(){return sn}),n.d(e,"O",function(){return ca}),n.d(e,"P",function(){return aa}),n.d(e,"Q",function(){return Fa}),n.d(e,"R",function(){return I}),n.d(e,"S",function(){return mu}),n.d(e,"T",function(){return du}),n.d(e,"U",function(){return f}),n.d(e,"V",function(){return Sn}),n.d(e,"W",function(){return hu}),n.d(e,"X",function(){return Eu}),n.d(e,"Y",function(){return ou}),n.d(e,"Z",function(){return Nc}),n.d(e,"ab",function(){return ds}),n.d(e,"bb",function(){return Vo}),n.d(e,"cb",function(){return dr}),n.d(e,"db",function(){return Qn}),n.d(e,"eb",function(){return Fn}),n.d(e,"fb",function(){return Bn}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return Hn}),n.d(e,"ib",function(){return Un}),n.d(e,"jb",function(){return zn}),n.d(e,"kb",function(){return Lo}),n.d(e,"lb",function(){return Su}),n.d(e,"mb",function(){return Mo}),n.d(e,"nb",function(){return No}),n.d(e,"ob",function(){return Vn}),n.d(e,"pb",function(){return M}),n.d(e,"qb",function(){return Ms}),n.d(e,"rb",function(){return no}),n.d(e,"sb",function(){return eo}),n.d(e,"tb",function(){return Do}),n.d(e,"ub",function(){return Ot}),n.d(e,"vb",function(){return l}),n.d(e,"wb",function(){return Nn}),n.d(e,"xb",function(){return As}),n.d(e,"yb",function(){return gt}),n.d(e,"zb",function(){return Qo}),n.d(e,"Ab",function(){return fi}),n.d(e,"Bb",function(){return Us}),n.d(e,"Cb",function(){return vo}),n.d(e,"Db",function(){return Oc}),n.d(e,"Eb",function(){return $}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return g}),n.d(e,"Hb",function(){return b}),n.d(e,"Ib",function(){return Z}),n.d(e,"Jb",function(){return et}),n.d(e,"Kb",function(){return Gs}),n.d(e,"Lb",function(){return Zs}),n.d(e,"Mb",function(){return Js}),n.d(e,"Nb",function(){return Ys}),n.d(e,"Ob",function(){return Xs}),n.d(e,"Pb",function(){return Qs}),n.d(e,"Qb",function(){return to}),n.d(e,"Rb",function(){return Je}),n.d(e,"Sb",function(){return To}),n.d(e,"Tb",function(){return kn}),n.d(e,"Ub",function(){return tn}),n.d(e,"Vb",function(){return Ac}),n.d(e,"Wb",function(){return Ks}),n.d(e,"Xb",function(){return ro}),n.d(e,"Yb",function(){return xc}),n.d(e,"Zb",function(){return be}),n.d(e,"ac",function(){return ge}),n.d(e,"bc",function(){return co}),n.d(e,"cc",function(){return ic}),n.d(e,"dc",function(){return sc}),n.d(e,"ec",function(){return ho}),n.d(e,"fc",function(){return lo}),n.d(e,"gc",function(){return $s}),n.d(e,"hc",function(){return fo}),n.d(e,"ic",function(){return po}),n.d(e,"jc",function(){return Ja}),n.d(e,"kc",function(){return tc}),n.d(e,"lc",function(){return ec}),n.d(e,"mc",function(){return yc}),n.d(e,"nc",function(){return qs}),n.d(e,"oc",function(){return Sr}),n.d(e,"pc",function(){return Ht}),n.d(e,"qc",function(){return mr}),n.d(e,"rc",function(){return br}),n.d(e,"sc",function(){return gr}),n.d(e,"tc",function(){return Y}),n.d(e,"uc",function(){return vc}),n.d(e,"vc",function(){return yo}),n.d(e,"wc",function(){return io}),n.d(e,"xc",function(){return Po}),n.d(e,"yc",function(){return zs}),n.d(e,"zc",function(){return Ec}),n.d(e,"Ac",function(){return ko}),n.d(e,"Bc",function(){return So}),n.d(e,"Cc",function(){return Eo}),n.d(e,"Dc",function(){return Ao}),n.d(e,"Ec",function(){return yr}),n.d(e,"Fc",function(){return _c});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function y(t){return v(t,w)||v(t,x)}function v(t,e){return t.hasOwnProperty(e)?t[e]:null}function _(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(C))?t[O]:null}const w=c({\u0275prov:c}),O=c({\u0275inj:c}),x=c({ngInjectableDef:c}),C=c({ngInjectorDef:c});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let S;function E(t){const e=S;return S=t,e}function A(t,e,n){const r=y(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function T(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),I=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const j="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,D="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,M=j||L||R||D,N={},F=[],V=c({\u0275cmp:c}),B=c({\u0275dir:c}),U=c({\u0275pipe:c}),H=c({\u0275mod:c}),z=c({\u0275loc:c}),q=c({\u0275fac:c}),G=c({__NG_ELEMENT_ID__:c});let K=0;function $(t){return T(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||F,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||I.Emulated,id:"c",styles:t.styles||F,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=K++,n.inputs=J(t.inputs,e),n.outputs=J(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(W):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Q):null,n})}function W(t){return nt(t)||function(t){return t[B]||null}(t)}function Q(t){return function(t){return t[U]||null}(t)}const X={};function Z(t){const e={type:t.type,bootstrap:t.bootstrap||F,declarations:t.declarations||F,imports:t.imports||F,exports:t.exports||F,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&T(()=>{X[t.id]=t.type}),e}function Y(t,e){return T(()=>{const n=rt(t,!0);n.declarations=e.declarations||F,n.imports=e.imports||F,n.exports=e.exports||F})}function J(t,e){if(null==t)return N;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const tt=$;function et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function nt(t){return t[V]||null}function rt(t,e){const n=t[H]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}function it(t){return Array.isArray(t)&&"object"==typeof t[1]}function st(t){return Array.isArray(t)&&!0===t[1]}function ot(t){return 0!=(8&t.flags)}function at(t){return 2==(2&t.flags)}function ct(t){return 1==(1&t.flags)}function ut(t){return null!==t.template}function lt(t,e){return t.hasOwnProperty(q)?t[q]:null}class ht extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function dt(t){return"string"==typeof t?t:null==t?"":String(t)}function ft(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():dt(t)}function pt(t,e){const n=e?" in "+e:"";throw new ht("201",`No provider for ${ft(t)} found${n}`)}class mt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function gt(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=vt),yt}function yt(){const t=_t(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===N)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function vt(t,e,n,r){const i=_t(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:N,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new mt(c&&c.currentValue,e,o===N),t[r]=e}function _t(t){return t.__ngSimpleChanges__||null}gt.ngInherit=!0;let wt=void 0;function Ot(t){wt=t}function xt(){return void 0!==wt?wt:"undefined"!=typeof document?document:void 0}function Ct(t){return!!t.listen}const kt={createRenderer:(t,e)=>xt()};function St(t){for(;Array.isArray(t);)t=t[0];return t}function Et(t,e){return St(e[t])}function At(t,e){return St(e[t.index])}function Tt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function It(t,e){const n=e[t];return it(n)?n:n[0]}function jt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Rt(t){return 4==(4&t[2])}function Dt(t){return 128==(128&t[2])}function Lt(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function Nt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ft={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Ft.bindingsEnabled}function Bt(){return Ft.lFrame.lView}function Ut(){return Ft.lFrame.tView}function Ht(t){Ft.lFrame.contextLView=t}function zt(){let t=qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function qt(){return Ft.lFrame.currentTNode}function Gt(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return Ft.lFrame.isParent}function $t(){Ft.lFrame.isParent=!1}function Wt(){return Ft.isInCheckNoChangesMode}function Qt(t){Ft.isInCheckNoChangesMode=t}function Xt(){const t=Ft.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Zt(){return Ft.lFrame.bindingIndex}function Yt(){return Ft.lFrame.bindingIndex++}function Jt(t){const e=Ft.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function te(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,ee(e)}function ee(t){Ft.lFrame.currentDirectiveIndex=t}function ne(t){const e=Ft.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function re(){return Ft.lFrame.currentQueryIndex}function ie(t){Ft.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=se(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ft.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ce(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function de(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Ft.lFrame.selectedIndex}function pe(t){Ft.lFrame.selectedIndex=t}function me(){const t=Ft.lFrame;return Tt(t.tView,t.selectedIndex)}function ge(){Ft.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function be(){Ft.lFrame.currentNamespace=null}function ye(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ve(t,e,n){Oe(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Oe(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Oe(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(xe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function xe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=Ct(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Ee(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Se(t){return 3===t||4===t||6===t}function Ee(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Te(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Te(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Pe(t){return-1!==t}function Ie(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function De(t){const e=Re;return Re=t,e}let Le=0;function Me(t,e){const n=Fe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ne(r.data,t),Ne(e,null),Ne(r.blueprint,null));const i=Ve(t,e),s=t.injectorIndex;if(Pe(i)){const t=Ie(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ne(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Be(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=Le++);const i=255&r,s=1<<i,o=64&i,a=32&i,c=e.data;128&i?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function Ue(t,e,n){if(n&k.Optional)return t;pt(e,"NodeInjector")}function He(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],s=E(void 0);try{return i?i.get(e,r,n&k.Optional):A(e,r,n&k.Optional)}finally{E(s)}}return Ue(r,e,n)}function ze(t,e,n,r=k.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof s){if(!oe(e,t,r))return r&k.Host?Ue(i,n,r):He(e,n,r,i);try{const t=s();if(null!=t||r&k.Optional)return t;pt(n)}finally{he()}}else if("number"==typeof s){let i=null,o=Fe(t,e),a=-1,c=r&k.Host?e[16][6]:null;for((-1===o||r&k.SkipSelf)&&(a=-1===o?Ve(t,e):e[o+8],-1!==a&&Xe(r,!1)?(i=e[1],o=Ie(a),e=je(a,e)):o=-1);-1!==o;){const t=e[1];if(Qe(s,o,t.data)){const t=Ke(o,e,n,i,r,c);if(t!==qe)return t}a=e[o+8],-1!==a&&Xe(r,e[1].data[o+8]===c)&&Qe(s,o,e)?(i=t,o=Ie(a),e=je(a,e)):o=-1}}}return He(e,n,r,i)}const qe={};function Ge(){return new Ze(zt(),Bt())}function Ke(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=$e(a,o,n,null==r?at(a)&&Re:r!=o&&0!=(3&a.type),i&k.Host&&s===a);return null!==c?We(e,o,c,a):qe}function $e(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&ut(t)&&t.type===n)return c}return null}function We(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ce){const o=i;o.resolving&&function(t,e){throw new ht("200","Circular dependency in DI detected for "+t)}(ft(s[n]));const a=De(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?E(o.injectImpl):null;oe(t,r,k.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&E(c),De(a),o.resolving=!1,he()}}return i}function Qe(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function Xe(t,e){return!(t&k.Self||t&k.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Ye(t){const e=t;if(m(t))return()=>{const t=Ye(p(e));return t?t():null};let n=lt(e);if(null===n){const t=_(e);n=t&&t.factory}return n||null}function Je(t){return T(()=>{const e=t.prototype.constructor,n=e[q]||Ye(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[q]||Ye(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}function en(t,e,n){return T(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const rn=new nn("AnalyzeForEntryComponents"),sn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function un(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function hn(t,e,n){let r=fn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=fn(t,e);if(n>=0)return t[1|n]}function fn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn=en("Inject",t=>({token:t})),mn=en("Optional"),gn=en("Self"),bn=en("SkipSelf"),yn=en("Host"),vn={},_n=/\n/gm,wn=c({provide:String,useValue:c});let On=void 0;function xn(t){const e=On;return On=t,e}function Cn(t,e=k.Default){if(void 0===On)throw new Error("inject() must be called from an injection context");return null===On?A(t,void 0,e):On.get(t,e&k.Optional?null:void 0,e)}function kn(t,e=k.Default){return(S||Cn)(p(t),e)}const Sn=kn;function En(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof mn||"Optional"===i.ngMetadataName||i===mn?n|=k.Optional:i instanceof bn||"SkipSelf"===i.ngMetadataName||i===bn?n|=k.SkipSelf:i instanceof gn||"Self"===i.ngMetadataName||i===gn?n|=k.Self:i instanceof yn||"Host"===i.ngMetadataName||i===yn?n|=k.Host:t=i instanceof pn||i===pn?i.token:i}e.push(kn(t,n))}else e.push(kn(r))}return e}let An;function Tn(){if(void 0===An&&(An=null,M.trustedTypes))try{An=M.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return An}function Pn(t){var e;return(null===(e=Tn())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class jn extends In{getTypeName(){return"HTML"}}class Rn extends In{getTypeName(){return"Style"}}class Dn extends In{getTypeName(){return"Script"}}class Ln extends In{getTypeName(){return"URL"}}class Mn extends In{getTypeName(){return"ResourceURL"}}function Nn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof In&&t.getTypeName()||null}function Bn(t){return new jn(t)}function Un(t){return new Rn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Ln(t)}function qn(t){return new Mn(t)}class Gn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Kn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(t){return(t=String(t)).match($n)||t.match(Wn)?t:"unsafe:"+t}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Yn=Xn("area,br,col,hr,img,wbr"),Jn=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Xn("rp,rt"),er=Zn(tr,Jn),nr=Zn(Yn,Zn(Jn,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(tr,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),rr=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Xn("srcset"),sr=Zn(rr,ir,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=Xn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!or.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!sr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;rr[s]&&(o=Qn(o)),ir[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',lr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Yn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ur=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ur,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function dr(t,e){let n=null;try{hr=hr||function(t){const e=new Kn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Gn(e):e}(t);let r=e?String(e):"";n=hr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==s);return(new ar).sanitizeChildren(fr(n)||n)}finally{if(n){const t=fr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=vr();return e?e.sanitize(pr.HTML,t)||"":Fn(t,"HTML")?Nn(t):dr(xt(),dt(t))}function gr(t){const e=vr();return e?e.sanitize(pr.URL,t)||"":Fn(t,"URL")?Nn(t):Qn(dt(t))}function br(t){const e=vr();if(e)return e.sanitize(pr.RESOURCE_URL,t)||"";if(Fn(t,"ResourceURL"))return Nn(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function yr(t){return function(t){var e;return(null===(e=Tn())||void 0===e?void 0:e.createScriptURL(t))||t}(t)}function vr(){const t=Bt();return t&&t[12]}function _r(t){return t.ngDebugContext}function wr(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class xr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(wr(t)):null}_findOriginalError(t){let e=wr(t);for(;e&&wr(e);)e=wr(e);return e}}function Cr(t,e){t.__ngContext__=e}const kr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();function Sr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Er(t){return t instanceof Function?t():t}var Ar=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Tr(t,e){return(void 0)(t,e)}function Pr(t){const e=t[3];return st(e)?e[3]:e}function Ir(t){return Rr(t[13])}function jr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!st(t);)t=t[4];return t}function Dr(t,e,n,r,i){if(null!=r){let s,o=!1;st(r)?s=r:it(r)&&(o=!0,r=r[0]);const a=St(r);0===t&&null!==n?null==i?Hr(e,n,a):Ur(e,n,a,i||null,!0):1===t&&null!==n?Ur(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){Ct(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==St(n)&&Dr(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Zr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Lr(t,e,n){return Ct(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Nt(i,-1)),n.splice(r,1)}function Nr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Mr(s,r),e>0&&(t[n-1][4]=r[4]);const o=un(t,10+e);Zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Fr(t,e){if(!(256&e[2])){const n=e[11];Ct(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vr(t[1],t);for(;e;){let n=null;if(it(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)it(e)&&Vr(e[1],e),e=e[3];null===e&&(e=t),it(e)&&Vr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):St(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Ct(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&st(e[3])){n!==e[3]&&Mr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Br(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===I.None||e===I.Emulated)return null}return At(r,n)}(t,e.parent,n)}function Ur(t,e,n,r,i){Ct(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Hr(t,e,n){Ct(t)?t.appendChild(e,n):e.appendChild(n)}function zr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):Hr(t,e,n)}function qr(t,e){return Ct(t)?t.parentNode(e):e.parentNode}function Gr(t,e,n){return Kr(t,e,n)}let Kr=function(t,e,n){return 40&t.type?At(t,n):null};function $r(t,e,n,r){const i=Br(t,r,e),s=e[11],o=Gr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)zr(s,i,n[a],o,!1);else zr(s,i,n,o,!1)}function Wr(t,e){if(null!==e){const n=e.type;if(3&n)return At(e,t);if(4&n)return Qr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Wr(t,n);{const n=t[e.index];return st(n)?Qr(-1,n):St(n)}}if(32&n)return Tr(e,t)()||St(t[e.index]);{const n=t[16],r=n[6],i=Pr(n),s=r.projection[e.projection];return null!=s?Wr(i,s):Wr(t,e.next)}}return null}function Qr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Wr(t,r)}return e[7]}function Xr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Cr(St(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Xr(t,e,n.child,r,i,s,!1),Dr(e,t,i,a,s);else if(32&c){const o=Tr(n,r);let c;for(;c=o();)Dr(e,t,i,c,s);Dr(e,t,i,a,s)}else 16&c?Yr(t,e,r,n,i,s):Dr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Zr(t,e,n,r,i,s){Xr(n,r,t.firstChild,e,i,s,!1)}function Yr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Dr(e,t,i,a[c],s);else Xr(t,e,a,o[3],i,s,!0)}function Jr(t,e,n){Ct(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ti(t,e,n){Ct(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ei(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ei(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&"ng-template"!==t.value}function ii(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function si(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!ii(t,c,n)||""===c&&1===e.length){if(oi(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,u,n)){if(oi(r))return!1;o=!0}continue}const l=ai(8&r?"class":c,i,ri(t),n);if(-1===l){if(oi(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ei(e,u,0)||2&r&&u!==t){if(oi(r))return!1;o=!0}}}}else{if(!o&&!oi(r)&&!oi(c))return!1;if(o&&oi(c))continue;o=!1,r=c|1&r}}return oi(r)||o}function oi(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(si(t,e[r],n))return!0;return!1}function ui(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||oi(o)||(e+=li(s,i),i=""),r=o,s=s||!oi(r);n++}return""!==i&&(e+=li(s,i)),e}const di={};function fi(t){pi(Ut(),Bt(),fe()+t,Wt())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ve(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}pe(n)}function mi(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function bi(t){return 2|t}function yi(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function _i(t){return 1|t}function wi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ie(i),n.contentQueries(2,e[s],s)}}}function Oi(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function xi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=qt(),o=Kt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Ft.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Gt(s,!0),s}function Ci(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ki(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&es(1,r,n);const i=t.template;null!==i&&Ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wi(t,e),t.staticViewQueries&&es(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Xi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function Si(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const s=Wt();try{Mt(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ai(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ve(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),we(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=jr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Nt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=jr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Dt(n)&&Si(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&wi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ve(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,s=n[++t],o=n[++t];te(s,i),o(2,e[i])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&es(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ve(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Nt(e[3],-1))}finally{de()}}function Ei(t,e,n,r){const i=e[10],s=!Wt(),o=Rt(e);try{s&&!o&&i.begin&&i.begin(),o&&ki(t,e,r),Si(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ai(t,e,n,r,i){const s=fe();try{pe(-1),2&r&&e.length>20&&pi(t,e,20,Wt()),n(r,i)}finally{pe(s)}}function Ti(t,e,n){if(ot(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Pi(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Me(n,e),Cr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=ut(r);s&&qi(e,n,r);const c=We(e,t,a,n);Cr(c,e),null!==o&&Gi(0,a-i,c,r,0,o),s&&(It(n.index,e)[8]=c)}}(t,e,n,At(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ft.lFrame.currentDirectiveIndex;try{pe(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ee(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Vi(r,i)}}finally{pe(-1),ee(o)}}(t,e,n))}function Ii(t,e,n=At){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ri(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ri(t,e,n,r,i,s,o,a,c,u){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Di(t,e,n,r){const i=rs(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&is(t).push(r,i.length-1))}function Li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Mi(t,e,n,r,i,s,o,a){const c=At(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(as(t,n,u,r,i),at(e)&&function(t,e){const n=It(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ct(s)?s.setProperty(c,r,i):Ee(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ni(t,e,n,r){let i=!1;if(Vt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ci(n,o.selectors,!1)&&(i||(i=[]),Be(Me(n,e),t,o.type),ut(o)?(Bi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Hi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Ci(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Ae(n.mergedAttrs,u.hostAttrs),zi(t,n,e,c,u),Ui(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||ri(e)?null:Ki(n,i);s.push(u),o=Li(n,c,o),a=Li(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new ht("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function Fi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Vi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Bi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ui(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ut(e)&&(n[""]=t)}}function Hi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=lt(i.type)),o=new Ce(s,ut(i),null);t.blueprint[r]=o,n[r]=o,Fi(t,e,0,r,Ci(t,n,i.hostVars,di),i)}function qi(t,e,n){const r=At(e,t),i=ji(n),s=t[10],o=Zi(t,Oi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Gi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ki(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Wi(t,e){const n=It(e,t);if(Dt(n)){const t=n[1];80&n[2]?Si(t,n,t.template,n[8]):n[5]>0&&Qi(n)}}function Qi(t){for(let n=Ir(t);null!==n;n=jr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Si(t,e,t.template,e[8])}else e[5]>0&&Qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=It(e[n],t);Dt(r)&&r[5]>0&&Qi(r)}}function Xi(t,e){const n=It(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ki(r,n,n[8])}function Zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yi(t){for(;t;){t[2]|=64;const e=Pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ji(t,e,n){const r=e[10];r.begin&&r.begin();try{Si(t,e,t.template,n)}catch(i){throw os(e,i),i}finally{r.end&&r.end()}}function ts(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=jt(n),i=r[1];Ei(i,r,i.template,n)}}(t[8])}function es(t,e,n){ie(0),e(t,n)}const ns=(()=>Promise.resolve(null))();function rs(t){return t[7]||(t[7]=[])}function is(t){return t.cleanup||(t.cleanup=[])}function ss(t,e,n){return(null===t||ut(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function os(t,e){const n=t[9],r=n?n.get(xr,null):null;r&&r.handleError(e)}function as(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function cs(t,e,n){const r=Et(e,t);!function(t,e,n){Ct(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function us(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ls=new nn("INJECTOR",-1);class hs{get(t,e=vn){if(e===vn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const ds=new nn("Set Injector scope."),fs={},ps={},ms=[];let gs=void 0;function bs(){return void 0===gs&&(gs=new hs),gs}function ys(t,e=null,n=null,r){return new vs(t,n,e||bs(),r)}class vs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(ls,Os(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=vn,n=k.Default){this.assertNotDestroyed();const r=xn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof nn)&&y(t);e=n&&this.injectableDefInScope(n)?Os(_s(t),fs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?bs():this.parent).get(t,e=n&k.Optional&&e===vn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{xn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=_(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=_(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||ms))}}this.injectorDefTypes.add(s),this.records.set(s,Os(r.factory,fs));const a=r.providers;if(null!=a&&!o){const e=t;an(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Cs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return xs(t)?Os(void 0,t.useValue):Os(ws(t),fs)}(t);if(Cs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Os(void 0,fs,!0),e.factory=()=>En(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===fs&&(e.value=ps,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function _s(t){const e=y(t),n=null!==e?e.factory:lt(t);if(null!==n)return n;const r=_(t);if(null!==r)return r.factory;if(t instanceof nn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ln(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[w]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ws(t,e,n){let r=void 0;if(Cs(t)){const e=p(t);return lt(e)||_s(e)}if(xs(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...En(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>kn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return lt(e)||_s(e);r=()=>new e(...En(t.deps))}var i;return r}function Os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xs(t){return null!==t&&"object"==typeof t&&wn in t}function Cs(t){return"function"==typeof t}const ks=function(t,e,n){return function(t,e=null,n=null,r){const i=ys(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ss=(()=>{class t{static create(t,e){return Array.isArray(t)?ks(t,e,""):ks(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=vn,t.NULL=new hs,t.\u0275prov=g({token:t,providedIn:"any",factory:()=>kn(ls)}),t.__NG_ELEMENT_ID__=-1,t})();function Es(t,e){ye(jt(t)[1],zt())}function As(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ut(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ts(t.inputs),e.declaredInputs=Ts(t.declaredInputs),e.outputs=Ts(t.outputs);const n=i.hostBindings;n&&js(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ps(t,s),o&&Is(t,o),u(t.inputs,i.inputs),u(t.declaredInputs,i.declaredInputs),u(t.outputs,i.outputs),ut(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===As&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function Ts(t){return t===N?{}:t===F?[]:t}function Ps(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Is(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function js(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Rs=null;function Ds(){if(!Rs){const t=M.Symbol;if(t&&t.iterator)Rs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Rs=n)}}}return Rs}class Ls{constructor(t){this.wrapped=t}static wrap(t){return new Ls(t)}static unwrap(t){return Ls.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ls}}function Ms(t){return!!Ns(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ds()in t)}function Ns(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fs(t,e,n){return t[e]=n}function Vs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Bs(t,e,n,r){const i=Vs(t,e,n);return Vs(t,e+1,r)||i}function Us(t,e,n,r){const i=Bt();return Vs(i,Yt(),e)&&(Ut(),function(t,e,n,r,i,s){const o=At(t,e);!function(t,e,n,r,i,s,o){if(null==s)Ct(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?dt(s):o(s,r||"",i);Ct(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(me(),i,t,e,n,r)),Us}function Hs(t,e,n,r){return Vs(t,Yt(),n)?e+dt(n)+r:di}function zs(t,e,n,r,i,s,o,a){const c=Bt(),u=Ut(),l=t+20,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=xi(e,t,4,o||null,Lt(u,a));Ni(e,n,l,Lt(u,c)),ye(e,l);const h=l.tViews=Ri(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Gt(h,!1);const d=c[11].createComment("");$r(u,c,d,h),Cr(d,c),Zi(c,c[l]=$i(d,c,d,h)),ct(h)&&Pi(u,c,h),null!=o&&Ii(c,h,a)}function qs(t){return Pt(Ft.lFrame.contextLView,20+t)}function Gs(t,e=k.Default){const n=Bt();return null===n?kn(t,e):ze(zt(),n,p(t),e)}function Ks(){throw new Error("invalid")}function $s(t,e,n){const r=Bt();return Vs(r,Yt(),e)&&Mi(Ut(),me(),r,t,e,r[11],n,!1),$s}function Ws(t,e,n,r,i){const s=i?"class":"style";as(t,n,e.inputs[s],s,r)}function Qs(t,e,n,r){const i=Bt(),s=Ut(),o=20+t,a=i[11],c=i[o]=Lr(a,e,Ft.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=xi(e,t,2,i,Lt(a,s));return Ni(e,n,c,Lt(a,o)),null!==c.attrs&&us(c,c.attrs,!1),null!==c.mergedAttrs&&us(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Gt(u,!0);const l=u.mergedAttrs;null!==l&&ke(a,c,l);const h=u.classes;null!==h&&ti(a,c,h);const d=u.styles;null!==d&&Jr(a,c,d),64!=(64&u.flags)&&$r(s,i,c,u),0===Ft.lFrame.elementDepthCount&&Cr(c,i),Ft.lFrame.elementDepthCount++,ct(u)&&(Pi(s,i,u),Ti(s,u,i)),null!==r&&Ii(i,u)}function Xs(){let t=zt();Kt()?$t():(t=t.parent,Gt(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=Ut();n.firstCreatePass&&(ye(n,t),ot(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ws(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ws(n,e,Bt(),e.stylesWithoutHost,!1)}function Zs(t,e,n,r){Qs(t,e,n,r),Xs()}function Ys(t,e,n){const r=Bt(),i=Ut(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Lt(s,r),a=xi(e,t,8,"ng-container",o);return null!==o&&us(a,o,!0),Ni(e,n,a,Lt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Gt(o,!0);const a=r[s]=r[11].createComment("");$r(i,r,a,o),Cr(a,r),ct(o)&&(Pi(i,r,o),Ti(i,o,r)),null!=n&&Ii(r,o)}function Js(){let t=zt();const e=Ut();Kt()?$t():(t=t.parent,Gt(t,!1)),e.firstCreatePass&&(ye(e,t),ot(t)&&e.queries.elementEnd(t))}function to(){return Bt()}function eo(t){return!!t&&"function"==typeof t.then}function no(t){return!!t&&"function"==typeof t.subscribe}function ro(t,e,n=!1,r){const i=Bt(),s=Ut(),o=zt();return so(s,i,i[11],o,t,e,n,r),ro}function io(t,e,n=!1,r){const i=zt(),s=Bt(),o=Ut();return so(o,s,ss(ne(o.data),i,s),i,t,e,n,r),io}function so(t,e,n,r,i,s,o=!1,a){const c=ct(r),u=t.firstCreatePass&&is(t),l=rs(e);let h=!0;if(3&r.type){const d=At(r,e),f=a?a(d):N,p=f.target||d,m=l.length,g=a?t=>a(St(t[r.index])).target:r.index;if(Ct(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ao(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,g,m,m+1)}}else s=ao(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,g,m,o)}else s=ao(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}function oo(t,e,n){try{return!1!==e(n)}catch(r){return os(t,r),!1}}function ao(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?It(t.index,e):e;0==(32&e[2])&&Yi(o);let a=oo(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=oo(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function co(t=1){return function(t){return(Ft.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ft.lFrame.contextLView))[8]}(t)}function uo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ci(t,s,!0):ui(r,s))return i}else n=i}return n}function lo(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?uo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ho(t,e=0,n){const r=Bt(),i=Ut(),s=xi(i,20+t,16,null,n||null);null===s.projection&&(s.projection=e),$t(),64!=(64&s.flags)&&function(t,e,n){Yr(e[11],0,e,n,Br(t,n,e),Gr(n.parent||e[6],n,e))}(i,r,s)}function fo(t,e,n){return po(t,"",e,"",n),fo}function po(t,e,n,r,i){const s=Bt(),o=Hs(s,e,n,r);return o!==di&&Mi(Ut(),me(),s,t,o,s[11],i,!1),po}const mo=[];function go(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?gi(s):yi(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];bo(t[a],e)&&(c=!0,t[a+1]=r?_i(n):bi(n)),a=r?gi(n):yi(n)}c&&(t[n+1]=r?bi(s):_i(s))}function bo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fn(t,e)>=0}function yo(t,e,n){return _o(t,e,n,!1),yo}function vo(t,e){return _o(t,e,null,!0),vo}function _o(t,e,n,r){const i=Bt(),s=Ut(),o=Jt(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[fe()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ne(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Oo(n=wo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=wo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==yi(r))return t[gi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=wo(null,t,e,n[1],r),n=Oo(n,e.attrs,r),function(t,e,n,r){t[gi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Oo(r,t[s].hostAttrs,n);return Oo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gi(o),c=yi(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||fn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=gi(t[a+1]);t[r+1]=mi(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=mi(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=mi(c,0),0===a?a=r:t[c+1]=vi(t[c+1],r),c=r;l&&(t[r+1]=bi(t[r+1])),go(t,u,r,!0),go(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&fn(s,e)>=0&&(n[r+1]=_i(n[r+1]))}(e,u,t,r,s),o=mi(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==di&&Vs(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];Co(1==(1&u)?xo(c,e,n,i,yi(u),o):void 0)||(Co(s)||function(t){return 2==(2&t)}(u)&&(s=xo(c,null,n,i,a,o)),function(t,e,n,r,i){const s=Ct(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ar.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Ar.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Et(fe(),n),i,s))}(s,s.data[fe()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Nn(t)))),t}(e,n),r,o)}function wo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Oo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Oo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,o,!!n||e[++s]))}return void 0===t?null:t}function xo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===di&&(l=u?mo:void 0);let h=u?dn(l,r):c===r?l:void 0;if(s&&!Co(h)&&(h=dn(e,r)),Co(h)&&(a=h,o))return a;const d=t[i+1];i=o?gi(d):yi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function Co(t){return void 0!==t}function ko(t,e=""){const n=Bt(),r=Ut(),i=t+20,s=r.firstCreatePass?xi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Ct(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$r(r,n,o,s),Gt(s,!1)}function So(t){return Eo("",t,""),So}function Eo(t,e,n){const r=Bt(),i=Hs(r,t,e,n);return i!==di&&cs(r,fe(),i),Eo}function Ao(t,e,n,r,i){const s=Bt(),o=function(t,e,n,r,i,s){const o=Bs(t,Zt(),n,i);return Jt(2),o?e+dt(n)+r+dt(i)+s:di}(s,t,e,n,r,i);return o!==di&&cs(s,fe(),o),Ao}function To(t,e,n){const r=Bt();return Vs(r,Yt(),e)&&Mi(Ut(),me(),r,t,e,r[11],n,!0),To}function Po(t,e,n){const r=Bt();if(Vs(r,Yt(),e)){const i=Ut(),s=me();Mi(i,s,r,t,e,ss(ne(i.data),s,r),n,!0)}return Po}const Io=void 0;var jo=["en",[["a","p"],["AM","PM"],Io],[["AM","PM"],Io,Io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Io,"{1} 'at' {0}",Io],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ro={};function Do(t,e,n){"string"!=typeof e&&(n=e,e=t[Vo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ro[e]=t,n&&(Ro[e][Vo.ExtraData]=n)}function Lo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Fo(e);if(n)return n;const r=e.split("-")[0];if(n=Fo(r),n)return n;if("en"===r)return jo;throw new Error(`Missing locale data for the locale "${t}".`)}function Mo(t){return Lo(t)[Vo.CurrencyCode]||null}function No(t){return Lo(t)[Vo.PluralCase]}function Fo(t){return t in Ro||(Ro[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),Ro[t]}var Vo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Bo="en-US";function Uo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Bo=t.toLowerCase().replace(/_/g,"-"))}function Ho(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ho(t[s],e,n,r,i);else{const s=Ut(),o=Bt();let a=Cs(t)?t:p(t.provide),c=ws(t);const u=zt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(Cs(t)||!t.multi){const r=new Ce(c,i,Gs),f=Go(a,e,i?l:l+d,h);-1===f?(Be(Me(u,o),s,a),zo(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Go(a,e,l+d,h),p=Go(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Be(Me(u,o),s,a);const l=function(t,e,n,r,i){const s=new Ce(t,n,Gs);return s.multi=[],s.index=e,s.componentProviders=0,qo(s,i,r&&!n),s}(i?$o:Ko,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),zo(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else zo(s,t,f>-1?f:p,qo(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function zo(t,e,n,r){const i=Cs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function qo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Go(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ko(t,e,n,r){return Wo(this.multi,[])}function $o(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Wo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Wo(i,s);return s}function Wo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Qo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ut();if(r.firstCreatePass){const i=ut(t);Ho(n,r.data,r.blueprint,i,!0),Ho(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Xo{}class Zo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Yo=(()=>{class t{}return t.NULL=new Zo,t})();function Jo(...t){}function ta(t,e){return new na(At(t,e))}const ea=function(){return ta(zt(),Bt())};let na=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ea,t})();class ra{}let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>sa(),t})();const sa=function(){const t=Bt(),e=It(zt().index,t);return function(t){return t[11]}(it(e)?e:t)};let oa=(()=>{class t{}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>null}),t})();class aa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ca=new aa("11.0.9");class ua{constructor(){}supports(t){return Ms(t)}create(t){return new ha(t)}}const la=(t,e)=>e;class ha{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||la}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ma(n,r,i)?e:n,o=ma(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ms(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ds()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new da(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class da{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class pa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new fa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ma(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ga{constructor(){}supports(t){return t instanceof Map||Ns(t)}create(){return new ba}}class ba{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ns(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ya(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ya{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bn,new mn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new ua])}),t})(),_a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bn,new mn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new ga])}),t})();function wa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(St(s)),st(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&wa(e[1],e,n,r)}const o=n.type;if(8&o)wa(t,e,n.child,r);else if(32&o){const t=Tr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Pr(t);wa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Oa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return wa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(st(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Nr(t,n),un(e,n))}this._attachedToViewContainer=!1}Fr(this._lView[1],this._lView)}onDestroy(t){Di(this._lView[1],this._lView,null,t)}markForCheck(){Yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ji(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Qt(!0);try{Ji(t,e,n)}finally{Qt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class xa extends Oa{constructor(t){super(t),this._view=t}detectChanges(){ts(this._view)}checkNoChanges(){!function(t){Qt(!0);try{ts(t)}finally{Qt(!1)}}(this._view)}get context(){return null}}const Ca=Sa;let ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ca,t.__ChangeDetectorRef__=!0,t})();function Sa(t=!1){return function(t,e,n){if(!n&&at(t)){const n=It(t.index,e);return new Oa(n,n)}return 47&t.type?new Oa(e[16],e):null}(zt(),Bt(),t)}const Ea=[new ga],Aa=new va([new ua]),Ta=new _a(Ea),Pa=function(){return Da(zt(),Bt())};let Ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pa,t})();const ja=Ia,Ra=class extends ja{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Oi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ki(e,n,t),new Oa(n)}};function Da(t,e){return 4&t.type?new Ra(e,t,ta(t,e)):null}class La{}class Ma{}const Na=function(){return za(zt(),Bt())};let Fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Na,t})();const Va=Fa,Ba=class extends Va{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ta(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(Pe(t)){const e=je(t,this._hostLView),n=Ie(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ua(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(La,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(st(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ba(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],cn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Qr(i,s),a=n[11],c=qr(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Zr(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),cn(Ha(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ua(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);n&&(un(Ha(this._lContainer),e),Fr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);return n&&null!=un(Ha(this._lContainer),e)?new Oa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ua(t){return t[8]}function Ha(t){return t[8]||(t[8]=[])}function za(t,e){let n;const r=e[t.index];if(st(r))n=r;else{let i;if(8&t.type)i=St(r);else{const n=e[11];i=n.createComment("");const r=At(t,e);Ur(n,qr(n,r),i,function(t,e){return Ct(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Zi(e,n)}return new Ba(n,t,e)}const qa={};class Ga extends Yo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nt(t);return new Wa(e,this.ngModule)}}function Ka(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const $a=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kr});class Wa extends Xo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ka(this.componentDef.inputs)}get outputs(){return Ka(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,qa,i);return s!==qa||r===qa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ra,kt),o=i.get(oa,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Ct(t))return t.selectRootElement(e,n===I.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Lr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:kr,clean:ns,playerHandler:null,flags:0},d=Ri(0,null,null,1,0,null,null,null,null,null),f=Oi(null,d,h,l,null,null,s,a,o,i);let p,m;ae(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=xi(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(us(a,c,!0),null!==t&&(ke(i,t,c),null!==a.classes&&ti(i,t,a.classes),null!==a.styles&&Jr(i,t,a.styles)));const u=r.createRenderer(t,e),l=Oi(n,ji(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&(Be(Me(a,n),o,e.type),Bi(o,a),Hi(a,n.length,1)),Zi(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)ke(a,u,["ng-version",ca.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!oi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,u,t),e&&e.length>0&&ti(a,u,e.join(" "))}if(m=Tt(d,20),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zi(t,r,e,Ci(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);Cr(i,e);const s=At(r,e);return s&&Cr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=zt();e.contentQueries(1,o,t.directiveStart)}const a=zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),Fi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Vi(e,o)),o}(t,this.componentDef,f,h,[Es]),ki(d,f,null)}finally{de()}return new Qa(this.componentType,p,ta(m,f),f,m)}}class Qa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new xa(r),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Xa=new Map;class Za extends La{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ga(this);const n=rt(t),r=t[z]||null;r&&Uo(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=ys(t,e,[{provide:La,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ss.THROW_IF_NOT_FOUND,n=k.Default){return t===Ss||t===La||t===ls?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ya extends Ma{constructor(t){super(),this.moduleType=t,null!==rt(t)&&function(t){const e=new Set;!function t(n){const r=rt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Xa.get(i),n),Xa.set(i,n));const s=Er(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Za(this.moduleType,t)}}function Ja(t,e,n){const r=Xt()+t,i=Bt();return i[r]===di?Fs(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function tc(t,e,n,r){return rc(Bt(),Xt(),t,e,n,r)}function ec(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return Bs(t,a,i,s)?Fs(t,a+2,o?r.call(o,i,s):r(i,s)):nc(t,a+2)}(Bt(),Xt(),t,e,n,r,i)}function nc(t,e){const n=t[e];return n===di?void 0:n}function rc(t,e,n,r,i,s){const o=e+n;return Vs(t,o,i)?Fs(t,o+1,s?r.call(s,i):r(i)):nc(t,o+1)}function ic(t,e){const n=Ut();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new ht("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=lt(r.type)),o=E(Gs);try{const t=De(!1),e=s();return De(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Bt(),i,e),e}finally{E(o)}}function sc(t,e,n){const r=t+20,i=Bt(),s=Pt(i,r);return function(t,e){return Ls.isWrapped(e)&&(e=Ls.unwrap(e),t[Zt()]=di),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?rc(i,Xt(),e,s.transform,n,s):s.transform(n))}const oc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function ac(){return this._results[Ds()]()}class cc{constructor(){this.dirty=!0,this._results=[],this.changes=new oc,this.length=0;const t=Ds(),e=cc.prototype;e[t]||(e[t]=ac)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=on(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class uc{constructor(t){this.queryList=t,this.matches=null}clone(){return new uc(this.queryList)}setDirty(){this.queryList.setDirty()}}class lc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new lc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Sc(t,e).matches&&this.queries[e].setDirty()}}class hc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class dc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new dc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new fc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,pc(e,i)),this.matchTNodeWithReadOption(t,e,$e(e,t,i,!1,!1))}else n===Ia?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,$e(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===na||r===Fa||r===Ia&&4&e.type)this.addMatch(e.index,-2);else{const n=$e(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function pc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function mc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ta(t,e):4&t.type?Da(t,e):null}(e,t):-2===n?function(t,e,n){return n===na?ta(e,t):n===Ia?Da(e,t):n===Fa?za(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function gc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:mc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function bc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=gc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&bc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];bc(n[1],n,i,r)}}}}}return r}function yc(t){const e=Bt(),n=Ut(),r=re();ie(r+1);const i=Sc(n,r);if(t.dirty&&Rt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?bc(n,e,r,[]):gc(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function vc(t,e,n){wc(Ut(),Bt(),t,e,n,!0)}function _c(t,e,n){wc(Ut(),Bt(),t,e,n,!1)}function wc(t,e,n,r,i,s){t.firstCreatePass&&(kc(t,new hc(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),Cc(t,e)}function Oc(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(kc(t,new hc(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),Cc(t,e)}(Ut(),Bt(),e,n,r,0,zt(),t)}function xc(){return t=Bt(),e=re(),t[19].queries[e].queryList;var t,e}function Cc(t,e){const n=new cc;Di(t,e,n,n.destroy),null===e[19]&&(e[19]=new lc),e[19].queries.push(new uc(n))}function kc(t,e,n){null===t.queries&&(t.queries=new dc),t.queries.track(new fc(e,n))}function Sc(t,e){return t.queries.getByIndex(e)}function Ec(t,e){return Da(t,e)}function Ac(t=k.Default){const e=Sa(!0);if(null!=e||t&k.Optional)return e;pt("ChangeDetectorRef")}const Tc=new nn("Application Initializer");let Pc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Jo,this.reject=Jo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();eo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(kn(Tc,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const Ic=new nn("AppId"),jc={provide:Ic,useFactory:function(){return`${Rc()}${Rc()}${Rc()}`},deps:[]};function Rc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Dc=new nn("Platform Initializer"),Lc=new nn("Platform ID"),Mc=new nn("appBootstrapListener");let Nc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const Fc=new nn("LocaleId"),Vc=new nn("DefaultCurrencyCode");class Bc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Uc=function(t){return new Ya(t)},Hc=Uc,zc=function(t){return Promise.resolve(Uc(t))},qc=function(t){const e=Uc(t),n=Er(rt(t).declarations).reduce((t,e)=>{const n=nt(e);return n&&t.push(new Wa(n)),t},[]);return new Bc(e,n)},Gc=qc,Kc=function(t){return Promise.resolve(qc(t))};let $c=(()=>{class t{constructor(){this.compileModuleSync=Hc,this.compileModuleAsync=zc,this.compileModuleAndAllComponentsSync=Gc,this.compileModuleAndAllComponentsAsync=Kc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const Wc=(()=>Promise.resolve(0))();function Qc(t){"undefined"==typeof Zone?Wc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Xc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oc(!1),this.onMicrotaskEmpty=new oc(!1),this.onStable=new oc(!1),this.onError=new oc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jc(t),Yc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return tu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),eu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return tu(t),e.invoke(r,i,s,o,a)}finally{eu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Jc(t),Yc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Zc,Jo,Jo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Zc={};function Yc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function tu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eu(t){t._nesting--,Yc(t)}class nu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oc,this.onMicrotaskEmpty=new oc,this.onStable=new oc,this.onError=new oc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ru=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xc.assertNotInAngularZone(),Qc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(kn(Xc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})(),iu=(()=>{class t{constructor(){this._applications=new Map,cu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return cu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();class su{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ou(t){cu=t}let au,cu=new su,uu=!0,lu=!1;function hu(){return lu=!0,uu}function du(){if(lu)throw new Error("Cannot enable prod mode after platform setup.");uu=!1}const fu=new nn("AllowMultipleToken");class pu{constructor(t,e){this.name=t,this.token=e}}function mu(t,e,n=[]){const r="Platform: "+e,i=new nn(r);return(e=[])=>{let s=gu();if(!s||s.injector.get(fu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(au&&!au.destroyed&&!au.injector.get(fu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");au=t.get(bu);const e=t.get(Dc,null);e&&e.forEach(t=>t())}(Ss.create({providers:t,name:r}))}return function(t){const e=gu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function gu(){return au&&!au.destroyed?au:null}let bu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new nu:("zone.js"===t?void 0:t)||new Xc({enableLongStackTrace:hu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Xc,useValue:n}];return n.run(()=>{const e=Ss.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(xr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{_u(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return eo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Pc);return t.runInitializers(),t.donePromise.then(()=>(Uo(i.injector.get(Fc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=yu({},e);return function(t,e,n){const r=new Ya(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(vu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(kn(Ss))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function yu(t,e){return Array.isArray(e)?e.reduce(yu,t):Object.assign(Object.assign({},t),e)}let vu=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Xc.assertNotInAngularZone(),Qc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Xc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Xo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(La),i=n.create(Ss.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(ru,null),a=o&&i.injector.get(iu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),_u(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),hu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;_u(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Mc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(kn(Xc),kn(Nc),kn(Ss),kn(xr),kn(Yo),kn(Pc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function _u(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class wu{}class Ou{}const xu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Cu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||xu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ku(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ku(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(kn($c),kn(Ou,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function ku(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Su=function(t){return null},Eu=mu(null,"core",[{provide:Lc,useValue:"unknown"},{provide:bu,deps:[Ss]},{provide:iu,deps:[]},{provide:Nc,deps:[]}]),Au=[{provide:vu,useClass:vu,deps:[Xc,Nc,Ss,xr,Yo,Pc]},{provide:$a,deps:[Xc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Pc,useClass:Pc,deps:[[new mn,Tc]]},{provide:$c,useClass:$c,deps:[]},jc,{provide:va,useFactory:function(){return Aa},deps:[]},{provide:_a,useFactory:function(){return Ta},deps:[]},{provide:Fc,useFactory:function(t){return Uo(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new pn(Fc),new mn,new bn]]},{provide:Vc,useValue:"USD"}];let Tu=(()=>{class t{constructor(t){}}return t.\u0275mod=Z({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(kn(vu))},providers:Au}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function l(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(r,e));const i=Object.create(n,c);return i.source=n,i.subjectFactory=r,i}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return c}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return m});var r=n("30Go");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?y(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new g(i,a,r);return c},t}();function y(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function x(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.q("angularfire2.app.options"),v=new c.q("angularfire2.app.nameOrConfig"),_=new c.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&x("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{x("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},x=(t,...e)=>{Object(c.W)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&x("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const k={provide:class{},useFactory:w,deps:[y,c.z,[new c.A,v]]};let S=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)(c.Tb(c.B))},providers:[k]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("oB13"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>Object(i.a)()(Object(r.a)(o)(t))}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new c.b("@firebase/app"),f=function(){function t(t,e,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return c},"PUBLIC"));try{for(var u=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&c.push("and"),o&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}u(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){c={error:g}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(f);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(y),e.a=y},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Tb)(l)}const u=new r.q("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Tb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Tb)(o).location;return new v(Object(r.Tb)(a),e&&e.origin||"")}const y=new r.q("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(y,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(y,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(g),r.Tb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Gb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new w(Object(r.Tb)(g),Object(r.Tb)(a))}function x(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const k=r.nb;class S{}let E=(()=>{class t extends S{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(k(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.vb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.s),r.Kb(r.t),r.Kb(r.l),r.Kb(r.E))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class T{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new T(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new I(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new I(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class I{constructor(t,e){this.record=t,this.view=e}}let j=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}class L{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let M=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),N=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new L(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(M,1))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})();class F{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class V{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const B=new V,U=new F;let H=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.sb)(e))return B;if(Object(r.rb)(e))return U;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb())},t.\u0275pipe=r.Jb({name:"async",type:t,pure:!1}),t})(),z=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:S,useClass:E}]}),t})();function q(t){return"browser"===t}function G(t){return"server"===t}let K=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new $(Object(r.Tb)(o),window)}),t})();class ${constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=W(this.window.history)||W(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function W(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Q,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Z||(Z=document.querySelector("base"),Z)?Z.getAttribute("href"):null;return null==e?null:(n=e,X||(X=document.createElement("a")),X.setAttribute("href",n),"/"===X.pathname.charAt(0)?X.pathname:"/"+X.pathname);var n}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let X,Z=null;const Y=new r.q("TRANSITION_ID"),J=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,o,r.r],multi:!0}];class tt{static init(){Object(r.Y)(new tt)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const et=new r.q("EventManagerPlugins");let nt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(et),r.Tb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let it=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),st=(()=>{class t extends it{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function ct(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ct(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let lt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ht(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new dt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ct(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(nt),r.Tb(st),r.Tb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class ht{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ot[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ut(n)):this.eventManager.addEventListener(t,e,ut(n))}}class dt extends ht{constructor(t,e,n,r){super(t),this.component=n;const i=ct(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(at,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(at,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ft extends ht{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ct(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pt=(()=>{class t extends rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const mt=["alt","control","meta","shift"],gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vt=(()=>{class t extends rt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(mt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&bt.hasOwnProperty(e)&&(e=bt[e]))}return gt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),mt.forEach(r=>{r!=n&&(0,yt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return Object(r.Tb)(wt)},token:t,providedIn:"root"}),t})(),wt=(()=>{class t extends _t{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.eb)(e,"HTML")?Object(r.wb)(e):Object(r.cb)(this._doc,String(e));case r.I.STYLE:return Object(r.eb)(e,"Style")?Object(r.wb)(e):e;case r.I.SCRIPT:if(Object(r.eb)(e,"Script"))return Object(r.wb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.ob)(e),Object(r.eb)(e,"URL")?Object(r.wb)(e):Object(r.db)(String(e));case r.I.RESOURCE_URL:if(Object(r.eb)(e,"ResourceURL"))return Object(r.wb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.fb)(t)}bypassSecurityTrustStyle(t){return Object(r.ib)(t)}bypassSecurityTrustScript(t){return Object(r.hb)(t)}bypassSecurityTrustUrl(t){return Object(r.jb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.gb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return t=Object(r.Tb)(r.o),new wt(t.get(o));var t},token:t,providedIn:"root"}),t})();const Ot=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Q.makeCurrent(),tt.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],xt=Object(r.S)(r.X,"browser",Ot),Ct=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:et,useClass:pt,multi:!0,deps:[o,r.z,r.B]},{provide:et,useClass:vt,multi:!0,deps:[o]},[],{provide:lt,useClass:lt,deps:[nt,st,r.c]},{provide:r.F,useExisting:lt},{provide:it,useExisting:st},{provide:st,useClass:st,deps:[o]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:nt,useClass:nt,deps:[et,r.z]},[]];let kt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},J]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Tb(t,12))},providers:Ct,imports:[z,r.f]}),t})();function St(){return new Et(Object(r.Tb)(o))}let Et=(()=>{class t{constructor(t){this._doc=t,this._dom=s()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._doc.querySelectorAll(`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");return this._setMetaElementAttributes(t,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>e.setAttribute(this._getMetaKeyMap(n),t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>e.getAttribute(this._getMetaKeyMap(n))===t[n])}_getMetaKeyMap(t){return At[t]||t}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:St,token:t,providedIn:"root"}),t})();const At={httpEquiv:"http-equiv"};function Tt(){return new Pt(Object(r.Tb)(o))}let Pt=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:Tt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var It=n("Cfvw"),jt=n("LRne"),Rt=n("XNiG"),Dt=n("9ppp");class Lt extends Rt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Dt.a;return this._value}next(t){super.next(this._value=t)}}var Mt=n("z+Ro"),Nt=n("DH7j"),Ft=n("7o/Q");class Vt extends Ft.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Bt extends Ft.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ut=n("SeVD"),Ht=n("HDdC");function zt(t,e,n,r,i=new Bt(t,n,r)){if(!i.closed)return e instanceof Ht.a?e.subscribe(i):Object(Ut.a)(e)(i)}var qt=n("yCtX");const Gt={};function Kt(...t){let e=void 0,n=void 0;return Object(Mt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Nt.a)(t[0])&&(t=t[0]),Object(qt.a)(t,n).lift(new $t(e))}class $t{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Wt(t,this.resultSelector))}}class Wt extends Vt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Gt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(zt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Gt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Qt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Xt=n("bHdf");function Zt(...t){return Object(Xt.a)(1)(Object(jt.a)(...t))}var Yt=n("EY2u");function Jt(t){return new Ht.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(It.a)(n):Object(Yt.b)()).subscribe(e)})}var te=n("lJxs"),ee=n("zx2A");function ne(t,e){return"function"==typeof e?n=>n.pipe(ne((n,r)=>Object(It.a)(t(n,r)).pipe(Object(te.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new re(t))}class re{constructor(t){this.project=t}call(t,e){return e.subscribe(new ie(t,this.project))}}class ie extends ee.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new ee.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(ee.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const se=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function oe(t){return e=>0===t?Object(Yt.b)():e.lift(new ae(t))}class ae{constructor(t){if(this.total=t,this.total<0)throw new se}call(t,e){return e.subscribe(new ce(t,this.total))}}class ce extends Ft.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ue(...t){const e=t[t.length-1];return Object(Mt.a)(e)?(t.pop(),n=>Zt(t,n,e)):e=>Zt(t,e)}function le(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new he(t,e,n))}}class he{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new de(t,this.accumulator,this.seed,this.hasSeed))}}class de extends Ft.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function fe(t,e){return function(n){return n.lift(new pe(t,e))}}class pe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new me(t,this.predicate,this.thisArg))}}class me extends Ft.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ge(t){return function(e){const n=new be(t),r=e.lift(n);return n.caught=r}}class be{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ye(t,this.selector,this.caught))}}class ye extends ee.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ee.a(this);this.add(r);const i=Object(ee.c)(n,r);i!==r&&this.add(i)}}}var ve=n("5+tZ");function _e(t,e){return Object(ve.a)(t,e,1)}function we(t){return function(e){return 0===t?Object(Yt.b)():e.lift(new Oe(t))}}class Oe{constructor(t){if(this.total=t,this.total<0)throw new se}call(t,e){return e.subscribe(new xe(t,this.total))}}class xe extends Ft.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ce(t=Ee){return e=>e.lift(new ke(t))}class ke{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Se(t,this.errorFactory))}}class Se extends Ft.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(av){t=av}this.destination.error(t)}}}function Ee(){return new Qt}function Ae(t=null){return e=>e.lift(new Te(t))}class Te{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Pe(t,this.defaultValue))}}class Pe extends Ft.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ie=n("SpAZ");function je(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fe((e,n)=>t(e,n,r)):Ie.a,oe(1),n?Ae(e):Ce(()=>new Qt))}var Re=n("vkgz"),De=n("quSY");function Le(t){return e=>e.lift(new Me(t))}class Me{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ne(t,this.callback))}}class Ne extends Ft.a{constructor(t,e){super(t),this.add(new De.a(e))}}class Fe{constructor(t,e){this.id=t,this.url=e}}class Ve extends Fe{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Be extends Fe{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ue extends Fe{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class He extends Fe{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ze extends Fe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends Fe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends Fe{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ke extends Fe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e extends Fe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ze{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ye{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class en{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function nn(t){return new en(t)}function rn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function sn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function on(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!an(t[i],e[i]))return!1;return!0}function an(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function cn(t){return Array.prototype.concat.apply([],t)}function un(t){return t.length>0?t[t.length-1]:null}function ln(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function hn(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(It.a)(Promise.resolve(t)):Object(jt.a)(t)}function dn(t,e,n){return n?function(t,e){return on(t,e)}(t.queryParams,e.queryParams)&&fn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>an(t[n],e[n]))}(t.queryParams,e.queryParams)&&pn(t.root,e.root)}function fn(t,e){if(!vn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!fn(t.children[n],e.children[n]))return!1}return!0}function pn(t,e){return mn(t,e,e.segments)}function mn(t,e,n){if(t.segments.length>n.length)return!!vn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!vn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!pn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!vn(t.segments,r)&&!!t.children.primary&&mn(t.children.primary,e,i)}}class gn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return On.serialize(this)}}class bn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ln(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xn(this)}}class yn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=nn(this.parameters)),this._parameterMap}toString(){return Pn(this)}}function vn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class _n{}class wn{parse(t){const e=new Ln(t);return new gn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Cn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Sn(e)}=${Sn(t)}`).join("&"):`${Sn(e)}=${Sn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const On=new wn;function xn(t){return t.segments.map(t=>Pn(t)).join("/")}function Cn(t,e){if(!t.hasChildren())return xn(t);if(e){const e=t.children.primary?Cn(t.children.primary,!1):"",n=[];return ln(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${Cn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ln(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),ln(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[Cn(t.children.primary,!1)]:[`${n}:${Cn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${xn(t)}/${e[0]}`:`${xn(t)}/(${e.join("//")})`}}function kn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sn(t){return kn(t).replace(/%3B/gi,";")}function En(t){return kn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function An(t){return decodeURIComponent(t)}function Tn(t){return An(t.replace(/\+/g,"%20"))}function Pn(t){return`${En(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${En(t)}=${En(e[t])}`).join("")}`;var e}const In=/^[^\/()?;=#]+/;function jn(t){const e=t.match(In);return e?e[0]:""}const Rn=/^[^=?&#]+/,Dn=/^[^?&#]+/;class Ln{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new bn(t,e)),n}parseSegment(){const t=jn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new yn(An(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=jn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=jn(this.remaining);t&&(n=t,this.capture(n))}t[An(e)]=An(n)}parseQueryParam(t){const e=function(t){const e=t.match(Rn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Dn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Tn(e),i=Tn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=jn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new bn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Mn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Nn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Nn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Fn(t,this._root).map(t=>t.value)}}function Nn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Nn(t,n);if(e)return e}return null}function Fn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Fn(t,n);if(r.length)return r.unshift(e),r}return[]}class Vn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Un extends Mn{constructor(t,e){super(t),this.snapshot=e,$n(this,t)}toString(){return this.snapshot.toString()}}function Hn(t,e){const n=function(t,e){const n=new Gn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Kn("",new Vn(n,[]))}(t,e),r=new Lt([new yn("",{})]),i=new Lt({}),s=new Lt({}),o=new Lt({}),a=new Lt(""),c=new zn(r,i,o,a,s,"primary",e,n.root);return c.snapshot=n.root,new Un(new Vn(c,[]),n)}class zn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(te.a)(t=>nn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(te.a)(t=>nn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gn{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kn extends Mn{constructor(t,e){super(e),this.url=t,$n(this,e)}toString(){return Wn(this._root)}}function $n(t,e){e.value._routerState=t,e.children.forEach(e=>$n(t,e))}function Wn(t){const e=t.children.length>0?` { ${t.children.map(Wn).join(", ")} } `:"";return`${t.value}${e}`}function Qn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),on(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),on(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Xn(t,e){return on(t.params,e.params)&&function(t,e){return vn(t,e)&&t.every((t,n)=>on(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Xn(t.parent,e.parent))}function Zn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Zn(t,e,r);return Zn(t,e)})}(t,e,n);return new Vn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Yn(e,t),t}{const n=new zn(new Lt((r=e.value).url),new Lt(r.params),new Lt(r.queryParams),new Lt(r.fragment),new Lt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Zn(t,e));return new Vn(n,i)}}var r}function Yn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Yn(t.children[n],e.children[n])}function Jn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function tr(t){return"object"==typeof t&&null!=t&&t.outlets}function er(t,e,n,r,i){let s={};return r&&ln(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new gn(n.root===t?e:nr(n.root,t,e),s,i)}function nr(t,e,n){const r={};return ln(t.children,(t,i)=>{r[i]=t===e?n:nr(t,e,n)}),new bn(t.segments,r)}class rr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Jn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(tr);if(r&&r!==un(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ir{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function sr(t,e,n){if(t||(t=new bn([],{})),0===t.segments.length&&t.hasChildren())return or(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(tr(o))break;const a=""+o,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!lr(a,c,e))return s;r+=2}else{if(!lr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new bn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new bn(t.segments.slice(r.pathIndex),t.children),or(e,0,i)}return r.match&&0===i.length?new bn(t.segments,{}):r.match&&!t.hasChildren()?ar(t,e,n):r.match?or(t,0,i):ar(t,e,n)}function or(t,e,n){if(0===n.length)return new bn(t.segments,{});{const r=function(t){return tr(t[0])?t[0].outlets:{primary:t}}(n),i={};return ln(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=sr(t.children[r],e,n))}),ln(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new bn(t.segments,i)}}function ar(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(tr(s)){const t=cr(s.outlets);return new bn(r,t)}if(0===i&&Jn(n[0])){r.push(new yn(t.segments[e].path,n[0])),i++;continue}const o=tr(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Jn(a)?(r.push(new yn(o,ur(a))),i+=2):(r.push(new yn(o,{})),i++)}return new bn(r,{})}function cr(t){const e={};return ln(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ar(new bn([],{}),0,t))}),e}function ur(t){const e={};return ln(t,(t,n)=>e[n]=""+t),e}function lr(t,e,n){return t==n.path&&on(e,n.parameters)}class hr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Qn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Bn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ln(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Bn(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Bn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Je(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ze(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Qn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),dr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function dr(t){Qn(t.value),t.children.forEach(dr)}class fr{constructor(t,e){this.routes=t,this.module=e}}function pr(t){return"function"==typeof t}function mr(t){return t instanceof gn}const gr=Symbol("INITIAL_VALUE");function br(){return ne(t=>Kt(t.map(t=>t.pipe(oe(1),ue(gr)))).pipe(le((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==gr)return t;if(r===gr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||mr(r))return r}return t},t)},gr),fe(t=>t!==gr),Object(te.a)(t=>mr(t)?t:!0===t),oe(1)))}let yr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[hi]},encapsulation:2}),t})();function vr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];_r(r,wr(e,r))}}function _r(t,e){t.children&&vr(t.children,e)}function wr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Or(t){const e=t.children&&t.children.map(Or),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=yr),n}function xr(t){return t.outlet||"primary"}function Cr(t,e){const n=t.filter(t=>xr(t)===e);return n.push(...t.filter(t=>xr(t)!==e)),n}const kr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Sr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},kr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||sn)(n,t,e);if(!i)return Object.assign({},kr);const s={};ln(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Er(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Ar(t,e,n)&&"primary"!==xr(n))}(t,n,r)){const i=new bn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==xr(s)){const n=new bn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[xr(s)]=n}return i}(t,e,r,new bn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ar(t,e,n))}(t,n,r)){const s=new bn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Ar(t,n,a)&&!i[xr(a)]){const n=new bn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[xr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new bn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ar(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Tr(t,e,n,r){return!!(xr(t)===r||"primary"!==r&&Ar(e,n,t))&&("**"===t.path||Sr(e,t,n).matched)}function Pr(t,e,n){return 0===e.length&&!t.children[n]}class Ir{constructor(t){this.segmentGroup=t||null}}class jr{constructor(t){this.urlTree=t}}function Rr(t){return new Ht.a(e=>e.error(new Ir(t)))}function Dr(t){return new Ht.a(e=>e.error(new jr(t)))}function Lr(t){return new Ht.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Mr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=Er(this.urlTree.root,[],[],this.config).segmentGroup,e=new bn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(Object(te.a)(t=>this.createUrlTree(Nr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ge(t=>{if(t instanceof jr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ir)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(te.a)(e=>this.createUrlTree(Nr(e),t.queryParams,t.fragment))).pipe(ge(t=>{if(t instanceof Ir)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new bn([],{primary:t}):t;return new gn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(te.a)(t=>new bn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(It.a)(r).pipe(_e(r=>{const i=n.children[r],s=Cr(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(te.a)(t=>({segment:t,outlet:r})))}),le((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fe((e,n)=>t(e,n,r)):Ie.a,we(1),n?Ae(e):Ce(()=>new Qt))}())}expandSegment(t,e,n,r,i,s){return Object(It.a)(n).pipe(_e(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ge(t=>{if(t instanceof Ir)return Object(jt.a)(null);throw t}))),je(t=>!!t),ge((t,n)=>{if(t instanceof Qt||"EmptyError"===t.name){if(Pr(e,r,i))return Object(jt.a)(new bn([],{}));throw new Ir(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Tr(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Rr(e):Rr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Dr(i):this.lineralizeSegments(n,i).pipe(Object(ve.a)(n=>{const i=new bn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Sr(e,r,i);if(!o)return Rr(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Dr(l):this.lineralizeSegments(r,l).pipe(Object(ve.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(te.a)(t=>(n._loadedConfig=t,new bn(r,{})))):Object(jt.a)(new bn(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Sr(e,n,r);if(!s)return Rr(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ve.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:u}=Er(e,o,c,s),l=new bn(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(te.a)(t=>new bn(o,t)));if(0===s.length&&0===u.length)return Object(jt.a)(new bn(o,{}));const h=xr(n)===i;return this.expandSegment(r,l,s,u,h?"primary":i,!0).pipe(Object(te.a)(t=>new bn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(jt.a)(new fr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(jt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ve.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(te.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ht.a(e=>e.error(rn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(jt.a)(new fr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(jt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&pr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!pr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return hn(s)});return Object(jt.a)(i).pipe(br(),Object(Re.a)(t=>{if(!mr(t))return;const e=rn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(te.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(jt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Lr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new gn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ln(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return ln(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new bn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Nr(t){const e={};for(const n of Object.keys(t.children)){const r=Nr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new bn(t.segments.concat(e.segments),e.children)}return t}(new bn(t.segments,e))}class Fr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vr{constructor(t,e){this.component=t,this.route=e}}function Br(t,e,n){const r=t._root;return Hr(r,e?e._root:null,n,[r.value])}function Ur(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Hr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!vn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vn(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xn(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!Xn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Fr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Hr(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vr(a.outlet.component,o))}else o&&zr(e,a,i),i.canActivateChecks.push(new Fr(r)),Hr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),ln(s,(t,e)=>zr(t,n.getContext(e),i)),i}function zr(t,e,n){const r=Bn(t),i=t.value;ln(r,(t,r)=>{zr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Vr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class qr{}function Gr(t){return new Ht.a(e=>e.error(t))}class Kr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Er(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new Gn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vn(n,e),i=new Kn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=qn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Cr(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!$r(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Pr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Tr(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?un(n).parameters:{};i=new Gn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xr(t),xr(t),t.component,t,Wr(e),Qr(e)+n.length,Zr(t))}else{const r=Sr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Gn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xr(t),xr(t),t.component,t,Wr(e),Qr(e)+s.length,Zr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Er(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Vn(i,t)]}if(0===a.length&&0===u.length)return[new Vn(i,[])];const l=xr(t)===r,h=this.processSegment(a,c,u,l?"primary":r);return null===h?null:[new Vn(i,h)]}}function $r(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Wr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Xr(t){return t.data||{}}function Zr(t){return t.resolve||{}}function Yr(t){return ne(e=>{const n=t(e);return n?Object(It.a)(n).pipe(Object(te.a)(()=>e)):Object(jt.a)(e)})}class Jr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ti=new r.q("ROUTES");class ei{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(te.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new fr(cn(r.injector.get(ti)).map(Or),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(It.a)(this.loader.load(t)):hn(t()).pipe(Object(ve.a)(t=>t instanceof r.v?Object(jt.a)(t):Object(It.a)(this.compiler.compileModuleAsync(t))))}}class ni{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ri,this.attachRef=null}}class ri{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ni,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ii{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function si(t){throw t}function oi(t,e,n){return e.parse("/")}function ai(t,e){return Object(jt.a)(null)}let ci=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Rt.a,this.errorHandler=si,this.malformedUriErrorHandler=oi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ai,afterPreactivation:ai},this.urlHandlingStrategy=new ii,this.routeReuseStrategy=new Jr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const u=s.get(r.z);this.isNgZoneEnabled=u instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new gn(new bn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ei(o,a,t=>this.triggerEvent(new We(t)),t=>this.triggerEvent(new Qe(t))),this.routerState=Hn(this.currentUrlTree,this.rootComponentType),this.transitions=new Lt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(fe(t=>0!==t.id),Object(te.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ne(t=>{let n=!1,r=!1;return Object(jt.a)(t).pipe(Object(Re.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ne(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(jt.a)(t).pipe(ne(t=>{const n=this.transitions.getValue();return e.next(new Ve(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Yt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,ne(t=>function(t,e,n,r,i){return new Mr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(te.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Re.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ve.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Kr(t,e,n,r,i,s).recognize();return null===o?Gr(new qr):Object(jt.a)(o)}catch(av){return Gr(av)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(te.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Re.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Ve(n,this.serializeUrl(r),i,s);e.next(a);const c=Hn(r,this.rootComponentType).snapshot;return Object(jt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Yt.a}),Yr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Re.a)(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(te.a)(t=>Object.assign(Object.assign({},t),{guards:Br(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ve.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(jt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(It.a)(t).pipe(Object(ve.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(jt.a)(!0);const o=s.map(s=>{const o=Ur(s,e,i);let a;if(function(t){return t&&pr(t.canDeactivate)}(o))a=hn(o.canDeactivate(t,e,n,r));else{if(!pr(o))throw new Error("Invalid CanDeactivate guard");a=hn(o(t,e,n,r))}return a.pipe(je())});return Object(jt.a)(o).pipe(br())}(t.component,t.route,n,e,r)),je(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ve.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(It.a)(e).pipe(_e(e=>Zt(function(t,e){return null!==t&&e&&e(new Xe(t)),Object(jt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Ye(t)),Object(jt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Jt(()=>{const i=e.guards.map(i=>{const s=Ur(i,e.node,n);let o;if(function(t){return t&&pr(t.canActivateChild)}(s))o=hn(s.canActivateChild(r,t));else{if(!pr(s))throw new Error("Invalid CanActivateChild guard");o=hn(s(r,t))}return o.pipe(je())});return Object(jt.a)(i).pipe(br())}));return Object(jt.a)(i).pipe(br())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(jt.a)(!0);const i=r.map(r=>Jt(()=>{const i=Ur(r,e,n);let s;if(function(t){return t&&pr(t.canActivate)}(i))s=hn(i.canActivate(e,t));else{if(!pr(i))throw new Error("Invalid CanActivate guard");s=hn(i(e,t))}return s.pipe(je())}));return Object(jt.a)(i).pipe(br())}(t,e.route,n))),je(t=>!0!==t,!0))}(r,s,t,e):Object(jt.a)(n)),Object(te.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Re.a)(t=>{if(mr(t.guardsResult)){const e=rn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ge(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),fe(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Yr(t=>{if(t.guards.canActivateChecks.length)return Object(jt.a)(t).pipe(Object(Re.a)(t=>{const e=new Ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ne(t=>{let n=!1;return Object(jt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ve.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(jt.a)(t);let s=0;return Object(It.a)(n).pipe(_e(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(jt.a)({});const s={};return Object(It.a)(i).pipe(Object(ve.a)(i=>function(t,e,n,r){const i=Ur(t,e,r);return hn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Re.a)(t=>{s[i]=t}))),we(1),Object(ve.a)(()=>Object.keys(s).length===i.length?Object(jt.a)(s):Yt.a))}(t._resolve,t,e,r).pipe(Object(te.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),qn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Re.a)(()=>s++),we(1),Object(ve.a)(e=>s===n.length?Object(jt.a)(t):Yt.a))})),Object(Re.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Re.a)(t=>{const e=new $e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Yr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(te.a)(t=>{const e=function(t,e,n){const r=Zn(t,e._root,n?n._root:void 0);return new Un(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Re.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(te.a)(t=>(new hr(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(Re.a)({next(){n=!0},complete(){n=!0}}),Le(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),ge(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=mr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ue(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new He(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(El){t.reject(El)}}var i;return Yt.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){vr(t),this.config=t.map(Or),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return er(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new rr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ln(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new rr(n,e,r)}(n);if(s.toRoot())return er(e.root,new bn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ir(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ir(t,t===e.root,0)}const r=Jn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ir(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?or(o.segmentGroup,o.index,s.commands):sr(o.segmentGroup,o.index,s.commands);return er(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=mr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(av){e=this.malformedUriErrorHandler(av,this.urlSerializer,t)}return e}isActive(t,e){if(mr(t))return dn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return dn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.N),r.Tb(_n),r.Tb(ri),r.Tb(w),r.Tb(r.r),r.Tb(r.w),r.Tb(r.i),r.Tb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ui=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Rt.a,this.subscription=t.events.subscribe(t=>{t instanceof Be&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:li(this.skipLocationChange),replaceUrl:li(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:li(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ci),r.Kb(zn),r.Kb(g))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Sb("href",e.href,r.sc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function li(t){return""===t||!!t}let hi=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new di(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ri),r.Kb(r.Q),r.Kb(r.j),r.Ub("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class di{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===zn?this.route:t===ri?this.childContexts:this.parent.get(t,e)}}class fi{}class pi{preload(t,e){return Object(jt.a)(null)}}let mi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ei(e,n,e=>t.triggerEvent(new We(e)),e=>t.triggerEvent(new Qe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(fe(t=>t instanceof Be),_e(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(It.a)(n).pipe(Object(Xt.a)(),Object(te.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ve.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ci),r.Tb(r.w),r.Tb(r.i),r.Tb(r.r),r.Tb(fi))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),gi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ve?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Be&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new tn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ci),r.Tb(K),r.Tb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const bi=new r.q("ROUTER_CONFIGURATION"),yi=new r.q("ROUTER_FORROOT_GUARD"),vi=[w,{provide:_n,useClass:wn},{provide:ci,useFactory:function(t,e,n,r,i,o,a,c={},u,l){const h=new ci(null,t,e,n,r,i,o,cn(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[_n,ri,w,r.r,r.w,r.i,ti,bi,[class{},new r.A],[class{},new r.A]]},ri,{provide:zn,useFactory:function(t){return t.routerState.root},deps:[ci]},{provide:r.w,useClass:r.K},mi,pi,class{preload(t,e){return e().pipe(ge(()=>Object(jt.a)(null)))}},{provide:bi,useValue:{enableTracing:!1}}];function _i(){return new r.y("Router",ci)}let wi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[vi,ki(e),{provide:yi,useFactory:Ci,deps:[[ci,new r.A,new r.J]]},{provide:bi,useValue:n||{}},{provide:g,useFactory:xi,deps:[a,[new r.p(y),new r.A],bi]},{provide:gi,useFactory:Oi,deps:[ci,K,bi]},{provide:fi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:pi},{provide:r.y,multi:!0,useFactory:_i},[Si,{provide:r.d,multi:!0,useFactory:Ei,deps:[Si]},{provide:Ti,useFactory:Ai,deps:[Si]},{provide:r.b,multi:!0,useExisting:Ti}]]}}static forChild(e){return{ngModule:t,providers:[ki(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Tb(yi,8),r.Tb(ci,8))}}),t})();function Oi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new gi(t,e,n)}function xi(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function Ci(t){return"guarded"}function ki(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ti,multi:!0,useValue:t}]}let Si=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Rt.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ci),r=this.injector.get(bi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(jt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(bi),n=this.injector.get(mi),i=this.injector.get(gi),s=this.injector.get(ci),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function Ei(t){return t.appInitializer.bind(t)}function Ai(t){return t.bootstrapListener.bind(t)}const Ti=new r.q("Router Initializer");function Pi(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(av){s(av)}}function a(t){try{c(r.throw(t))}catch(av){s(av)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}var Ii=n("D0XW");function ji(){return t=>t.lift(new Ri)}class Ri{call(t,e){return e.subscribe(new Di(t))}}class Di extends Ft.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Li(t,e){return n=>n.lift(new Mi(t,e))}class Mi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ni(t,this.compare,this.keySelector))}}class Ni extends Ft.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Fi=n("pxpQ"),Vi=n("spgP"),Bi=n("Jgta"),Ui=n("zIRd"),Hi=n("q/0M"),zi=n("qOnz"),qi=function(t,e){return(qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Gi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ki,$i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wi=Wi||{},Qi=$i||self;function Xi(){}function Zi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Yi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ji="closure_uid_"+(1e9*Math.random()>>>0),ts=0;function es(t,e,n){return t.call.apply(t.bind,arguments)}function ns(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function rs(t,e,n){return(rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?es:ns).apply(null,arguments)}function is(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ss(){return Date.now()}function os(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function as(){this.j=this.j,this.i=this.i}as.prototype.j=!1,as.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ji)&&t[Ji]||(t[Ji]=++ts)}(this)},as.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var cs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},us=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ls(t){return Array.prototype.concat.apply([],arguments)}function hs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ds(t){return/^[\s\xa0]*$/.test(t)}var fs,ps=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ms(t,e){return-1!=t.indexOf(e)}function gs(t,e){return t<e?-1:t>e?1:0}t:{var bs=Qi.navigator;if(bs){var ys=bs.userAgent;if(ys){fs=ys;break t}}fs=""}function vs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function _s(t){var e={};for(var n in t)e[n]=t[n];return e}var ws="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Os(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<ws.length;s++)n=ws[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xs(t){return xs[" "](t),t}xs[" "]=Xi;var Cs,ks,Ss=ms(fs,"Opera"),Es=ms(fs,"Trident")||ms(fs,"MSIE"),As=ms(fs,"Edge"),Ts=As||Es,Ps=ms(fs,"Gecko")&&!(ms(fs.toLowerCase(),"webkit")&&!ms(fs,"Edge"))&&!(ms(fs,"Trident")||ms(fs,"MSIE"))&&!ms(fs,"Edge"),Is=ms(fs.toLowerCase(),"webkit")&&!ms(fs,"Edge");function js(){var t=Qi.document;return t?t.documentMode:void 0}t:{var Rs="",Ds=(ks=fs,Ps?/rv:([^\);]+)(\)|;)/.exec(ks):As?/Edge\/([\d\.]+)/.exec(ks):Es?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ks):Is?/WebKit\/(\S+)/.exec(ks):Ss?/(?:Version)[ \/]?(\S+)/.exec(ks):void 0);if(Ds&&(Rs=Ds?Ds[1]:""),Es){var Ls=js();if(null!=Ls&&Ls>parseFloat(Rs)){Cs=String(Ls);break t}}Cs=Rs}var Ms={};function Ns(t){return function(t,e){var n=Ms;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ps(String(Cs)).split("."),r=ps(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=gs(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||gs(0==o[2].length,0==a[2].length)||gs(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Fs=Qi.document&&Es&&(js()||parseInt(Cs,10))||void 0,Vs=!Es||9<=Number(Fs),Bs=Es&&!Ns("9"),Us=function(){if(!Qi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Qi.addEventListener("test",Xi,e),Qi.removeEventListener("test",Xi,e)}catch(n){}return t}();function Hs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function zs(t,e){if(Hs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ps){t:{try{xs(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Hs.prototype.b=function(){this.defaultPrevented=!0},os(zs,Hs);var qs={2:"touch",3:"pen",4:"mouse"};zs.prototype.b=function(){zs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Bs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Gs="closure_listenable_"+(1e6*Math.random()|0),Ks=0;function $s(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ks,this.Y=this.Z=!1}function Ws(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Qs(t){this.src=t,this.a={},this.b=0}function Xs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=cs(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ws(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Zs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Qs.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Zs(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new $s(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Ys="closure_lm_"+(1e6*Math.random()|0),Js={};function to(t,e,n,r,i){if(r&&r.once)return no(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)to(t,e[s],n,r,i);return null}return n=lo(n),t&&t[Gs]?t.va(e,n,Yi(r)?!!r.capture:!!r,i):eo(t,e,n,!1,r,i)}function eo(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Yi(i)?!!i.capture:!!i;if(o&&!Vs)return null;var a=co(t);if(a||(t[Ys]=a=new Qs(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=ao,e=Vs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Us||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(so(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function no(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)no(t,e[s],n,r,i);return null}return n=lo(n),t&&t[Gs]?t.wa(e,n,Yi(r)?!!r.capture:!!r,i):eo(t,e,n,!0,r,i)}function ro(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ro(t,e[s],n,r,i);else r=Yi(r)?!!r.capture:!!r,n=lo(n),t&&t[Gs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Zs(s=t.a[e],n,r,i))&&(Ws(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=co(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Zs(e,n,r,i)),(n=-1<t?e[t]:null)&&io(n))}function io(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Gs])Xs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(so(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=co(e))?(Xs(n,t),0==n.b&&(n.src=null,e[Ys]=null)):Ws(t)}}}function so(t){return t in Js?Js[t]:Js[t]="on"+t}function oo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&io(t),n.call(r,e)}function ao(t,e){if(t.Y)return!0;if(!Vs){if(!e)t:{e=["window","event"];for(var n=Qi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return oo(t,e=new zs(e,this))}return oo(t,new zs(e,this))}function co(t){return(t=t[Ys])instanceof Qs?t:null}var uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(t){return"function"==typeof t?t:(t[uo]||(t[uo]=function(e){return t.handleEvent(e)}),t[uo])}function ho(){as.call(this),this.c=new Qs(this),this.J=this,this.C=null}function fo(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Hs(e,t);else if(e instanceof Hs)e.target=e.target||t;else{var i=e;Os(e=new Hs(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=po(o,r,!0,e)&&i}if(i=po(o=e.a=t,r,!0,e)&&i,i=po(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=po(o=e.a=n[s],r,!1,e)&&i}function po(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Xs(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}os(ho,as),ho.prototype[Gs]=!0,(Ki=ho.prototype).addEventListener=function(t,e,n,r){to(this,t,e,n,r)},Ki.removeEventListener=function(t,e,n,r){ro(this,t,e,n,r)},Ki.G=function(){if(ho.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ws(n[r]);delete e.a[t],e.b--}}this.C=null},Ki.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ki.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var mo=Qi.JSON.stringify;function go(){this.b=this.a=null}var bo,yo=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new _o},function(t){t.reset()});function vo(){var t=Co,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function _o(){this.next=this.b=this.a=null}function wo(t){Qi.setTimeout(function(){throw t},0)}function Oo(t,e){bo||function(){var t=Qi.Promise.resolve(void 0);bo=function(){t.then(ko)}}(),xo||(bo(),xo=!0),Co.add(t,e)}go.prototype.add=function(t,e){var n=yo.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},_o.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},_o.prototype.reset=function(){this.next=this.b=this.a=null};var xo=!1,Co=new go;function ko(){for(var t;t=vo();){try{t.a.call(t.b)}catch(n){wo(n)}var e=yo;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}xo=!1}function So(t,e){ho.call(this),this.b=t||1,this.a=e||Qi,this.f=rs(this.Za,this),this.g=ss()}function Eo(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ao(t,e,n){if("function"==typeof t)n&&(t=rs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=rs(t.handleEvent,t)}return 2147483647<Number(e)?-1:Qi.setTimeout(t,e||0)}function To(t){t.a=Ao(function(){t.a=null,t.c&&(t.c=!1,To(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}os(So,ho),(Ki=So.prototype).aa=!1,Ki.M=null,Ki.Za=function(){if(this.aa){var t=ss()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),fo(this,"tick"),this.aa&&(Eo(this),this.start()))}},Ki.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ss())},Ki.G=function(){So.X.G.call(this),Eo(this),delete this.a};var Po=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}qi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:To(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Qi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(as);function Io(t){as.call(this),this.b=t,this.a={}}os(Io,as);var jo=[];function Ro(t,e,n,r){Array.isArray(n)||(n&&(jo[0]=n.toString()),n=jo);for(var i=0;i<n.length;i++){var s=to(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Do(t){vs(t.a,function(t,e){this.a.hasOwnProperty(e)&&io(t)},t),t.a={}}function Lo(){this.a=!0}function Mo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return mo(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Io.prototype.G=function(){Io.X.G.call(this),Do(this)},Io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lo.prototype.info=function(){};var No={},Fo=null;function Vo(){return Fo=Fo||new ho}function Bo(t){Hs.call(this,No.Fa,t)}function Uo(t){var e=Vo();fo(e,new Bo(e,t))}function Ho(t,e){Hs.call(this,No.STAT_EVENT,t),this.stat=e}function zo(t){var e=Vo();fo(e,new Ho(e,t))}function qo(t){Hs.call(this,No.Ga,t)}function Go(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Qi.setTimeout(function(){t()},e)}No.Fa="serverreachability",os(Bo,Hs),No.STAT_EVENT="statevent",os(Ho,Hs),No.Ga="timingevent",os(qo,Hs);var Ko={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},$o={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Wo(){}function Qo(){}Wo.prototype.a=null;var Xo,Zo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Yo(){Hs.call(this,"d")}function Jo(){Hs.call(this,"c")}function ta(){}function ea(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Io(this),this.P=na,this.R=new So(t=Ts?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}os(Yo,Hs),os(Jo,Hs),os(ta,Wo),Xo=new ta;var na=45e3,ra={},ia={};function sa(t,e,n){t.H=1,t.i=Ea(wa(e)),t.j=n,t.I=!0,oa(t,null)}function oa(t,e){t.u=ss(),ua(t),t.l=wa(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ba(n.b,"t",r),t.D=0,t.a=Dc(t.g,t.g.C?e:null),0<t.O&&(t.F=new Po(rs(t.Ca,t,t.a),t.O)),Ro(t.J,t.a,"readystatechange",t.Xa),e=t.B?_s(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Uo(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function aa(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ca(t,n);if(i==ia){4==e&&(t.h=4,zo(14),r=!1),Mo(t.c,t.f,null,"[Incomplete Response]");break}if(i==ra){t.h=4,zo(15),Mo(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Mo(t.c,t.f,i,null),pa(t,i)}4==e&&0==n.length&&(t.h=1,zo(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sc(e),e.F=!0,zo(11))):(Mo(t.c,t.f,n,"[Invalid Chunked Response]"),fa(t),da(t))}function ca(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ia:(n=Number(e.substring(n,r)),isNaN(n)?ra:(r+=1)+n>e.length?ia:(e=e.substr(r,n),t.D=r+n,e))}function ua(t){t.T=ss()+t.P,la(t,t.P)}function la(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Go(rs(t.Va,t),e)}function ha(t){t.o&&(Qi.clearTimeout(t.o),t.o=null)}function da(t){0==t.g.v||t.A||Tc(t.g,t)}function fa(t){ha(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Eo(t.R),Do(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function pa(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||$a(n.b,t)))if(n.I=t.N,!t.C&&$a(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(vy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ac(n),bc(n)}kc(n),zo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Go(rs(n.Sa,n),6e3));if(1>=Ka(n.b)&&n.ea){try{n.ea()}catch(vy){}n.ea=void 0}}else Ic(n,11)}else if((t.C||n.a==t)&&Ac(n),!ds(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(ms(l,"spdy")||ms(l,"quic")||ms(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Wa(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Sa(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ss()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Rc(c,c.C?c.ga:null,c.fa),f.C){Qa(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(ha(p),ua(p)),c.a=f}else Cc(c);0<n.g.length&&_c(n)}else"stop"!=i[0]&&"close"!=i[0]||Ic(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ic(n,7):gc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Uo(4)}catch(vy){}}function ma(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zi(t)||"string"==typeof t)us(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Zi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Zi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ga(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ga)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ba(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ya(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ya(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ya(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ki=ea.prototype).setTimeout=function(t){this.P=t},Ki.Xa=function(t){t=t.target;var e=this.F;e&&3==dc(t)?e.f():this.Ca(t)},Ki.Ca=function(t){try{if(t==this.a)t:{var e=dc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ts&&!this.a.$())){this.A||4!=e||7==n||Uo(8==n||0>=r?3:2),ha(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ds(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,zo(12),fa(this),da(this);break t}Mo(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,pa(this,c)}this.I?(aa(this,e,s),Ts&&this.b&&3==e&&(Ro(this.J,this.R,"tick",this.Wa),this.R.start())):(Mo(this.c,this.f,s,null),pa(this,s)),4==e&&fa(this),this.b&&!this.A&&(4==e?Tc(this.g,this):(this.b=!1,ua(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,zo(12)):(this.h=0,zo(13)),fa(this),da(this)}}}catch(u){}},Ki.Wa=function(){if(this.a){var t=dc(this.a),e=this.a.$();this.D<e.length&&(ha(this),aa(this,t,e),this.b&&4!=t&&ua(this))}},Ki.cancel=function(){this.A=!0,fa(this)},Ki.Va=function(){this.o=null;var t=ss();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Uo(3),zo(17)),fa(this),this.h=2,da(this)):la(this,this.T-t)},(Ki=ga.prototype).K=function(){ba(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ki.L=function(){return ba(this),this.a.concat()},Ki.get=function(t,e){return ya(this.b,t)?this.b[t]:e},Ki.set=function(t,e){ya(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ki.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var va=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _a(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof _a){this.a=void 0!==e?e:t.a,Oa(this,t.f),this.j=t.j,xa(this,t.c),Ca(this,t.h),this.g=t.g,e=t.b;var n=new Ma;n.c=e.c,e.a&&(n.a=new ga(e.a),n.b=e.b),ka(this,n),this.i=t.i}else t&&(n=String(t).match(va))?(this.a=!!e,Oa(this,n[1]||"",!0),this.j=Aa(n[2]||""),xa(this,n[3]||"",!0),Ca(this,n[4]),this.g=Aa(n[5]||"",!0),ka(this,n[6]||"",!0),this.i=Aa(n[7]||"")):(this.a=!!e,this.b=new Ma(null,this.a))}function wa(t){return new _a(t)}function Oa(t,e,n){t.f=n?Aa(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xa(t,e,n){t.c=n?Aa(e,!0):e}function Ca(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ka(t,e,n){e instanceof Ma?(t.b=e,function(t,e){e&&!t.f&&(Na(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Fa(this,e),Ba(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ta(e,Da)),t.b=new Ma(e,t.a))}function Sa(t,e,n){t.b.set(e,n)}function Ea(t){return Sa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ss()).toString(36)),t}function Aa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ta(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_a.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ta(e,Ia,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ta(e,Ia,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ta(n,"/"==n.charAt(0)?Ra:ja,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ta(n,La)),t.join("")};var Ia=/[#\/\?@]/g,ja=/[#\?:]/g,Ra=/[#\?]/g,Da=/[#\?@]/g,La=/#/g;function Ma(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Na(t){t.a||(t.a=new ga,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Fa(t,e){Na(t),e=Ua(t,e),ya(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ya((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ba(t)))}function Va(t,e){return Na(t),e=Ua(t,e),ya(t.a.b,e)}function Ba(t,e,n){Fa(t,e),0<n.length&&(t.c=null,t.a.set(Ua(t,e),hs(n)),t.b+=n.length)}function Ua(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ki=Ma.prototype).add=function(t,e){Na(this),this.c=null,t=Ua(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ki.forEach=function(t,e){Na(this),this.a.forEach(function(n,r){us(n,function(n){t.call(e,n,r,this)},this)},this)},Ki.L=function(){Na(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Ki.K=function(t){Na(this);var e=[];if("string"==typeof t)Va(this,t)&&(e=ls(e,this.a.get(Ua(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ls(e,t[n])}return e},Ki.set=function(t,e){return Na(this),this.c=null,Va(this,t=Ua(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ki.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ki.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ha=function(){return function(t,e){this.b=t,this.a=e}}();function za(t){this.g=t||qa,t=Qi.PerformanceNavigationTiming?0<(t=Qi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Qi.ia&&Qi.ia.ya&&Qi.ia.ya()&&Qi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var qa=10;function Ga(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ka(t){return t.b?1:t.a?t.a.size:0}function $a(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Wa(t,e){t.a?t.a.add(e):t.b=e}function Qa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Xa(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Gi(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return hs(t.c)}function Za(){}function Ya(){this.a=new Za}function Ja(t,e,n){var r=n||"";try{ma(t,function(t,n){var i=t;Yi(t)&&(i=mo(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(av){throw e.push(r+"type="+encodeURIComponent("_badmap")),av}}function tc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}za.prototype.cancel=function(){var t,e;if(this.c=Xa(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Gi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Za.prototype.stringify=function(t){return Qi.JSON.stringify(t,void 0)},Za.prototype.parse=function(t){return Qi.JSON.parse(t,void 0)};var ec=Qi.JSON.parse;function nc(t){ho.call(this),this.headers=new ga,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=rc,this.D=this.F=!1}os(nc,ho);var rc="",ic=/^https?$/i,sc=["POST","PUT"];function oc(t){return"content-type"==t.toLowerCase()}function ac(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,cc(t),lc(t)}function cc(t){t.u||(t.u=!0,fo(t,"complete"),fo(t,"error"))}function uc(t){if(t.b&&void 0!==Wi&&(!t.s[1]||4!=dc(t)||2!=t.W()))if(t.l&&4==dc(t))Ao(t.za,0,t);else if(fo(t,"readystatechange"),4==dc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(va)[1]||null;if(!s&&Qi.self&&Qi.self.location){var o=Qi.self.location.protocol;s=o.substr(0,o.length-1)}i=!ic.test(s?s.toLowerCase():"")}e=i}if(e)fo(t,"complete"),fo(t,"success");else{t.h=6;try{var a=2<dc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",cc(t)}}finally{lc(t)}}}function lc(t,e){if(t.a){hc(t);var n=t.a,r=t.s[0]?Xi:null;t.a=null,t.s=null,e||fo(t,"ready");try{n.onreadystatechange=r}catch(av){}}}function hc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Qi.clearTimeout(t.m),t.m=null)}function dc(t){return t.a?t.a.readyState:0}function fc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return vs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Sa(t,e,n))}function pc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mc(t){this.pa=0,this.g=[],this.c=new Lo,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=pc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=pc("baseRetryDelayMs",5e3,t),this.Ra=pc("retryDelaySeedMs",1e4,t),this.Ma=pc("forwardChannelMaxRetries",2,t),this.ma=pc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new za(t&&t.concurrentRequestLimit),this.ka=new Ya,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function gc(t){if(yc(t),3==t.v){var e=t.R++,n=wa(t.B);Sa(n,"SID",t.J),Sa(n,"RID",e),Sa(n,"TYPE","terminate"),Oc(t,n),(e=new ea(t,t.c,e,void 0)).H=2,e.i=Ea(wa(n)),n=!1,Qi.navigator&&Qi.navigator.sendBeacon&&(n=Qi.navigator.sendBeacon(e.i.toString(),"")),!n&&Qi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Dc(e.g,null),e.a.ba(e.i)),e.u=ss(),ua(e)}jc(t)}function bc(t){t.a&&(Sc(t),t.a.cancel(),t.a=null)}function yc(t){bc(t),t.j&&(Qi.clearTimeout(t.j),t.j=null),Ac(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Qi.clearTimeout(t.h),t.h=null)}function vc(t,e){t.g.push(new Ha(t.Oa++,e)),3==t.v&&_c(t)}function _c(t){Ga(t.b)||t.h||(t.h=!0,Oo(t.Ba,t),t.u=0)}function wc(t,e){var n;n=e?e.f:t.R++;var r=wa(t.B);Sa(r,"SID",t.J),Sa(r,"RID",n),Sa(r,"AID",t.P),Oc(t,r),t.i&&t.l&&fc(r,t.i,t.l),n=new ea(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=xc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Wa(t.b,n),sa(n,r,e)}function Oc(t,e){t.f&&ma({},function(t,n){Sa(e,n,t)})}function xc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?rs(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{Ja(l,o,"req"+u+"_")}catch(gu){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Cc(t){t.a||t.j||(t.T=1,Oo(t.Aa,t),t.o=0)}function kc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Go(rs(t.Aa,t),Pc(t,t.o)),t.o++,0))}function Sc(t){null!=t.s&&(Qi.clearTimeout(t.s),t.s=null)}function Ec(t){t.a=new ea(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=wa(t.la);Sa(e,"RID","rpc"),Sa(e,"SID",t.J),Sa(e,"CI",t.H?"0":"1"),Sa(e,"AID",t.P),Oc(t,e),Sa(e,"TYPE","xmlhttp"),t.i&&t.l&&fc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ea(wa(e)),n.j=null,n.I=!0,oa(n,t)}function Ac(t){null!=t.m&&(Qi.clearTimeout(t.m),t.m=null)}function Tc(t,e){var n=null;if(t.a==e){Ac(t),Sc(t),t.a=null;var r=2}else{if(!$a(t.b,e))return;n=e.s,Qa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ss()-e.u;var i=t.u;fo(r=Vo(),new qo(r,n,e,i)),_c(t)}else Cc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ka(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Go(rs(t.Ba,t,e),Pc(t,t.u)),t.u++,0)))}(t,e)||2==r&&kc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ic(t,5);break;case 4:Ic(t,10);break;case 3:Ic(t,6);break;default:Ic(t,2)}}function Pc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ic(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=rs(t.Ya,t);n||(n=new _a("//www.google.com/images/cleardot.gif"),Qi.location&&"http"==Qi.location.protocol||Oa(n,"https"),Ea(n)),function(t,e){var n=new Lo;if(Qi.Image){var r=new Image;r.onload=is(tc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=is(tc,n,r,"TestLoadImage: error",!1,e),r.onabort=is(tc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=is(tc,n,r,"TestLoadImage: timeout",!1,e),Qi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else zo(2);t.v=0,t.f&&t.f.ra(e),jc(t),yc(t)}function jc(t){t.v=0,t.I=-1,t.f&&(0==Xa(t.b).length&&0==t.g.length||(t.b.c.length=0,hs(t.g),t.g.length=0),t.f.qa())}function Rc(t,e,n){var r=function(t){return t instanceof _a?wa(t):new _a(t,void 0)}(n);if(""!=r.c)e&&xa(r,e+"."+r.c),Ca(r,r.h);else{var i=Qi.location;r=function(t,e,n,r){var i=new _a(null,void 0);return t&&Oa(i,t),e&&xa(i,e),n&&Ca(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&vs(t.V,function(t,e){Sa(r,e,t)}),n=t.na,(e=t.A)&&n&&Sa(r,e,n),Sa(r,"VER",t.ha),Oc(t,r),r}function Dc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nc(t.Na)).F=t.C,e}function Lc(){}function Mc(){if(Es&&!(10<=Number(Fs)))throw Error("Environmental error: no available transport.")}function Nc(t,e){ho.call(this),this.a=new mc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ds(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ds(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Bc(this)}function Fc(t){Yo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Vc(){Jo.call(this),this.status=1}function Bc(t){this.a=t}(Ki=nc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Xo),this.a.onreadystatechange=rs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void ac(this,s)}t=n||"";var i=new ga(this.headers);r&&ma(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=oc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Qi.FormData&&t instanceof Qi.FormData,!(0<=cs(sc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{hc(this),0<this.o&&((this.D=function(t){return Es&&Ns(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=rs(this.xa,this)):this.m=Ao(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){ac(this,s)}},Ki.xa=function(){void 0!==Wi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,fo(this,"timeout"),this.abort(8))},Ki.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,fo(this,"complete"),fo(this,"abort"),lc(this))},Ki.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),lc(this,!0)),nc.X.G.call(this)},Ki.za=function(){this.j||(this.A||this.l||this.g?uc(this):this.Ua())},Ki.Ua=function(){uc(this)},Ki.W=function(){try{return 2<dc(this)?this.a.status:-1}catch(ks){return-1}},Ki.$=function(){try{return this.a?this.a.responseText:""}catch(ks){return""}},Ki.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ec(e)}},Ki.ua=function(){return this.h},Ki.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ki=mc.prototype).ha=8,Ki.v=1,Ki.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ea(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Os(r=_s(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=xc(this,n,e),Sa(i=wa(this.B),"RID",t),Sa(i,"CVER",22),this.A&&Sa(i,"X-HTTP-Session-Id",this.A),Oc(this,i),this.i&&r&&fc(i,this.i,r),Wa(this.b,n),this.Ia&&Sa(i,"TYPE","init"),this.da?(Sa(i,"$req",e),Sa(i,"SID","null"),n.U=!0,sa(n,i,null)):sa(n,i,e),this.v=2}}else 3==this.v&&(t?wc(this,t):0==this.g.length||Ga(this.b)||wc(this))},Ki.Aa=function(){if(this.j=null,Ec(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Go(rs(this.Ta,this),t)}},Ki.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,zo(10),bc(this),Ec(this))},Ki.Sa=function(){null!=this.m&&(this.m=null,bc(this),kc(this),zo(19))},Ki.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),zo(2)):(this.c.info("Failed to ping google.com"),zo(1))},(Ki=Lc.prototype).ta=function(){},Ki.sa=function(){},Ki.ra=function(){},Ki.qa=function(){},Ki.Ja=function(){},Mc.prototype.a=function(t,e){return new Nc(t,e)},os(Nc,ho),Nc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;zo(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Rc(t,null,t.fa),_c(t)},Nc.prototype.close=function(){gc(this.a)},Nc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,vc(this.a,e)}else this.l?((e={}).__data__=mo(t),vc(this.a,e)):vc(this.a,t)},Nc.prototype.G=function(){this.a.f=null,delete this.f,gc(this.a),delete this.a,Nc.X.G.call(this)},os(Fc,Yo),os(Vc,Jo),os(Bc,Lc),Bc.prototype.ta=function(){fo(this.a,"a")},Bc.prototype.sa=function(t){fo(this.a,new Fc(t))},Bc.prototype.ra=function(t){fo(this.a,new Vc(t))},Bc.prototype.qa=function(){fo(this.a,"b")},Mc.prototype.createWebChannel=Mc.prototype.a,Nc.prototype.send=Nc.prototype.h,Nc.prototype.open=Nc.prototype.g,Nc.prototype.close=Nc.prototype.close,Ko.NO_ERROR=0,Ko.TIMEOUT=8,Ko.HTTP_ERROR=6,$o.COMPLETE="complete",Qo.EventType=Zo,Zo.OPEN="a",Zo.CLOSE="b",Zo.ERROR="c",Zo.MESSAGE="d",ho.prototype.listen=ho.prototype.va,nc.prototype.listenOnce=nc.prototype.wa,nc.prototype.getLastError=nc.prototype.Qa,nc.prototype.getLastErrorCode=nc.prototype.ua,nc.prototype.getStatus=nc.prototype.W,nc.prototype.getResponseJson=nc.prototype.Pa,nc.prototype.getResponseText=nc.prototype.$,nc.prototype.send=nc.prototype.ba;var Uc=Ko,Hc=$o,zc=No,qc=Qo,Gc=nc,Kc=n("30Go"),$c=new Hi.b("@firebase/firestore");function Wc(){return $c.logLevel}function Qc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($c.logLevel<=Hi.a.DEBUG){var r=e.map(Yc);$c.debug.apply($c,Object(Kc.g)(["Firestore (8.2.4): "+t],r))}}function Xc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($c.logLevel<=Hi.a.ERROR){var r=e.map(Yc);$c.error.apply($c,Object(Kc.g)(["Firestore (8.2.4): "+t],r))}}function Zc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($c.logLevel<=Hi.a.WARN){var r=e.map(Yc);$c.warn.apply($c,Object(Kc.g)(["Firestore (8.2.4): "+t],r))}}function Yc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(av){return t}}function Jc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.4) INTERNAL ASSERTION FAILED: "+t;throw Xc(e),new Error(e)}function tu(t,e){t||Jc()}function eu(t,e){return t}function nu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ru=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=nu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function iu(t,e){return t<e?-1:t>e?1:0}function su(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ou(t){return t+"\0"}var au=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return iu(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();au.h=new au("");var cu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},uu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Kc.c)(e,t),e}(Error),lu=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(au.fromBase64String(e))}catch(e){throw new uu(cu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(au.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),hu=function(t){this._=t};function du(){if("undefined"==typeof Uint8Array)throw new uu(cu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function fu(){if("undefined"==typeof atob)throw new uu(cu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.fromBase64String=function(t){return fu(),new e(lu.fromBase64String(t))},e.fromUint8Array=function(t){return du(),new e(lu.fromUint8Array(t))},e.prototype.toBase64=function(){return fu(),this._.toBase64()},e.prototype.toUint8Array=function(){return du(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(hu),mu=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},gu=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),bu=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();bu.UNAUTHENTICATED=new bu(null),bu.P=new bu("google-credentials-uid"),bu.g=new bu("first-party-uid");var yu=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},vu=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(bu.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),_u=function(){function t(t){var e=this;this.C=null,this.currentUser=bu.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(Qc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(tu("string"==typeof n.accessToken),new yu(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return tu(null===t||"string"==typeof t),new bu(t)},t}(),wu=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=bu.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ou=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new wu(this.k,this.M))},t.prototype.S=function(t){t(bu.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),xu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();xu.U=-1;var Cu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new uu(cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new uu(cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new uu(cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new uu(cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?iu(this.nanoseconds,t.nanoseconds):iu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ku=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Cu(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Su=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Jc(),void 0===n?n=t.length-e:n>t.length-e&&Jc(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new uu(cu.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Su),Au=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Au.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new uu(cu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new uu(cu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new uu(cu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new uu(cu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Su),Pu=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Eu.ct(e))},t.dt=function(e){return new t(Eu.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Eu.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Eu.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Eu(e.slice()))},t}();function Iu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ju(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ru(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Du=function(){function t(t){this.fields=t,t.sort(Tu.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return su(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Lu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mu(t){if(tu(!!t),"string"==typeof t){var e=0,n=Lu.exec(t);if(tu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nu(t.seconds),nanos:Nu(t.nanos)}}function Nu(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Fu(t){return"string"==typeof t?au.fromBase64String(t):au.fromUint8Array(t)}function Vu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bu(t){var e=t.mapValue.fields.__previous_value__;return Vu(e)?Bu(e):e}function Uu(t){var e=Mu(t.mapValue.fields.__local_write_time__.timestampValue);return new Cu(e.seconds,e.nanos)}function Hu(t){return null==t}function zu(t){return 0===t&&1/t==-1/0}function qu(t){return"number"==typeof t&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Gu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vu(t)?4:10:Jc()}function Ku(t,e){var n=Gu(t);if(n!==Gu(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uu(t).isEqual(Uu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Mu(t.timestampValue),r=Mu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Fu(t.bytesValue).isEqual(Fu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Nu(t.geoPointValue.latitude)===Nu(e.geoPointValue.latitude)&&Nu(t.geoPointValue.longitude)===Nu(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Nu(t.integerValue)===Nu(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Nu(t.doubleValue),r=Nu(e.doubleValue);return n===r?zu(n)===zu(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return su(t.arrayValue.values||[],e.arrayValue.values||[],Ku);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Iu(n)!==Iu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ku(n[i],r[i])))return!1;return!0}(t,e);default:return Jc()}}function $u(t,e){return void 0!==(t.values||[]).find(function(t){return Ku(t,e)})}function Wu(t,e){var n=Gu(t),r=Gu(e);if(n!==r)return iu(n,r);switch(n){case 0:return 0;case 1:return iu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Nu(t.integerValue||t.doubleValue),r=Nu(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Qu(t.timestampValue,e.timestampValue);case 4:return Qu(Uu(t),Uu(e));case 5:return iu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Fu(t),r=Fu(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=iu(n[i],r[i]);if(0!==s)return s}return iu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=iu(Nu(t.latitude),Nu(e.latitude));return 0!==n?n:iu(Nu(t.longitude),Nu(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Wu(n[i],r[i]);if(s)return s}return iu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=iu(r[o],s[o]);if(0!==a)return a;var c=Wu(n[r[o]],i[s[o]]);if(0!==c)return c}return iu(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Jc()}}function Qu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return iu(t,e);var n=Mu(t),r=Mu(e),i=iu(n.seconds,r.seconds);return 0!==i?i:iu(n.nanos,r.nanos)}function Xu(t){return Zu(t)}function Zu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Mu(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fu(t.bytesValue).toBase64():"referenceValue"in t?Pu.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Zu(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Zu(t.fields[s])}return e+"}"}(t.mapValue):Jc();var e}function Yu(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Ju(t){return!!t&&"integerValue"in t}function tl(t){return!!t&&"arrayValue"in t}function el(t){return!!t&&"nullValue"in t}function nl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rl(t){return!!t&&"mapValue"in t}var il=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!rl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Ku(this.proto,t.proto)},t}(),sl=function(){function t(t){void 0===t&&(t=il.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Gu(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Tu.at(),this.Rt);return null!=t?new il(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=rl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function ol(t){var e=[];return ju(t.fields||{},function(t,n){var r=new Tu([t]);if(rl(n)){var i=ol(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Du(e)}var al=function(t,e){this.key=t,this.version=e},cl=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Kc.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(al),ul=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Kc.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(al),ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(al),hl=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function dl(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new hl(t,e,n,r,i,s,o)}function fl(t){var e=eu(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+Xu(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),Hu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Sl(e.startAt)),e.endAt&&(n+="|ub:",n+=Sl(e.endAt)),e.St=n}return e.St}function pl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Al(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Ku(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pl(t.startAt,e.startAt)&&Pl(t.endAt,e.endAt)}function ml(t){return Pu.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var gl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Kc.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new bl(t,n,r):"array-contains"===n?new wl(t,r):"in"===n?new Ol(t,r):"not-in"===n?new xl(t,r):"array-contains-any"===n?new Cl(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new yl(t,n):new vl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Wu(e,this.value)):null!==e&&Gu(this.value)===Gu(e)&&this.Ct(Wu(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Jc()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),bl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Pu.dt(r.referenceValue),i}return Object(Kc.c)(e,t),e.prototype.matches=function(t){var e=Pu.J(t.key,this.key);return this.Ct(e)},e}(gl),yl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=_l(0,n),r}return Object(Kc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(gl),vl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=_l(0,n),r}return Object(Kc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(gl);function _l(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Pu.dt(t.referenceValue)})}var wl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Kc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return tl(e)&&$u(e.arrayValue,this.value)},e}(gl),Ol=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Kc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&$u(this.value.arrayValue,e)},e}(gl),xl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Kc.c)(e,t),e.prototype.matches=function(t){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!$u(this.value.arrayValue,e)},e}(gl),Cl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Kc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!tl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return $u(e.value.arrayValue,t)})},e}(gl),kl=function(t,e){this.position=t,this.before=e};function Sl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Xu(t)}).join(",")}var El=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Al(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Tl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?Pu.J(Pu.dt(o.referenceValue),n.key):Wu(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Pl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ku(t.position[n],e.position[n]))return!1;return!0}var Il=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ft=null,this.Ot=null};function jl(t,e,n,r,i,s,o,a){return new Il(t,e,n,r,i,s,o,a)}function Rl(t){return new Il(t)}function Dl(t){return!Hu(t.limit)&&"F"===t.limitType}function Ll(t){return!Hu(t.limit)&&"L"===t.limitType}function Ml(t){return t.Nt.length>0?t.Nt[0].field:null}function Nl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Fl(t){return null!==t.collectionGroup}function Vl(t){var e=eu(t);if(null===e.Ft){e.Ft=[];var n=Nl(e),r=Ml(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new El(n)),e.Ft.push(new El(Tu.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var c=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new El(Tu.lt(),c))}}}return e.Ft}function Bl(t){var e=eu(t);if(!e.Ot)if("F"===e.limitType)e.Ot=dl(e.path,e.collectionGroup,Vl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Vl(e);r<i.length;r++){var s=i[r];n.push(new El(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new kl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new kl(e.startAt.position,!e.startAt.before):null;e.Ot=dl(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ot}function Ul(t,e,n){return new Il(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hl(t,e){return pl(Bl(t),Bl(e))&&t.limitType===e.limitType}function zl(t){return fl(Bl(t))+"|lt:"+t.limitType}function ql(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+Xu(e.value);var e}).join(", ")+"]"),Hu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Sl(t.startAt)),t.endAt&&(e+=", endAt: "+Sl(t.endAt)),"Target("+e+")"}(Bl(t))+"; limitType="+t.limitType+")"}function Gl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Pu.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Tl(t.startAt,Vl(t),e)||t.endAt&&Tl(t.endAt,Vl(t),e))}(t,e)}function Kl(t){return function(e,n){for(var r=!1,i=0,s=Vl(t);i<s.length;i++){var o=s[i],a=$l(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function $l(t,e,n){var r=t.field.ht()?Pu.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Wu(r,i):Jc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Jc()}}var Wl=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=ku.min()),void 0===s&&(s=ku.min()),void 0===o&&(o=au.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Ql(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function Xl(t){return{integerValue:""+t}}function Zl(t,e){return qu(e)?Xl(e):Ql(t,e)}var Yl=function(){this.Ut=void 0};function Jl(t,e,n){return t instanceof nh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof rh?ih(t,e):t instanceof sh?oh(t,e):function(t,e){var n=eh(t,e),r=ch(n)+ch(t.Qt);return Ju(n)&&Ju(t.Qt)?Xl(r):Ql(t.Kt,r)}(t,e)}function th(t,e,n){return t instanceof rh?ih(t,e):t instanceof sh?oh(t,e):n}function eh(t,e){return t instanceof ah?Ju(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e}(Yl),rh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Kc.c)(e,t),e}(Yl);function ih(t,e){for(var n=uh(e),r=function(t){n.some(function(e){return Ku(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var sh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Kc.c)(e,t),e}(Yl);function oh(t,e){for(var n=uh(e),r=function(t){n=n.filter(function(e){return!Ku(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ah=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Kc.c)(e,t),e}(Yl);function ch(t){return Nu(t.integerValue||t.doubleValue)}function uh(t){return tl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var lh=function(t,e){this.field=t,this.transform=e},hh=function(t,e){this.version=t,this.transformResults=e},dh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function fh(t,e){return void 0!==t.updateTime?e instanceof cl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof cl}var ph=function(){};function mh(t,e,n){return t instanceof _h?function(t,e,n){var r=t.value;if(n.transformResults){var i=xh(t.fieldTransforms,e,n.transformResults);r=kh(t.fieldTransforms,r,i)}return new cl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof wh?function(t,e,n){if(!fh(t.Gt,e))return new ll(t.key,n.version);var r=Oh(t,e,n.transformResults?xh(t.fieldTransforms,e,n.transformResults):[]);return new cl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ul(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function gh(t,e,n,r){return t instanceof _h?function(t,e,n,r){if(!fh(t.Gt,e))return e;var i=t.value,s=Ch(t.fieldTransforms,n,e);i=kh(t.fieldTransforms,i,s);var o=vh(e);return new cl(t.key,o,i,{bt:!0})}(t,e,r):t instanceof wh?function(t,e,n,r){if(!fh(t.Gt,e))return e;var i=vh(e),s=Oh(t,e,Ch(t.fieldTransforms,n,e));return new cl(t.key,i,s,{bt:!0})}(t,e,r):function(t,e){return fh(t.Gt,e)?new ul(t.key,ku.min()):e}(t,e)}function bh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof cl?e.field(s.field):void 0,a=eh(s.transform,o||null);null!=a&&(n=null==n?(new sl).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function yh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&su(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof rh&&e instanceof rh||t instanceof sh&&e instanceof sh?su(t.elements,e.elements,Ku):t instanceof ah&&e instanceof ah?Ku(t.Qt,e.Qt):t instanceof nh&&e instanceof nh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function vh(t){return t instanceof cl?t.version:ku.min()}var _h=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(Kc.c)(e,t),e}(ph),wh=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(Kc.c)(e,t),e}(ph);function Oh(t,e,n){var r;return r=function(t,e){var n=new sl(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof cl?e.data():il.empty()),kh(t.fieldTransforms,r,n)}function xh(t,e,n){var r=[];tu(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof cl&&(a=e.field(s.field)),r.push(th(o,a,n[i]))}return r}function Ch(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],c=a.transform,u=null;n instanceof cl&&(u=n.field(a.field)),i.push(Jl(c,u,e))}return i}function kh(t,e,n){for(var r=new sl(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Sh,Eh,Ah=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Kc.c)(e,t),e}(ph),Th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Kc.c)(e,t),e}(ph),Ph=function(t){this.count=t};function Ih(t){switch(t){case cu.OK:return Jc();case cu.CANCELLED:case cu.UNKNOWN:case cu.DEADLINE_EXCEEDED:case cu.RESOURCE_EXHAUSTED:case cu.INTERNAL:case cu.UNAVAILABLE:case cu.UNAUTHENTICATED:return!1;case cu.INVALID_ARGUMENT:case cu.NOT_FOUND:case cu.ALREADY_EXISTS:case cu.PERMISSION_DENIED:case cu.FAILED_PRECONDITION:case cu.ABORTED:case cu.OUT_OF_RANGE:case cu.UNIMPLEMENTED:case cu.DATA_LOSS:return!0;default:return Jc()}}function jh(t){if(void 0===t)return Xc("GRPC error has no .code"),cu.UNKNOWN;switch(t){case Sh.OK:return cu.OK;case Sh.CANCELLED:return cu.CANCELLED;case Sh.UNKNOWN:return cu.UNKNOWN;case Sh.DEADLINE_EXCEEDED:return cu.DEADLINE_EXCEEDED;case Sh.RESOURCE_EXHAUSTED:return cu.RESOURCE_EXHAUSTED;case Sh.INTERNAL:return cu.INTERNAL;case Sh.UNAVAILABLE:return cu.UNAVAILABLE;case Sh.UNAUTHENTICATED:return cu.UNAUTHENTICATED;case Sh.INVALID_ARGUMENT:return cu.INVALID_ARGUMENT;case Sh.NOT_FOUND:return cu.NOT_FOUND;case Sh.ALREADY_EXISTS:return cu.ALREADY_EXISTS;case Sh.PERMISSION_DENIED:return cu.PERMISSION_DENIED;case Sh.FAILED_PRECONDITION:return cu.FAILED_PRECONDITION;case Sh.ABORTED:return cu.ABORTED;case Sh.OUT_OF_RANGE:return cu.OUT_OF_RANGE;case Sh.UNIMPLEMENTED:return cu.UNIMPLEMENTED;case Sh.DATA_LOSS:return cu.DATA_LOSS;default:return Jc()}}(Eh=Sh||(Sh={}))[Eh.OK=0]="OK",Eh[Eh.CANCELLED=1]="CANCELLED",Eh[Eh.UNKNOWN=2]="UNKNOWN",Eh[Eh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Eh[Eh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Eh[Eh.NOT_FOUND=5]="NOT_FOUND",Eh[Eh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Eh[Eh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Eh[Eh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Eh[Eh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Eh[Eh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Eh[Eh.ABORTED=10]="ABORTED",Eh[Eh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Eh[Eh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Eh[Eh.INTERNAL=13]="INTERNAL",Eh[Eh.UNAVAILABLE=14]="UNAVAILABLE",Eh[Eh.DATA_LOSS=15]="DATA_LOSS";var Rh=function(){function t(t,e){this.J=t,this.root=e||Lh.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Lh.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Lh.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Dh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Dh(this.root,t,this.J,!1)},t.prototype.se=function(){return new Dh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Dh(this.root,t,this.J,!0)},t}(),Dh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Lh=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Jc();if(this.right._e())throw Jc();var t=this.left.me();if(t!==this.right.me())throw Jc();return t+(this._e()?0:1)},t}();Lh.EMPTY=null,Lh.RED=!0,Lh.Jt=!1,Lh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Jc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Lh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Mh=function(){function t(t){this.J=t,this.data=new Rh(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Nh(this.data.ee())},t.prototype.ne=function(t){return new Nh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Nh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Fh=new Rh(Pu.J);function Vh(){return Fh}function Bh(){return Vh()}var Uh=new Rh(Pu.J);function Hh(){return Uh}var zh=new Rh(Pu.J);function qh(){return zh}var Gh=new Mh(Pu.J);function Kh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Gh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var $h=new Mh(iu);function Wh(){return $h}var Qh=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Pu.J(e.key,n.key)}:function(t,e){return Pu.J(t.key,e.key)},this.Ve=Hh(),this.pe=new Rh(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Xh=function(){function t(){this.ve=new Rh(Pu.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Jc():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),Zh=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Fe=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Qh.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Hl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Yh=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Jh.Be(e,n)),new t(ku.min(),r,Wh(),Vh(),Kh())},t}(),Jh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(au.h,n,Kh(),Kh(),Kh())},t}(),td=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},ed=function(t,e){this.targetId=t,this.Ge=e},nd=function(t,e,n,r){void 0===n&&(n=au.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},rd=function(){function t(){this.ze=0,this.He=od(),this.Je=au.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Kh(),e=Kh(),n=Kh();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Jc()}}),new Jh(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=od()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),id=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Vh(),this.fn=sd(),this.dn=new Mh(iu)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof cl?this.En(r,t.je):t.je instanceof ul&&this.Tn(r,t.key,t.je)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Jc()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(ml(i))if(0===n){var s=new Pu(i.path);this.Tn(e,s,new ul(s,ku.min()))}else tu(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var s=e.gn(i);if(s){if(r.qe&&ml(s.target)){var o=new Pu(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new ul(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=Kh();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Yh(t,n,this.dn,this._n,r);return this._n=Vh(),this.fn=sd(),this.dn=new Mh(iu),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new rd,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Mh(iu),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Qc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new rd),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function sd(){return new Rh(Pu.J)}function od(){return new Rh(Pu.J)}var ad={asc:"ASCENDING",desc:"DESCENDING"},cd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ud=function(t,e){this.T=t,this.qt=e};function ld(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function hd(t,e){return t.qt?e.toBase64():e.toUint8Array()}function dd(t,e){return ld(t,e.G())}function fd(t){return tu(!!t),ku.W(function(t){var e=Mu(t);return new Cu(e.seconds,e.nanos)}(t))}function pd(t,e){return function(t){return new Eu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function md(t){var e=Eu.ct(t);return tu(Vd(e)),e}function gd(t,e){return pd(t.T,e.path)}function bd(t,e){var n=md(e);if(n.get(1)!==t.T.projectId)throw new uu(cu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new uu(cu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Pu(wd(n))}function yd(t,e){return pd(t.T,e)}function vd(t){var e=md(t);return 4===e.length?Eu.at():wd(e)}function _d(t){return new Eu(["projects",t.T.projectId,"databases",t.T.database]).ot()}function wd(t){return tu(t.length>4&&"documents"===t.get(4)),t.X(5)}function Od(t,e,n){return{name:gd(t,e),fields:n.proto.mapValue.fields}}function xd(t,e,n){var r=bd(t,e.name),i=fd(e.updateTime),s=new il({mapValue:{fields:e.fields}});return new cl(r,i,s,{hasCommittedMutations:!!n})}function Cd(t,e){var n;if(e instanceof _h)n={update:Od(t,e.key,e.value)};else if(e instanceof Ah)n={delete:gd(t,e.key)};else if(e instanceof wh)n={update:Od(t,e.key,e.data),updateMask:Fd(e.zt)};else{if(!(e instanceof Th))return Jc();n={verify:gd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof nh)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof rh)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof sh)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof ah)return{fieldPath:e.field.ot(),increment:n.Qt};throw Jc()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:dd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Jc()}(t,e.Gt)),n}function kd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?dh.updateTime(fd(t.updateTime)):void 0!==t.exists?dh.exists(t.exists):dh.Wt()}(e.currentDocument):dh.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(tu("REQUEST_TIME"===e.setToServerValue),n=new nh):"appendMissingElements"in e?n=new rh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new sh(e.removeAllFromArray.values||[]):"increment"in e?n=new ah(t,e.increment):Jc();var r=Tu._t(e.fieldPath);return new lh(r,n)}(t,e)}):[];if(e.update){var i=bd(t,e.update.name),s=new il({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Du((t.fieldPaths||[]).map(function(t){return Tu._t(t)}))}(e.updateMask);return new wh(i,s,o,n,r)}return new _h(i,s,n,r)}if(e.delete){var a=bd(t,e.delete);return new Ah(a,n)}if(e.verify){var c=bd(t,e.verify);return new Th(c,n)}return Jc()}function Sd(t,e){return{documents:[yd(t,e.path)]}}function Ed(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=yd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yd(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(nl(t.value))return{unaryFilter:{field:Dd(t.field),op:"IS_NAN"}};if(el(t.value))return{unaryFilter:{field:Dd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(nl(t.value))return{unaryFilter:{field:Dd(t.field),op:"IS_NOT_NAN"}};if(el(t.value))return{unaryFilter:{field:Dd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dd(t.field),op:Rd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Dd(t.field),direction:jd(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||Hu(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Pd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Pd(e.endAt)),n}function Ad(t){var e=vd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){tu(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Td(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new El(Ld(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Hu(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Id(n.startAt));var l=null;return n.endAt&&(l=Id(n.endAt)),jl(e,i,a,o,c,"F",u,l)}function Td(t){return t?void 0!==t.unaryFilter?[Nd(t)]:void 0!==t.fieldFilter?[Md(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Td(t)}).reduce(function(t,e){return t.concat(e)}):Jc():[]}function Pd(t){return{before:t.before,values:t.position}}function Id(t){return new kl(t.values||[],!!t.before)}function jd(t){return ad[t]}function Rd(t){return cd[t]}function Dd(t){return{fieldPath:t.ot()}}function Ld(t){return Tu._t(t.fieldPath)}function Md(t){return gl.create(Ld(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Jc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Nd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ld(t.unaryFilter.field);return gl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ld(t.unaryFilter.field);return gl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ld(t.unaryFilter.field);return gl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ld(t.unaryFilter.field);return gl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Jc()}}function Fd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function Vd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Bd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ud=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Jc(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),Hd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Bd,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Gd(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Xd(e.target.error);n.qn.reject(new Gd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Gd(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Qc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new $d(e)},t}(),zd=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(zi.g)())&&Xc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Qc("SimpleDb","Removing database:",t),Wd(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(zi.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Kc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Kc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Qc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Gd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new uu(cu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Gd(t,n))},i.onupgradeneeded=function(t){Qc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Qc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Kc.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(Kc.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(Kc.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=Hd.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Ud.reject(t)}).Mn(),c={},o.catch(function(){}),[4,e.Un];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Qc("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),qd=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Wd(this.ts.delete())},t}(),Gd=function(t){function e(e,n){var r=this;return(r=t.call(this,cu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Kc.c)(e,t),e}(uu);function Kd(t){return"IndexedDbTransactionError"===t.name}var $d=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Qc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Qc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Wd(n)},t.prototype.add=function(t){return Qc("SimpleDb","ADD",this.store.name,t,t),Wd(this.store.add(t))},t.prototype.get=function(t){var e=this;return Wd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Qc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Qc("SimpleDb","DELETE",this.store.name,t),Wd(this.store.delete(t))},t.prototype.count=function(){return Qc("SimpleDb","COUNT",this.store.name),Wd(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){Qc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Ud(function(n,r){e.onerror=function(t){var e=Xd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new Ud(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new qd(i),o=e(i.primaryKey,i.value,s);if(o instanceof Ud){var a=o.catch(function(t){return s.done(),Ud.reject(t)});n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}}).next(function(){return Ud.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Wd(t){return new Ud(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Xd(t.target.error);n(e)}})}var Qd=!1;function Xd(t){var e=zd.Kn(Object(zi.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new uu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Qd||(Qd=!0,setTimeout(function(){throw r},0)),r}}return t}var Zd=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Bd,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new uu(cu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Yd(t,e){if(Xc("AsyncQueue",e+": "+t),Kd(t))return new uu(cu.UNAVAILABLE,e+": "+t);throw t}var Jd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tf=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function ef(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=rf(e)),e=nf(t.get(n),e);return rf(e)}function nf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function rf(t){return t+"\x01\x01"}function sf(t){var e=t.length;if(tu(e>=2),2===e)return tu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Eu.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Jc(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Jc()}s=o+2}return new Eu(r)}var of=function(t,e){this.seconds=t,this.nanoseconds=e},af=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};af.store="owner",af.key="owner";var cf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};cf.store="mutationQueues",cf.keyPath="userId";var uf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};uf.store="mutations",uf.keyPath="batchId",uf.userMutationsIndex="userMutationsIndex",uf.userMutationsKeyPath=["userId","batchId"];var lf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ef(e)]},t.key=function(t,e,n){return[t,ef(e),n]},t}();lf.store="documentMutations",lf.PLACEHOLDER=new lf;var hf=function(t,e){this.path=t,this.readTime=e},df=function(t,e){this.path=t,this.version=e},ff=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};ff.store="remoteDocuments",ff.readTimeIndex="readTimeIndex",ff.readTimeIndexPath="readTime",ff.collectionReadTimeIndex="collectionReadTimeIndex",ff.collectionReadTimeIndexPath=["parentPath","readTime"];var pf=function(t){this.byteSize=t};pf.store="remoteDocumentGlobal",pf.key="remoteDocumentGlobalKey";var mf=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};mf.store="targets",mf.keyPath="targetId",mf.queryTargetsIndexName="queryTargetsIndex",mf.queryTargetsKeyPath=["canonicalId","targetId"];var gf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};gf.store="targetDocuments",gf.keyPath=["targetId","path"],gf.documentTargetsIndex="documentTargetsIndex",gf.documentTargetsKeyPath=["path","targetId"];var bf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};bf.key="targetGlobalKey",bf.store="targetGlobal";var yf=function(t,e){this.collectionId=t,this.parent=e};yf.store="collectionParents",yf.keyPath=["collectionId","parent"];var vf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};vf.store="clientMetadata",vf.keyPath="clientId";var _f=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};_f.store="bundles",_f.keyPath="bundleId";var wf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};wf.store="namedQueries",wf.keyPath="name";var Of=Object(Kc.g)(Object(Kc.g)(Object(Kc.g)(Object(Kc.g)([cf.store,uf.store,lf.store,ff.store,mf.store,af.store,bf.store,gf.store],[vf.store]),[pf.store]),[yf.store]),[_f.store,wf.store]),xf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Kc.c)(e,t),e}(tf);function Cf(t,e){var n=eu(t);return zd.Hn(n.bs,e)}var kf=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=mh(s,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=gh(o,e,0,this.Ss));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=gh(o,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Kh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&su(this.mutations,t.mutations,function(t,e){return yh(t,e)})&&su(this.baseMutations,t.baseMutations,function(t,e){return yh(t,e)})},t}(),Sf=function(){function t(t,e,n,r){this.batch=t,this.Fs=e,this.Cs=n,this.Os=r}return t.from=function(e,n,r){tu(e.mutations.length===r.length);for(var i=qh(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Ef=function(t){this.ks=t};function Af(t,e){if(e.document)return xd(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pu.Tt(e.noDocument.path),r=Rf(e.noDocument.readTime);return new ul(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Pu.Tt(e.unknownDocument.path);return r=Rf(e.unknownDocument.version),new ll(i,r)}return Jc()}function Tf(t,e,n){var r=Pf(n),i=e.key.path.Z().rt();if(e instanceof cl){var s=function(t,e){return{name:gd(t,e.key),fields:e.vt().mapValue.fields,updateTime:ld(t,e.version.G())}}(t.ks,e),o=e.hasCommittedMutations;return new ff(null,null,s,o,r,i)}if(e instanceof ul){var a=e.key.path.rt(),c=jf(e.version);return o=e.hasCommittedMutations,new ff(null,new hf(a,c),null,o,r,i)}if(e instanceof ll){var u=e.key.path.rt(),l=jf(e.version);return new ff(new df(u,l),null,null,!0,r,i)}return Jc()}function Pf(t){var e=t.G();return[e.seconds,e.nanoseconds]}function If(t){var e=new Cu(t[0],t[1]);return ku.W(e)}function jf(t){var e=t.G();return new of(e.seconds,e.nanoseconds)}function Rf(t){var e=new Cu(t.seconds,t.nanoseconds);return ku.W(e)}function Df(t,e){for(var n=(e.baseMutations||[]).map(function(e){return kd(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map(function(e){return kd(t.ks,e)}),o=Cu.fromMillis(e.localWriteTimeMs);return new kf(e.batchId,o,n,s)}function Lf(t){var e,n,r=Rf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Rf(t.lastLimboFreeSnapshotVersion):ku.min();return void 0!==t.query.documents?(tu(1===(n=t.query).documents.length),e=Bl(Rl(vd(n.documents[0])))):e=function(t){return Bl(Ad(t))}(t.query),new Wl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,au.fromBase64String(t.resumeToken))}function Mf(t,e){var n,r=jf(e.Mt),i=jf(e.lastLimboFreeSnapshotVersion);n=ml(e.target)?Sd(t.ks,e.target):Ed(t.ks,e.target);var s=e.resumeToken.toBase64();return new mf(e.targetId,fl(e.target),r,s,e.sequenceNumber,i,n)}function Nf(t){var e=Ad({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ul(e,e.limit,"L"):e}var Ff=function(){function t(){}return t.prototype.Ms=function(t,e){return Vf(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Rf(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return Vf(t).put({bundleId:(n=e).id,createTime:jf(fd(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Bf(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Nf(e.bundledQuery),readTime:Rf(e.readTime)};var e})},t.prototype.Bs=function(t,e){return Bf(t).put(function(t){return{name:t.name,readTime:jf(fd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Vf(t){return Cf(t,_f.store)}function Bf(t){return Cf(t,wf.store)}var Uf=function(){function t(){this.qs=new Hf}return t.prototype.Us=function(t,e){return this.qs.add(e),Ud.resolve()},t.prototype.Qs=function(t,e){return Ud.resolve(this.qs.getEntries(e))},t}(),Hf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Mh(Eu.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Mh(Eu.J)).rt()},t}(),zf=function(){function t(){this.Ks=new Hf}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var s={collectionId:r,parent:ef(i)};return qf(t).put(s)}return Ud.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ou(e),""],!1,!0);return qf(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(sf(s.parent))}return n})},t}();function qf(t){return Cf(t,yf.store)}var Gf={Ws:!1,js:0,Gs:0,zs:0},Kf=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function $f(t){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(e){if(t.code!==cu.FAILED_PRECONDITION||t.message!==Jd)throw t;return Qc("LocalStore","Unexpectedly lost primary lease"),[2]})})}Kf.Zs=10,Kf.ti=1e3,Kf.ei=new Kf(41943040,Kf.Zs,Kf.ti),Kf.ni=new Kf(-1,0,0);var Wf=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ii(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ju(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.nt=function(){return Ru(this.ri)},t}(),Qf=function(){function t(){this.oi=new Wf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:ku.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Ud.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Xf(t,e,n){var r=t.store(uf.store),i=t.store(lf.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.ls({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){tu(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=lf.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return Ud.$n(s).next(function(){return u})}function Zf(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Jc();e=t.noDocument}return JSON.stringify(e).length}var Yf=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return tu(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tp(t).ls({index:uf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,s=ep(t),o=tp(t);return o.add({}).next(function(a){tu("number"==typeof a);for(var c=new kf(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return Cd(t.ks,e)}),i=n.mutations.map(function(e){return Cd(t.ks,e)});return new uf(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,c),l=[],h=new Mh(function(t,e){return iu(t.ot(),e.ot())}),d=0,f=r;d<f.length;d++){var p=f[d],m=lf.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(u)),l.push(s.put(m,lf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[a]=c.keys()}),Ud.$n(l).next(function(){return c})})},t.prototype.yi=function(t,e){var n=this;return tp(t).get(e).next(function(t){return t?(tu(t.userId===n.userId),Df(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Ud.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return tp(t).ls({index:uf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(tu(e.batchId>=r),s=Df(n.Kt,e)),i.done()}).next(function(){return s})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return tp(t).ls({index:uf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tp(t).os(uf.userMutationsIndex,n).next(function(t){return t.map(function(t){return Df(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=lf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return ep(t).ls({range:i},function(r,i,o){var a=r[0],c=r[2],u=sf(r[1]);if(a===n.userId&&e.path.isEqual(u))return tp(t).get(c).next(function(t){if(!t)throw Jc();tu(t.userId===n.userId),s.push(Df(n.Kt,t))});o.done()}).next(function(){return s})},t.prototype.Si=function(t,e){var n=this,r=new Mh(iu),i=[];return e.forEach(function(e){var s=lf.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=ep(t).ls({range:o},function(t,i,s){var o=t[0],a=t[2],c=sf(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),Ud.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,s=lf.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Mh(iu);return ep(t).ls({range:o},function(t,e,s){var o=t[0],c=t[2],u=sf(t[1]);o===n.userId&&r.st(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(tp(t).get(e).next(function(t){if(null===t)throw Jc();tu(t.userId===n.userId),r.push(Df(n.Kt,t))}))}),Ud.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return Xf(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),Ud.forEach(r,function(e){return n.Ii.Fi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return Ud.resolve();var r=IDBKeyRange.lowerBound(lf.prefixForUser(e.userId)),i=[];return ep(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var s=sf(t[1]);i.push(s)}else r.done()}).next(function(){tu(0===i.length)})})},t.prototype.ki=function(t,e){return Jf(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return np(t).get(this.userId).next(function(t){return t||new cf(e.userId,-1,"")})},t}();function Jf(t,e,n){var r=lf.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return ep(t).ls({range:s,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function tp(t){return Cf(t,uf.store)}function ep(t){return Cf(t,lf.store)}function np(t){return Cf(t,cf.store)}var rp=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),ip=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new rp(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return ku.W(new Cu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Wi=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.ji=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return sp(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return tu(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return sp(t).ls(function(o,a){var c=Lf(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.Yi(t,c)))}).next(function(){return Ud.$n(s)}).next(function(){return i})},t.prototype.mn=function(t,e){return sp(t).ls(function(t,n){var r=Lf(n);e(r)})},t.prototype.Ui=function(t){return op(t).get(bf.key).next(function(t){return tu(null!==t),t})},t.prototype.Qi=function(t,e){return op(t).put(bf.key,e)},t.prototype.zi=function(t,e){return sp(t).put(Mf(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=fl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sp(t).ls({range:r,index:mf.queryTargetsIndexName},function(t,n,r){var s=Lf(n);pl(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],s=ap(t);return e.forEach(function(e){var o=ef(e.path);i.push(s.put(new gf(n,o))),i.push(r.Ii.sr(t,n,e))}),Ud.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=ap(t);return Ud.forEach(e,function(e){var s=ef(e.path);return Ud.$n([i.delete([n,s]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=ap(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ap(t),i=Kh();return r.ls({range:n,hs:!0},function(t,e,n){var r=sf(t[1]),s=new Pu(r);i=i.add(s)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=ef(e.path),r=IDBKeyRange.bound([n],[ou(n)],!1,!0),i=0;return ap(t).ls({index:gf.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return sp(t).get(e).next(function(t){return t?Lf(t):null})},t}();function sp(t){return Cf(t,mf.store)}function op(t){return Cf(t,bf.store)}function ap(t){return Cf(t,gf.store)}function cp(t,e){var n=t[1],r=e[1],i=iu(t[0],e[0]);return 0===i?iu(n,r):i}var up=function(){function t(t){this.ar=t,this.buffer=new Mh(cp),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();cp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),lp=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Qc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(Kc.b)(e,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Kd(e=n.sent())?(Qc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,$f(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),hp=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return Ud.resolve(xu.U);var r=new up(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Qc("LruGarbageCollector","Garbage collection skipped; disabled"),Ud.resolve(Gf)):this.br(t).next(function(r){return r<n.params.Hs?(Qc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Gf):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>u.params.Ys?(Qc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.Ys+" from "+e),r=u.params.Ys):r=e,s=Date.now(),u.yr(t,r)}).next(function(r){return n=r,o=Date.now(),u.Zi(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.Vr(t,n)}).next(function(t){return c=Date.now(),Wc()<=Hi.a.DEBUG&&Qc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Ud.resolve({Ws:!0,js:r,Gs:i,zs:t})})},t}(),dp=function(){function t(t,e){this.db=t,this._r=function(t,e){return new hp(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return fp(t,n)},t.prototype.rr=function(t,e,n){return fp(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return fp(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return np(t)._s(function(r){return Jf(t,r,e).next(function(t){return t&&(n=!0),Ud.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Or().Fr(),i=[],s=0;return this.Cr(t,function(o,a){if(a<=e){var c=n.Nr(t,o).next(function(e){if(!e)return s++,r.fi(t,o).next(function(){return r._i(o),ap(t).delete([0,ef(o.path)])})});i.push(c)}}).next(function(){return Ud.$n(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return fp(t,e)},t.prototype.Cr=function(t,e){var n,r=ap(t),i=xu.U;return r.ls({index:gf.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==xu.U&&e(new Pu(sf(n)),i),i=o,n=s):i=xu.U}).next(function(){i!==xu.U&&e(new Pu(sf(n)),i)})},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function fp(t,e){return ap(t).put(function(t,e){return new gf(0,ef(t.path),e)}(e,t.vs))}var pp=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return bp(t).put(yp(e),n)},t.prototype._i=function(t,e){var n=bp(t),r=yp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return bp(t).get(yp(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return bp(t).get(yp(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:Zf(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Bh();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=Bh(),i=new Rh(Pu.J);return this.qr(t,e,function(t,e){var s=n.$r(e);s?(r=r.Ht(t,s),i=i.Ht(t,Zf(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return Ud.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return bp(t).ls({range:r},function(t,e,r){for(var o=Pu.Tt(t);s&&Pu.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ae()?i.ce():null})},t.prototype.Wr=function(t,e,n){var r=this,i=Hh(),s=e.path.length+1,o={};if(n.isEqual(ku.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.rt(),u=Pf(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=ff.collectionReadTimeIndex}return bp(t).ls(o,function(t,n,o){if(t.length===s){var a=Af(r.Kt,n);e.path.st(a.key.path)?a instanceof cl&&Gl(e,a)&&(i=i.Ht(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Fr=function(t){return new mp(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return gp(t).get(pf.key).next(function(t){return tu(!!t),t})},t.prototype.Lr=function(t,e){return gp(t).put(pf.key,e)},t.prototype.$r=function(t){if(t){var e=Af(this.Kt,t);return e instanceof ul&&e.version.isEqual(ku.min())?null:e}return null},t}(),mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.jr=n,r.zr=new Wf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Kc.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Mh(function(t,e){return iu(t.ot(),e.ot())});return this.oi.forEach(function(s,o){var a=e.zr.get(s);if(o.li){var c=Tf(e.Gr.Kt,o.li,e.ai(s));i=i.add(s.path.Z());var u=Zf(c);r+=u-a,n.push(e.Gr.ui(t,s,c))}else if(r-=a,e.jr){var l=Tf(e.Gr.Kt,new ul(s,ku.min()),e.ai(s));n.push(e.Gr.ui(t,s,l))}else n.push(e.Gr._i(t,s))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),Ud.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(Qf);function gp(t){return Cf(t,pf.store)}function bp(t){return Cf(t,ff.store)}function yp(t){return t.path.rt()}var vp=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;tu(n<r&&n>=0&&r<=11);var s=new Hd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(af.store)}(t),function(t){t.createObjectStore(cf.store,{keyPath:cf.keyPath}),t.createObjectStore(uf.store,{keyPath:uf.keyPath,autoIncrement:!0}).createIndex(uf.userMutationsIndex,uf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(lf.store)}(t),_p(t),function(t){t.createObjectStore(ff.store)}(t));var o=Ud.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(gf.store),t.deleteObjectStore(mf.store),t.deleteObjectStore(bf.store)}(t),_p(t)),o=o.next(function(){return function(t){var e=t.store(bf.store),n=new bf(0,0,ku.min().G(),0);return e.put(bf.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(uf.store).os().next(function(n){t.deleteObjectStore(uf.store),t.createObjectStore(uf.store,{keyPath:uf.keyPath,autoIncrement:!0}).createIndex(uf.userMutationsIndex,uf.userMutationsKeyPath,{unique:!0});var r=e.store(uf.store),i=n.map(function(t){return r.put(t)});return Ud.$n(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(vf.store,{keyPath:vf.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Hr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(pf.store)}(t),i.Jr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Yr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Xr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ff.store);e.createIndex(ff.readTimeIndex,ff.readTimeIndexPath,{unique:!1}),e.createIndex(ff.collectionReadTimeIndex,ff.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Zr(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(_f.store,{keyPath:_f.keyPath})}(t),function(t){t.createObjectStore(wf.store,{keyPath:wf.keyPath})}(t)})),o},t.prototype.Jr=function(t){var e=0;return t.store(ff.store).ls(function(t,n){e+=Zf(n)}).next(function(){var n=new pf(e);return t.store(pf.store).put(pf.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(cf.store),r=t.store(uf.store);return n.os().next(function(n){return Ud.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(uf.userMutationsIndex,i).next(function(r){return Ud.forEach(r,function(r){tu(r.userId===n.userId);var i=Df(e.Kt,r);return Xf(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(gf.store),n=t.store(ff.store);return t.store(bf.store).get(bf.key).next(function(t){var r=[];return n.ls(function(n,i){var s=new Eu(n),o=function(t){return[0,ef(t)]}(s);r.push(e.get(o).next(function(n){return n?Ud.resolve():function(n){return e.put(new gf(0,ef(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Ud.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(yf.store,{keyPath:yf.keyPath});var n=e.store(yf.store),r=new Hf,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:ef(i)})}};return e.store(ff.store).ls({hs:!0},function(t,e){var n=new Eu(t);return i(n.Z())}).next(function(){return e.store(lf.store).ls({hs:!0},function(t,e){var n=sf(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(mf.store);return n.ls(function(t,r){var i=Lf(r),s=Mf(e.Kt,i);return n.put(s)})},t}();function _p(t){t.createObjectStore(gf.store,{keyPath:gf.keyPath}).createIndex(gf.documentTargetsIndex,gf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mf.store,{keyPath:mf.keyPath}).createIndex(mf.queryTargetsIndexName,mf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(bf.store)}var wp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Op=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=s,this.window=o,this.document=a,this.no=u,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new uu(cu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new dp(this,i),this.lo=n+"main",this.Kt=new Ef(c),this._o=new zd(this.lo,11,new vp(this.Kt)),this.fo=new ip(this.Ii,this.Kt),this.Ti=new zf,this.wo=function(t,e){return new pp(t,e)}(this.Kt,this.Ti),this.Eo=new Ff,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Xc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new uu(cu.FAILED_PRECONDITION,wp);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.Wi(e)})}).then(function(e){t.io=new xu(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Kc.b)(e,void 0,void 0,function(){return Object(Kc.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(Kc.b)(e,void 0,void 0,function(){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(Kc.b)(e,void 0,void 0,function(){return Object(Kc.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Cp(e).put(new vf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(Kd(e))return Qc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Qc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return xp(t).get(af.key).next(function(t){return Ud.resolve(e.Co(t))})},t.prototype.xo=function(t){return Cp(t).delete(this.clientId)},t.prototype.No=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Cf(t,vf.store);return e.os().next(function(t){var n=r.Oo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ud.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Ud.resolve(!0):xp(t).get(af.key).next(function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new uu(cu.FAILED_PRECONDITION,wp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cp(t).os().next(function(t){return void 0===e.Oo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Qc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t=this;return Object(Kc.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[af.store,vf.store],function(e){var n=new xf(e,xu.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Oo=function(t,e){var n=this;return t.filter(function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Cp(e).os().next(function(e){return t.Oo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Yf.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Qc("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Of,function(s){return r=new xf(s,i.io?i.io.next():xu.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw Xc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new uu(cu.FAILED_PRECONDITION,Jd);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return xp(t).get(af.key).next(function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new uu(cu.FAILED_PRECONDITION,wp)})},t.prototype.Do=function(t){var e=new af(this.clientId,this.allowTabSynchronization,Date.now());return xp(t).put(af.key,e)},t.Wn=function(){return zd.Wn()},t.prototype.So=function(t){var e=this,n=xp(t);return n.get(af.key).next(function(t){return e.Co(t)?(Qc("IndexedDbPersistence","Releasing primary lease."),n.delete(af.key)):Ud.resolve()})},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Xc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Qc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Xc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Xc("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function xp(t){return Cf(t,af.store)}function Cp(t){return Cf(t,vf.store)}function kp(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Sp=function(t,e){this.progress=t,this.zo=e},Ep=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=Bh();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),s=Vh();return i.forEach(function(t,e){e||(e=new ul(t,ku.min())),s=s.Ht(t,e)}),s})},t.prototype.Wr=function(t,e,n){return function(t){return Pu.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Fl(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Pu(e)).next(function(t){var e=Hh();return t instanceof cl&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=Hh();return this.Ti.Qs(t,i).next(function(o){return Ud.forEach(o,function(o){var a=function(t,e){return new Il(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ht(t,e)})})}).next(function(){return s})})},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.wo.Wr(t,e,n).next(function(n){return r=n,s.Ho.Ci(t,e)}).next(function(e){return s.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=gh(c,r.get(u),0,s.Ss);r=l instanceof cl?r.Ht(u,l):r.remove(u)}})}).next(function(){return r.forEach(function(t,n){Gl(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=Kh(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof wh&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof cl&&(u=u.Ht(t,e))}),u})},t}(),Ap=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Kh(),i=Kh(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Tp=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(ku.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(s){var o=i.lc(e,s);return(Dl(e)||Ll(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(Wc()<=Hi.a.DEBUG&&Qc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ql(e)),i.uc.Wr(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new Mh(Kl(t));return e.forEach(function(e,r){r instanceof cl&&Gl(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Wc()<=Hi.a.DEBUG&&Qc("QueryEngine","Using full collection scan to execute query:",ql(e)),this.uc.Wr(t,e,ku.min())},t}(),Pp=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Rh(iu),this.wc=new Wf(function(t){return fl(t)},pl),this.Ec=ku.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new Ep(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function Ip(t,e,n,r){return new Pp(t,e,n,r)}function jp(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Kc.d)(this,function(o){switch(o.label){case 0:return n=eu(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ho.bi(t).next(function(o){return s=o,r=n.persistence.Ko(e),i=new Ep(n.Tc,r,n.persistence.Wo()),r.bi(t)}).next(function(e){for(var n=[],r=[],o=Kh(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Zo(t,o).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}})})}function Rp(t,e){var n=eu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Fr({jr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Ud.resolve();return s.forEach(function(t){o=o.next(function(){return r.fi(e,t)}).next(function(e){var s=e,o=n.Os.get(t);tu(null!==o),(!s||s.version.u(o)<0)&&(s=i.Ds(t,s,n))&&r.ui(s,n.Fs)})}),o.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function Dp(t){var e=eu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function Lp(t,e){var n=eu(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Tc.Fr({jr:!0});i=n.dc;var o=[];e.Oe.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.fo.ir(t,e.Ke,s).next(function(){return n.fo.nr(t,e.Ue,s)}));var c=e.resumeToken;if(c.o()>0){var u=a.$t(c,r).Lt(t.vs);i=i.Ht(s,u),function(t,e,n){return tu(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,u,e)&&o.push(n.fo.Ji(t,u))}}});var a=Vh();if(e.Me.forEach(function(r,i){e.Le.has(r)&&o.push(n.persistence.Ii.kr(t,r))}),o.push(Mp(t,s,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(ku.min())){var c=n.fo.Ki(t).next(function(e){return n.fo.ji(t,t.vs,r)});o.push(c)}return Ud.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function Mp(t,e,n,r,i){var s=Kh();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Vh();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o instanceof ul&&o.version.isEqual(ku.min())?(e._i(n,c),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.ui(o,c),s=s.Ht(n,o)):Qc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Np(t,e){var n=eu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function Fp(t,e){var n=eu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?Ud.resolve(r=i):n.fo.qi(t).next(function(i){return r=new Wl(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function Vp(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Kc.d)(this,function(a){switch(a.label){case 0:r=eu(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Kd(o=a.sent()))throw o;return Qc("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function Bp(t,e,n){var r=eu(t),i=ku.min(),s=Kh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=eu(t),i=r.wc.get(n);return void 0!==i?Ud.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Bl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){s=t})}).next(function(){return r.fc.Wr(t,e,n?i:ku.min(),n?s:Kh())}).next(function(t){return{documents:t,Pc:s}})})}function Up(t,e){var n=eu(t),r=eu(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function Hp(t){var e=eu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=eu(t),i=Vh(),s=Pf(n),o=bp(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:ff.readTimeIndex,range:a},function(t,e){var n=Af(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime}).next(function(){return{zo:i,readTime:If(s)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function zp(t){return Object(Kc.b)(this,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){return[2,(e=eu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=bp(t),n=ku.min();return e.ls({index:ff.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=If(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function qp(t,e,n,r){return Object(Kc.b)(this,void 0,void 0,function(){var i,s,o,a,c,u,l,h,d,f;return Object(Kc.d)(this,function(p){switch(p.label){case 0:for(i=eu(t),s=Kh(),o=Vh(),a=qh(),c=0,u=n;c<u.length;c++)h=e.yc((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return d=i.Tc.Fr({jr:!0}),[4,Fp(i,function(t){return Bl(Rl(Eu.ct("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Mp(t,d,o,ku.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.fo.Xi(t,f.targetId).next(function(){return i.fo.nr(t,s,f.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function Gp(t,e,n){return void 0===n&&(n=Kh()),Object(Kc.b)(this,void 0,void 0,function(){var r,i;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return[4,Fp(t,Bl(Nf(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=eu(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=fd(e.readTime);if(r.Mt.u(s)>=0)return i.Eo.Bs(t,e);var o=r.$t(au.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.fo.Ji(t,o).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var Kp=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Ud.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:fd(n.createTime)}),Ud.resolve()},t.prototype.$s=function(t,e){return Ud.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Nf(t.bundledQuery),readTime:fd(t.readTime)}}(e)),Ud.resolve()},t}(),$p=function(){function t(){this.Sc=new Mh(Wp.Dc),this.Cc=new Mh(Wp.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Wp(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Fc(new Wp(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Pu(new Eu([])),r=new Wp(n,t),i=new Wp(n,t+1),s=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),s.push(t.key)}),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Pu(new Eu([])),n=new Wp(e,t),r=new Wp(e,t+1),i=Kh();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new Wp(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Wp=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Pu.J(t.key,e.key)||iu(t.$c,e.$c)},t.xc=function(t,e){return iu(t.$c,e.$c)||Pu.J(t.key,e.key)},t}(),Qp=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Mh(Wp.Dc)}return t.prototype.Ri=function(t){return Ud.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new kf(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.qc=this.qc.add(new Wp(c.key,i)),this.Ti.Us(t,c.key.path.Z())}return Ud.resolve(s)},t.prototype.yi=function(t,e){return Ud.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Ud.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Ud.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Ud.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Wp(e,0),i=new Wp(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);s.push(e)}),Ud.resolve(s)},t.prototype.Si=function(t,e){var n=this,r=new Mh(iu);return e.forEach(function(t){var e=new Wp(t,0),i=new Wp(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),Ud.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Pu.Et(i)||(i=i.child(""));var s=new Wp(new Pu(i),0),o=new Mh(iu);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)},s),Ud.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;tu(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Ud.forEach(e.mutations,function(i){var s=new Wp(i.key,e.batchId);return r=r.delete(s),n.Ii.Fi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Wp(e,0),r=this.qc.Pe(n);return Ud.resolve(e.isEqual(r&&r.key))},t.prototype.Oi=function(t){return Ud.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Xp=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new Rh(Pu.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.jc(e);return this.docs=this.docs.Ht(r,{li:e,size:o,readTime:n}),this.size+=o-s,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Ud.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Bh();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),Ud.resolve(r)},t.prototype.Wr=function(t,e,n){for(var r=Hh(),i=new Pu(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,c=a.li,u=a.readTime;if(!e.path.st(o.key.path))break;u.u(n)<=0||c instanceof cl&&Gl(e,c)&&(r=r.Ht(c.key,c))}return Ud.resolve(r)},t.prototype.Gc=function(t,e){return Ud.forEach(this.docs,function(t){return e(t)})},t.prototype.Fr=function(t){return new Zp(this)},t.prototype.Mr=function(t){return Ud.resolve(this.size)},t}(),Zp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Kc.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),Ud.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Qf),Yp=function(){function t(t){this.persistence=t,this.zc=new Wf(function(t){return fl(t)},pl),this.lastRemoteSnapshotVersion=ku.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new $p,this.targetCount=0,this.Yc=rp.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),Ud.resolve()},t.prototype.Ki=function(t){return Ud.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return Ud.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Ud.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Ud.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new rp(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Ud.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Ud.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Ud.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Xi(t,a.targetId)),i++)}),Ud.$n(s).next(function(){return i})},t.prototype.tr=function(t){return Ud.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Ud.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Ud.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Fi(t,e))}),Ud.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Ud.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Ud.resolve(n)},t.prototype.ki=function(t,e){return Ud.resolve(this.Jc.ki(e))},t}(),Jp=function(){function t(t,e){var n=this;this.Xc={},this.io=new xu(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Yp(this),this.Ti=new Uf,this.wo=function(t,e){return new Xp(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new Ef(e),this.Eo=new Kp(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Qp(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Qc("MemoryPersistence","Starting transaction:",t);var i=new tm(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return Ud.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),tm=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Kc.c)(e,t),e}(tf),em=function(){function t(t){this.persistence=t,this.sa=new $p,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Jc()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Ud.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Ud.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),Ud.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return Ud.forEach(this.oa,function(r){var i=Pu.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Ud.Bn([function(){return Ud.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function nm(t,e){return"firestore_clients_"+t+"_"+e}function rm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function im(t,e){return"firestore_targets_"+t+"_"+e}var sm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new uu(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Xc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),om=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new uu(r.error.code,r.error.message)),i?new t(e,r.state,s):(Xc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),am=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Wh(),o=0;i&&o<r.activeTargetIds.length;++o)i=qu(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Xc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),cm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Xc("SharedClientState","Failed to parse online state: "+e),null)},t}(),um=function(){function t(){this.activeTargetIds=Wh()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),lm=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Rh(iu),this.Tr=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=nm(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new um),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(Kc.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(nm(this.persistenceKey,r)))&&(s=am.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),c=0,u=this.Ia;c<u.length;c++)this.Ea(u[c]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(im(this.persistenceKey,t));if(n){var r=om.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(im(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Qc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Qc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Qc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Qc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Xc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(Kc.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Kc.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=xu.U;if(null!=t)try{var n=JSON.parse(t);tu("number"==typeof n),e=n}catch(t){Xc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==xu.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new sm(this.currentUser,t,e,n),i=rm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=rm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=im(this.persistenceKey,t),i=new om(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return am.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return sm.aa(new bu(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return om.aa(r,e)},t.prototype.ba=function(t){return cm.aa(t)},t.prototype.Xa=function(t){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Qc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.fa.iu(o,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Wh();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),hm=function(){function t(){this.ru=new um,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new um,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),dm=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),fm=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Qc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Qc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),pm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},mm=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),gm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Kc.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,s){var o=new Gc;o.listenOnce(Hc.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Uc.NO_ERROR:var e=o.getResponseJson();Qc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Uc.TIMEOUT:Qc("Connection",'RPC "'+t+'" timed out'),s(new uu(cu.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:var n=o.getStatus();if(Qc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(cu).indexOf(e)>=0?e:cu.UNKNOWN}(r.status);s(new uu(a,r.message))}else s(new uu(cu.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new uu(cu.UNAVAILABLE,"Connection failed."));break;default:Jc()}}finally{Qc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Mc,i=Vo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(zi.l)()||Object(zi.n)()||Object(zi.j)()||Object(zi.k)()||Object(zi.o)()||Object(zi.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Qc("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new mm({du:function(t){u?Qc("Connection","Not sending because WebChannel is closed:",t):(c||(Qc("Connection","Opening WebChannel transport."),a.open(),c=!0),Qc("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,qc.EventType.OPEN,function(){u||Qc("Connection","WebChannel transport opened.")}),h(a,qc.EventType.CLOSE,function(){u||(u=!0,Qc("Connection","WebChannel transport closed"),l.Pu())}),h(a,qc.EventType.ERROR,function(t){u||(u=!0,Zc("Connection","WebChannel transport errored:",t),l.Pu(new uu(cu.UNAVAILABLE,"The operation could not be completed")))}),h(a,qc.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];tu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Qc("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Sh[t];if(void 0!==e)return jh(e)}(i),o=r.message;void 0===s&&(s=cu.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.Pu(new uu(s,o)),a.close()}else Qc("Connection","WebChannel received:",n),l.yu(n)}}),h(i,zc.STAT_EVENT,function(t){10===t.stat?Qc("Connection","Detected buffering proxy"):11===t.stat&&Qc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Qc("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then(function(t){return Qc("RestConnection","Received: ",t),t},function(e){throw Zc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.4",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+pm[t]},t}());function bm(){return"undefined"!=typeof window?window:null}function ym(){return"undefined"!=typeof document?document:null}function vm(t){return new ud(t,!0)}var _m=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Qc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),wm=function(){function t(t,e,n,r,i,s){this.eo=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=s,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new _m(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===cu.RESOURCE_EXHAUSTED?(Xc(e.toString()),Xc("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===cu.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new uu(cu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(Kc.b)(t,void 0,void 0,function(){return Object(Kc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return Qc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.ju===t?n():(Qc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Om=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(Kc.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Jc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(tu(void 0===e||"string"==typeof e),au.fromBase64String(e||"")):(tu(void 0===e||e instanceof Uint8Array),au.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?cu.UNKNOWN:jh(t.code);return new uu(e,t.message||"")}(a);n=new nd(r,i,s,o||null)}else if("documentChange"in e){i=bd(t,(r=e.documentChange).document.name),s=fd(r.document.updateTime);var a=new il({mapValue:{fields:r.document.fields}}),c=(o=new cl(i,s,a,{}),r.targetIds||[]);n=new td(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=bd(t,(r=e.documentDelete).document),s=r.readTime?fd(r.readTime):ku.min(),a=new ul(i,s),n=new td([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=bd(t,(r=e.documentRemove).document),n=new td([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Jc();var u=e.filter;i=new Ph(r=u.count||0),n=new ed(s=u.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return ku.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ku.min():e.readTime?fd(e.readTime):ku.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=_d(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=ml(r)?{documents:Sd(t,r)}:{query:Ed(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=hd(t,e.resumeToken):e.Mt.u(ku.min())>0&&(n.readTime=ld(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jc()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=_d(this.Kt),e.removeTarget=t,this.eh(e)},e}(wm),xm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(Kc.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(tu(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(tu(void 0!==e),t.map(function(t){return function(t,e){var n=fd(t.updateTime?t.updateTime:e);n.isEqual(ku.min())&&(n=fd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new hh(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=fd(t.commitTime);return this.listener.wh(n,e)}return tu(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=_d(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Cd(e.Kt,t)})};this.eh(n)},e}(wm),Cm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Kc.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new uu(cu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===cu.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===cu.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),km=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Xc(e),this.Ph=!1):Qc("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Sm=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(Kc.b)(s,void 0,void 0,function(){return Object(Kc.d)(this,function(t){switch(t.label){case 0:return Lm(this)?(Qc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Kc.b)(this,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return(e=eu(t)).Fh.add(4),[4,Am(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Em(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new km(n,r)};function Em(t){return Object(Kc.b)(this,void 0,void 0,function(){var e,n;return Object(Kc.d)(this,function(r){switch(r.label){case 0:if(!Lm(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Am(t){return Object(Kc.b)(this,void 0,void 0,function(){var e,n;return Object(Kc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Tm(t,e){var n=eu(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Dm(n)?Rm(n):Xm(n).Ju()&&Im(n,e))}function Pm(t,e){var n=eu(t),r=Xm(n);n.Nh.delete(e),r.Ju()&&jm(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Lm(n)&&n.Mh.set("Unknown"))}function Im(t,e){t.Lh.cn(e.targetId),Xm(t).hh(e)}function jm(t,e){t.Lh.cn(e),Xm(t).lh(e)}function Rm(t){t.Lh=new id({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Xm(t).start(),t.Mh.yh()}function Dm(t){return Lm(t)&&!Xm(t).Hu()&&t.Nh.size>0}function Lm(t){return 0===eu(t).Fh.size}function Mm(t){t.Lh=void 0}function Nm(t){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(e){return t.Nh.forEach(function(e,n){Im(t,e)}),[2]})})}function Fm(t,e){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(n){return Mm(t),Dm(t)?(t.Mh.ph(e),Rm(t)):t.Mh.set("Unknown"),[2]})})}function Vm(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i,s;return Object(Kc.d)(this,function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof nd&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Kc.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Qc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Bm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof td?t.Lh.wn(e):e instanceof ed?t.Lh.yn(e):t.Lh.In(e),n.isEqual(ku.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Dp(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(au.h,n.Mt)),jm(t,e);var r=new Wl(n.target,e,1,n.sequenceNumber);Im(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Qc("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Bm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Bm(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r=this;return Object(Kc.d)(this,function(i){switch(i.label){case 0:if(!Kd(e))throw e;return t.Fh.add(1),[4,Am(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Dp(t.Sh)}),t.fs.bo(function(){return Object(Kc.b)(r,void 0,void 0,function(){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return Qc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Em(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Um(t,e){return e().catch(function(n){return Bm(t,n,e)})}function Hm(t){return Object(Kc.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Kc.d)(this,function(o){switch(o.label){case 0:e=eu(t),n=Zm(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Lm(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Np(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Zm(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Bm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return zm(e)&&qm(e),[2]}})})}function zm(t){return Lm(t)&&!Zm(t).Hu()&&t.xh.length>0}function qm(t){Zm(t).start()}function Gm(t){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(e){return Zm(t).Th(),[2]})})}function Km(t){return Object(Kc.b)(this,void 0,void 0,function(){var e,n,r;return Object(Kc.d)(this,function(i){for(e=Zm(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function $m(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return r=t.xh.shift(),i=Sf.from(r,e,n),[4,Um(t,function(){return t.Ch.qh(i)})];case 1:return s.sent(),[4,Hm(t)];case 2:return s.sent(),[2]}})})}function Wm(t,e){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(n){switch(n.label){case 0:return e&&Zm(t).fh?[4,function(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return Ih(r=e.code)&&r!==cu.ABORTED?(n=t.xh.shift(),Zm(t).Xu(),[4,Um(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Hm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zm(t)&&qm(t),[2]}})})}function Qm(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n;return Object(Kc.d)(this,function(r){switch(r.label){case 0:return n=eu(t),e?(n.Fh.delete(2),[4,Em(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Am(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Xm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=eu(t);return r.mh(),new Om(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Nm.bind(null,t),Iu:Fm.bind(null,t),uh:Vm.bind(null,t)}),t.Oh.push(function(n){return Object(Kc.b)(e,void 0,void 0,function(){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Dm(t)?Rm(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Mm(t),e.label=3;case 3:return[2]}})})})),t.Qh}function Zm(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=eu(t);return r.mh(),new xm(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Gm.bind(null,t),Iu:Wm.bind(null,t),Eh:Km.bind(null,t),wh:$m.bind(null,t)}),t.Oh.push(function(n){return Object(Kc.b)(e,void 0,void 0,function(){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Hm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Qc("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Ym=function(){this.Wh=void 0,this.listeners=[]},Jm=function(){this.queries=new Wf(function(t){return zl(t)},Hl),this.onlineState="Unknown",this.jh=new Set};function tg(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Kc.d)(this,function(u){switch(u.label){case 0:if(n=eu(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Ym),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.Wh=u.sent(),[3,4];case 3:return a=u.sent(),c=Yd(a,"Initialization of query '"+ql(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.Wh&&e.Hh(s.Wh)&&ig(n),[2]}})})}function eg(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Kc.d)(this,function(a){return n=eu(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function ng(t,e){for(var n=eu(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hh(o)&&(r=!0);a.Wh=o}}r&&ig(n)}function rg(t,e,n){var r=eu(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function ig(t){t.jh.forEach(function(t){t.next()})}var sg=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Zh(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Zh.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),og=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),ag=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return bd(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?xd(this.Kt,t.document,!1):new ul(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return fd(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new ag(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Kh()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return[4,qp(this.Sh,new ag(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Gp(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Sp(Object.assign({},this.progress),t))]}})})}}();var cg=function(t){this.key=t},ug=function(t){this.key=t},lg=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Kh(),this.Ce=Kh(),this.ll=Kl(t),this._l=new Qh(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Xh,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,c=Dl(this.query)&&i.size===this.query.limit?i.last():null,u=Ll(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof cl?e:null;h&&(h=Gl(n.query,h)?h:null);var d=!!l&&n.Ce.has(l.key),f=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.ll(h,c)>0||u&&n.ll(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Dl(this.query)||Ll(this.query))for(;o.size>this.query.limit;){var l=Dl(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jc()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,c=a!==this.ul;return this.ul=a,0!==s.length||c?{snapshot:new Zh(this.query,t._l,i,s,t.Ce,0===a,c,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Xh,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Kh(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new ug(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new cg(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Kh();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Zh.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),hg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},dg=function(t){this.key=t,this.yl=!1},fg=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new Wf(function(t){return zl(t)},Hl),this.Dl=new Map,this.Cl=[],this.xl=new Rh(Pu.J),this.Nl=new Map,this.Fl=new $p,this.Ol={},this.kl=new Map,this.Ml=rp.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function pg(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Kc.d)(this,function(a){switch(a.label){case 0:return n=zg(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Fp(n.Sh,Bl(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,mg(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&Tm(n.gl,s),a.label=4;case 4:return[2,r]}})})}function mg(t,e,n,r){return Object(Kc.b)(this,void 0,void 0,function(){var i,s,o,a,c,u;return Object(Kc.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Kc.b)(this,void 0,void 0,function(){var i,s,o;return Object(Kc.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Bp(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Oe.get(e.targetId),o=e.view.Ei(i,t.$l,s),[2,(Ag(t,e.targetId,o.ml),o.snapshot)]}})})}(t,e,n,r)},[4,Bp(t.Sh,e,!0)];case 1:return i=l.sent(),s=new lg(e,i.Pc),o=s.dl(i.documents),a=Jh.Be(n,r&&"Offline"!==t.onlineState),c=s.Ei(o,t.$l,a),Ag(t,n,c.ml),u=new hg(e,n,s),[2,(t.Sl.set(e,u),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),c.snapshot)]}})})}function gg(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return n=eu(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!Hl(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Vp(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Pm(n.gl,r.targetId),Sg(n,r.targetId)}).catch($f)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Sg(n,r.targetId),[4,Vp(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function bg(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Kc.d)(this,function(a){switch(a.label){case 0:r=qg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=eu(t),i=Cu.now(),s=e.reduce(function(t,e){return t.add(e.key)},Kh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=bh(u,n.get(u.key));null!=l&&o.push(new wh(u.key,l,ol(l.proto.mapValue),dh.exists(!0)))}return r.Ho.Pi(t,i,o,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Rh(iu)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Ig(r,i.oi)];case 3:return a.sent(),[4,Hm(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Yd(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function yg(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r;return Object(Kc.d)(this,function(i){switch(i.label){case 0:n=eu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Lp(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(tu(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?tu(r.yl):t.Ke.size>0&&(tu(r.yl),r.yl=!1))}),[4,Ig(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,$f(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function vg(t,e,n){var r=eu(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=eu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)}),r&&ig(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function _g(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(Kc.d)(this,function(u){switch(u.label){case 0:return(r=eu(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new Rh(Pu.J)).Ht(s,new ul(s,ku.min())),a=Kh().add(s),c=new Yh(ku.min(),new Map,new Mh(iu),o,a),[4,yg(r,c)]):[3,2];case 1:return u.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),Pg(r),[3,4];case 2:return[4,Vp(r.Sh,e,!1).then(function(){return Sg(r,e,n)}).catch($f)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function wg(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Kc.d)(this,function(s){switch(s.label){case 0:n=eu(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Rp(n.Sh,e)];case 2:return i=s.sent(),kg(n,r,null),Cg(n,r),n.pl.Fa(r,"acknowledged"),[4,Ig(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,$f(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Og(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i;return Object(Kc.d)(this,function(s){switch(s.label){case 0:r=eu(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=eu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return tu(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=s.sent(),kg(r,e,n),Cg(r,e),r.pl.Fa(e,"rejected",n),[4,Ig(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,$f(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function xg(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Kc.d)(this,function(a){switch(a.label){case 0:Lm((n=eu(t)).gl)||Qc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=eu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=Yd(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Cg(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function kg(t,e,n){var r=eu(t),i=r.Ol[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Sg(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.ki(e)||Eg(t,e)})}function Eg(t,e){var n=t.xl.get(e);null!==n&&(Pm(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Pg(t))}function Ag(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof cg?(t.Fl.sr(s.key,e),Tg(t,s)):s instanceof ug?(Qc("SyncEngine","Document no longer in limbo: "+s.key),t.Fl.rr(s.key,e),t.Fl.ki(s.key)||Eg(t,s.key)):Jc()}}function Tg(t,e){var n=e.key;t.xl.get(n)||(Qc("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Pg(t))}function Pg(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new dg(e)),t.xl=t.xl.Ht(e,n),Tm(t.gl,new Wl(Bl(Rl(e.path)),n,2,xu.U))}}function Ig(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Kc.d)(this,function(a){switch(a.label){case 0:return r=eu(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){o.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ap.cc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return Object(Kc.d)(this,function(l){switch(l.label){case 0:n=eu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ud.forEach(e,function(e){return Ud.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return Ud.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Kd(r=l.sent()))throw r;return Qc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.dc.get(a),u=c.Bt(c.Mt),n.dc=n.dc.Ht(a,u));return[2]}})})}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function jg(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return(n=eu(t)).currentUser.isEqual(e)?[3,3]:(Qc("SyncEngine","User change. New user:",e.R()),[4,jp(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new uu(cu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Ig(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Rg(t,e){var n=eu(t),r=n.Nl.get(e);if(r&&r.yl)return Kh().add(r.key);var i=Kh(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Sl.get(a[o]);i=i.ye(c.view.fl)}return i}function Dg(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return[4,Bp((n=eu(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&Ag(n,e.targetId,i.ml),i)]}})})}function Lg(t){return Object(Kc.b)(this,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){return[2,Hp((e=eu(t)).Sh).then(function(t){return Ig(e,t)})]})})}function Mg(t,e,n,r){return Object(Kc.b)(this,void 0,void 0,function(){var i,s;return Object(Kc.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=eu(t),r=eu(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):Ud.resolve(null)})})}((i=eu(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Hm(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(kg(i,e,r||null),Cg(i,e),function(t,e){eu(eu(t).Ho).Ni(e)}(i.Sh,e)):Jc(),o.label=4;case 4:return[4,Ig(i,s)];case 5:return o.sent(),[3,7];case 6:Qc("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Ng(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Kc.d)(this,function(u){switch(u.label){case 0:return zg(n=eu(t)),qg(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Fg(n,r.rt())]);case 1:return i=u.sent(),n.Ll=!0,[4,Qm(n.gl,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)Tm(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],c=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):c=c.then(function(){return Sg(n,e),Vp(n.Sh,e,!0)}),Pm(n.gl,e)}),[4,c]);case 4:return u.sent(),[4,Fg(n,a)];case 5:return u.sent(),function(t){var e=eu(t);e.Nl.forEach(function(t,n){Pm(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new Rh(Pu.J)}(n),n.Ll=!1,[4,Qm(n.gl,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function Fg(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(Kc.d)(this,function(m){switch(m.label){case 0:n=eu(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Dl.get(a=o[s]))&&0!==u.length?[4,Fp(n.Sh,Bl(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Sl.get(h[l]),[4,Dg(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Up(n.Sh,a)];case 8:return p=m.sent(),[4,Fp(n.Sh,p)];case 9:return c=m.sent(),[4,mg(n,Vg(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function Vg(t){return jl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Bg(t){var e=eu(t);return eu(eu(e.Sh).persistence).Qo()}function Ug(t,e,n,r){return Object(Kc.b)(this,void 0,void 0,function(){var i,s,o;return Object(Kc.d)(this,function(a){switch(a.label){case 0:return(i=eu(t)).Ll?(Qc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Hp(i.Sh)];case 3:return s=a.sent(),o=Yh.$e(e,"current"===n),[4,Ig(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Vp(i.Sh,e,!0)];case 6:return a.sent(),Sg(i,e,r),[3,8];case 7:Jc(),a.label=8;case 8:return[2]}})})}function Hg(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,u,l,h;return Object(Kc.d)(this,function(d){switch(d.label){case 0:if(!(r=zg(t)).Ll)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(Qc("SyncEngine","Adding an already active target "+o),[3,5]):[4,Up(r.Sh,o)]:[3,6];case 2:return a=d.sent(),[4,Fp(r.Sh,a)];case 3:return c=d.sent(),[4,mg(r,Vg(a),c.targetId,!1)];case 4:d.sent(),Tm(r.gl,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Vp(r.Sh,t,!1).then(function(){Pm(r.gl,t),Sg(r,t)}).catch($f)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function zg(t){var e=eu(t);return e.gl.Ch.Bh=yg.bind(null,e),e.gl.Ch.Sn=Rg.bind(null,e),e.gl.Ch.$h=_g.bind(null,e),e.vl.uh=ng.bind(null,e.Vl),e.vl.ql=rg.bind(null,e.Vl),e}function qg(t){var e=eu(t);return e.gl.Ch.qh=wg.bind(null,e),e.gl.Ch.Uh=Og.bind(null,e),e}var Gg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return this.Kt=vm(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Ip(this.persistence,new Tp,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Jp(em.ra,this.Kt)},t.prototype.jl=function(t){return new hm},t.prototype.terminate=function(){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),Kg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Kc.c)(e,t),e.prototype.initialize=function(e){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,zp(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,qg(this.Xl.fa)];case 4:return n.sent(),[4,Hm(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Ip(this.persistence,new Tp,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new lp(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=kp(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Kf.Xs(this.cacheSizeBytes):Kf.ei;return new Op(this.synchronizeTabs,e,t.clientId,n,t.fs,bm(),ym(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new hm},e}(Gg),$g=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Kc.c)(e,t),e.prototype.initialize=function(e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r=this;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof lm?(this.pl.fa={nu:Mg.bind(null,n),su:Ug.bind(null,n),iu:Hg.bind(null,n),Qo:Bg.bind(null,n),eu:Lg.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(Kc.b)(r,void 0,void 0,function(){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return[4,Ng(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=bm();if(!lm.Wn(e))throw new uu(cu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kp(t.gu.T,t.gu.persistenceKey);return new lm(e,t.fs,n,t.clientId,t.Yl)},e}(Kg),Wg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n=this;return Object(Kc.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return vg(n.fa,t,1)},this.gl.Ch.s_=jg.bind(null,this.fa),[4,Qm(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Jm},t.prototype.Zl=function(t){var e=vm(t.gu.T),n=new gm(t.gu);return function(t,e,n){return new Cm(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return vg(o.fa,t,0)},s=fm.Wn()?new fm:new dm,new Sm(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new fg(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Kc.b)(this,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return e=eu(t),Qc("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Am(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),Qg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Xg=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Bd,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new og(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t,e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(Kc.b)(this,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t,e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new uu(cu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Tu(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Zg=function(t){this._methodName=t};function Yg(t,e,n){if(!n)throw new uu(cu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Jg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new uu(cu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function tb(t,e,n,r){if(!0===e&&!0===r)throw new uu(cu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function eb(t){if(!Pu.Et(t))throw new uu(cu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function nb(t){if(Pu.Et(t))throw new uu(cu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function rb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Jc()}function ib(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new uu(cu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=rb(t);throw new uu(cu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function sb(t,e){if(e<=0)throw new uu(cu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ob=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new uu(cu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new uu(cu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,tb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ab=new Map,cb=function(){function t(t,e){this.w_="(lite)",this.E_=new ob({}),this.T_=!1,t instanceof gu?(this.I_=t,this.m_=new vu):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new uu(cu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(t.options.projectId)}(t),this.m_=new _u(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new uu(cu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new uu(cu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new ob(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new vu;switch(t.type){case"gapi":var e=t.client;return tu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ou(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new uu(cu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=ab.get(this))&&(Qc("ComponentProvider","Removing Datastore"),ab.delete(this),t.terminate()),Promise.resolve();var t},t}(),ub=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new hb(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),lb=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),hb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Rl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Kc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new ub(this.firestore,null,new Pu(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(lb);function db(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof hu&&(t=t._),Yg("collection","path",e),t instanceof cb)return nb(n=Eu.ct.apply(Eu,Object(Kc.g)([e],r))),new hb(t,null,n);if(!(t instanceof ub||t instanceof hb))throw new uu(cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nb(n=Eu.ct.apply(Eu,Object(Kc.g)([t.path],r)).child(Eu.ct(e))),new hb(t.firestore,null,n)}function fb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof hu&&(t=t._),1===arguments.length&&(e=ru.t()),Yg("doc","path",e),t instanceof cb)return eb(n=Eu.ct.apply(Eu,Object(Kc.g)([e],r))),new ub(t,null,new Pu(n));if(!(t instanceof ub||t instanceof hb))throw new uu(cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return eb(n=t.D_.child(Eu.ct.apply(Eu,Object(Kc.g)([e],r)))),new ub(t.firestore,t instanceof hb?t.v_:null,new Pu(n))}function pb(t,e){return t instanceof hu&&(t=t._),e instanceof hu&&(e=e._),(t instanceof ub||t instanceof hb)&&(e instanceof ub||e instanceof hb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function mb(t,e){return t instanceof hu&&(t=t._),e instanceof hu&&(e=e._),t instanceof lb&&e instanceof lb&&t.firestore===e.firestore&&Hl(t.C_,e.C_)&&t.v_===e.v_}var gb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new uu(cu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new uu(cu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return iu(this.x_,t.x_)||iu(this.N_,t.N_)},t}(),bb=/^__.*__$/,yb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new wh(t,this.data,this.zt,e,this.fieldTransforms):new _h(t,this.data,e,this.fieldTransforms)},t}(),vb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new wh(t,this.data,this.zt,e,this.fieldTransforms)},t}();function _b(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jc()}}var wb=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Ub(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(_b(this.k_)&&bb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Ob=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||vm(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new wb({k_:t,methodName:e,j_:n,path:Tu.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function xb(t){var e=t.p_(),n=vm(t.I_);return new Ob(t.I_,!!e.ignoreUndefinedProperties,n)}function Cb(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);Nb("Data must be an object, but it was:",o,r);var a,c,u=Lb(r,o);if(s.merge)a=new Du(o.zt),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Fb(e,d[h],n);if(!o.contains(f))throw new uu(cu.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Hb(l,f)||l.push(f)}a=new Du(l),c=o.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,c=o.fieldTransforms;return new yb(new il(u),a,c)}var kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Zg);function Sb(t,e,n){return new wb({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Eb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.prototype.z_=function(t){return new lh(t.path,new nh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Zg),Ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Kc.c)(e,t),e.prototype.z_=function(t){var e=Sb(this,t,!0),n=this.H_.map(function(t){return Db(t,e)}),r=new rh(n);return new lh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zg),Tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Kc.c)(e,t),e.prototype.z_=function(t){var e=Sb(this,t,!0),n=this.H_.map(function(t){return Db(t,e)}),r=new sh(n);return new lh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zg),Pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Kc.c)(e,t),e.prototype.z_=function(t){var e=new ah(t.Kt,Zl(t.Kt,this.J_));return new lh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Zg);function Ib(t,e,n,r){var i=t.G_(1,e,n);Nb("Data must be an object, but it was:",i,r);var s=[],o=new sl;ju(r,function(t,r){var a=Bb(e,t,n);r instanceof hu&&(r=r._);var c=i.U_(a);if(r instanceof kb)s.push(a);else{var u=Db(r,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new Du(s);return new vb(o.yt(),a,i.fieldTransforms)}function jb(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[Fb(e,r,n)],c=[i];if(s.length%2!=0)throw new uu(cu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(Fb(e,s[u])),c.push(s[u+1]);for(var l=[],h=new sl,d=a.length-1;d>=0;--d)if(!Hb(l,a[d])){var f=a[d],p=c[d];p instanceof hu&&(p=p._);var m=o.U_(f);if(p instanceof kb)l.push(f);else{var g=Db(p,m);null!=g&&(l.push(f),h.set(f,g))}}var b=new Du(l);return new vb(h.yt(),b,o.fieldTransforms)}function Rb(t,e,n,r){return void 0===r&&(r=!1),Db(n,t.G_(r?4:3,e))}function Db(t,e){if(t instanceof hu&&(t=t._),Mb(t))return Nb("Unsupported field value:",e,t),Lb(t,e);if(t instanceof Zg)return function(t,e){if(!_b(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Db(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof hu&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zl(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Cu.fromDate(t);return{timestampValue:ld(e.Kt,n)}}if(t instanceof Cu)return n=new Cu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ld(e.Kt,n)};if(t instanceof gb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lu)return{bytesValue:hd(e.Kt,t.l)};if(t instanceof ub){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:pd(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+rb(t))}(t,e)}function Lb(t,e){var n={};return Ru(t)?e.path&&e.path.length>0&&e.zt.push(e.path):ju(t,function(t,r){var i=Db(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Mb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Cu||t instanceof gb||t instanceof lu||t instanceof ub||t instanceof Zg)}function Nb(t,e,n){if(!Mb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=rb(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Fb(t,e,n){if(e instanceof hu&&(e=e._),e instanceof Xg)return e.d_;if("string"==typeof e)return Bb(t,e);throw Ub("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Vb=new RegExp("[~\\*/\\[\\]]");function Bb(t,e,n){if(e.search(Vb)>=0)throw Ub("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Xg.bind.apply(Xg,Object(Kc.g)([void 0],e.split("."))))).d_}catch(r){throw Ub("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ub(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new uu(cu.INVALID_ARGUMENT,(a+=". ")+t+c)}function Hb(t,e){return t.some(function(t){return t.isEqual(e)})}var zb=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Kc.b)(this,void 0,void 0,function(){var e,n=this;return Object(Kc.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new uu(cu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Kc.d)(this,function(c){switch(c.label){case 0:return n=eu(t),r=_d(n.Kt)+"/documents",i={documents:e.map(function(t){return gd(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){tu(!!e.found);var n=bd(t,e.found.name),r=fd(e.found.updateTime),i=new il({mapValue:{fields:e.found.fields}});return new cl(n,r,i,{})}(t,e):"missing"in e?function(t,e){tu(!!e.missing),tu(!!e.readTime);var n=bd(t,e.missing),r=fd(e.readTime);return new ul(n,r)}(t,e):Jc()}(n.Kt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());tu(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof ul||t instanceof cl?n.sf(t):Jc()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ah(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Kc.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Pu.ft(n);e.mutations.push(new Th(r,e.Gt(r)))}),[4,function(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return n=eu(t),r=_d(n.Kt)+"/documents",i={writes:e.map(function(t){return Cd(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof cl)e=t.version;else{if(!(t instanceof ul))throw Jc();e=ku.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new uu(cu.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?dh.updateTime(e):dh.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ku.min()))throw new uu(cu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dh.updateTime(e)}return dh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),qb=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new _m(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(Kc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Kc.d)(this,function(r){return t=new zb(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Hu(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ih(e)}return!1},t}(),Gb=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=bu.UNAUTHENTICATED,this.clientId=ru.t(),this._f=function(){},this.N=new Bd,this.credentials.S(function(t){Qc("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new uu(cu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Bd;return this.fs.Tf(function(){return Object(Kc.b)(t,void 0,void 0,function(){var t,n;return Object(Kc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Yd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Kb(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return t.fs.Af(),Qc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(Kc.b)(i,void 0,void 0,function(){return Object(Kc.d)(this,function(t){switch(t.label){case 0:return[4,jp(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function $b(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,Wb(t)];case 1:return n=i.sent(),Qc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(Kc.b)(this,void 0,void 0,function(){var n,r;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return(n=eu(t)).fs.Af(),Qc("RemoteStore","RemoteStore received new credentials"),r=Lm(n),n.Fh.add(3),[4,Am(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Em(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function Wb(t){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Qc("FirestoreClient","Using default OfflineComponentProvider"),[4,Kb(t,new Gg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Qb(t){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Qc("FirestoreClient","Using default OnlineComponentProvider"),[4,$b(t,new Wg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Xb(t){return Wb(t).then(function(t){return t.persistence})}function Zb(t){return Wb(t).then(function(t){return t.Sh})}function Yb(t){return Qb(t).then(function(t){return t.gl})}function Jb(t){return Qb(t).then(function(t){return t.fa})}function ty(t){return Object(Kc.b)(this,void 0,void 0,function(){var e,n;return Object(Kc.d)(this,function(r){switch(r.label){case 0:return[4,Qb(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=pg.bind(null,e.fa),n.Jh=gg.bind(null,e.fa),n)]}})})}function ey(t,e,n){var r=this;void 0===n&&(n={});var i=new Bd;return t.fs.ys(function(){return Object(Kc.b)(r,void 0,void 0,function(){var r;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Qg({next:function(s){e.ys(function(){return eg(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new uu(cu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new uu(cu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new sg(Rl(n.path),s,{includeMetadataChanges:!0,sl:!0});return tg(t,o)},[4,ty(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}function ny(t,e,n){var r=this;void 0===n&&(n={});var i=new Bd;return t.fs.ys(function(){return Object(Kc.b)(r,void 0,void 0,function(){var r;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Qg({next:function(n){e.ys(function(){return eg(t,o)}),n.fromCache&&"server"===r.source?i.reject(new uu(cu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new sg(n,s,{includeMetadataChanges:!0,sl:!0});return tg(t,o)},[4,ty(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}var ry=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new _m(this,"async_queue_retry"),this.vf=function(){var e=ym();e&&Qc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=ym();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=ym();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t,e=this;return Object(Kc.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Kd(t=n.sent()))throw t;return Qc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Xc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Zd.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Jc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Kc.b)(this,void 0,void 0,function(){var t;return Object(Kc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new ry,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Kc.c)(e,t),e.prototype.b_=function(){return this.Lf||oy(this),this.Lf.terminate()},e}(cb);function sy(t){return t.Lf||oy(t),t.Lf.df(),t.Lf}function oy(t){var e=t.p_(),n=function(t,e,n){return new mu(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Gb(t.m_,t.Mf,n)}function ay(t,e,n){var r=this,i=new Bd;return t.fs.enqueue(function(){return Object(Kc.b)(r,void 0,void 0,function(){var r;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Kb(t,n)];case 1:return s.sent(),[4,$b(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===cu.FAILED_PRECONDITION||t.code===cu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function cy(t){if(t.R_||t.P_)throw new uu(cu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var uy=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Gu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nu(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Fu(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Jc()}},t.prototype.jf=function(t,e){var n=this,r={};return ju(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new gb(Nu(t.latitude),Nu(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Bu(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Uu(t));default:return null}},t.prototype.Bf=function(t){var e=Mu(t);return new Cu(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Eu.ct(t);tu(Vd(n));var r=new gu(n.get(1),n.get(3)),i=new Pu(n.X(5));return r.isEqual(e)||Xc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),ly=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ub(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new hy(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(dy("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),hy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ly);function dy(t,e){return"string"==typeof e?Bb(t,e):e instanceof hu?e._.d_:e.d_}function fy(t){if(Ll(t)&&0===t.Nt.length)throw new uu(cu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var py=function(){};function my(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var gy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Kc.c)(e,t),e.prototype.Yf=function(t){var e=xb(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new uu(cu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){xy(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(Oy(r,t,l[u]));a={arrayValue:{values:c}}}else a=Oy(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||xy(o,s),a=Rb(n,"where",o,"in"===s||"not-in"===s);var h=gl.create(i,s,a);return function(t,e){if(e.xt()){var n=Nl(t);if(null!==n&&!n.isEqual(e.field))throw new uu(cu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ml(t);null!==r&&Cy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new uu(cu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new lb(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(py),by=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Kc.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new uu(cu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new uu(cu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new El(e,n);return function(t,e){if(null===Ml(t)){var n=Nl(t);null!==n&&Cy(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new lb(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Il(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(py),yy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Kc.c)(e,t),e.prototype.Yf=function(t){return new lb(t.firestore,t.v_,Ul(t.C_,this.nd,this.sd))},e}(py),vy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Kc.c)(e,t),e.prototype.Yf=function(t){var e=wy(t,this.type,this.rd,this.od);return new lb(t.firestore,t.v_,function(t,e){return new Il(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(py),_y=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Kc.c)(e,t),e.prototype.Yf=function(t){var e=wy(t,this.type,this.rd,this.od);return new lb(t.firestore,t.v_,function(t,e){return new Il(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(py);function wy(t,e,n,r){if(n[0]instanceof hu&&(n[0]=n[0]._),n[0]instanceof ly)return function(t,e,n,r,i){if(!r)throw new uu(cu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Vl(t);o<a.length;o++){var c=a[o];if(c.field.ht())s.push(Yu(e,r.key));else{var u=r.field(c.field);if(Vu(u))throw new uu(cu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.ot();throw new uu(cu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new kl(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=xb(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new uu(cu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.ht()){if("string"!=typeof u)throw new uu(cu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Fl(t)&&-1!==u.indexOf("/"))throw new uu(cu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(Eu.ct(u));if(!Pu.Et(l))throw new uu(cu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Pu(l);a.push(Yu(e,h))}else{var d=Rb(n,r,u);a.push(d)}}return new kl(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function Oy(t,e,n){if(n instanceof hu&&(n=n._),"string"==typeof n){if(""===n)throw new uu(cu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fl(e)&&-1!==n.indexOf("/"))throw new uu(cu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Eu.ct(n));if(!Pu.Et(r))throw new uu(cu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Yu(t,new Pu(r))}if(n instanceof ub)return Yu(t,n.S_);throw new uu(cu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rb(n)+".")}function xy(t,e){if(!Array.isArray(t)||0===t.length)throw new uu(cu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new uu(cu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Cy(t,e,n){if(!n.isEqual(e))throw new uu(cu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ky(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function Sy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ey=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Kc.c)(e,t),e.prototype.Uf=function(t){return new lu(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ub(this.firestore,null,e)},e}(uy),Ay=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ty=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(Kc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Py(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(dy("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(ly),Py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ty),Iy=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Ay(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Py(n.zf,n.Hf,r.key,r,new Ay(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new uu(cu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Py(t.zf,t.Hf,e.doc.key,e.doc,new Ay(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Py(t.zf,t.Hf,e.doc.key,e.doc,new Ay(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:jy(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function jy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jc()}}function Ry(t,e){return t instanceof Ty&&e instanceof Ty?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Iy&&e instanceof Iy&&t.zf===e.zf&&mb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Dy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Kc.c)(e,t),e.prototype.Uf=function(t){return new lu(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ub(this.firestore,null,e)},e}(uy);function Ly(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ib(t,ub);var s=ib(t.firestore,iy),o=xb(s);return e instanceof hu&&(e=e._),Ny(s,[("string"==typeof e||e instanceof Xg?jb(o,"updateDoc",t.S_,e,n,r):Ib(o,"updateDoc",t.S_,e)).F_(t.S_,dh.exists(!0))])}function My(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof hu&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||ky(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(ky(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof ub)u=ib(t.firestore,iy),l=Rl(t.S_.path),c={next:function(e){i[a]&&i[a](Fy(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=ib(t,lb);u=ib(f.firestore,iy),l=f.C_;var p=new Dy(u);c={next:function(t){i[a]&&i[a](new Iy(u,p,f,t))},error:i[a+1],complete:i[a+2]},fy(t.C_)}return function(t,e,n,r){var i=this,s=new Qg(r),o=new sg(e,s,n);return t.fs.ys(function(){return Object(Kc.b)(i,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return e=tg,[4,ty(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.fs.ys(function(){return Object(Kc.b)(i,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return e=eg,[4,ty(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(sy(u),l,h,c)}function Ny(t,e){return function(t,e){var n=this,r=new Bd;return t.fs.ys(function(){return Object(Kc.b)(n,void 0,void 0,function(){var n;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return n=bg,[4,Jb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(sy(t),e)}function Fy(t,e,n){var r=n.docs.get(e.S_),i=new Dy(t);return new Ty(t,i,e.S_,r,new Ay(n.hasPendingWrites,n.fromCache),e.v_)}var Vy=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=xb(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=By(t,this.zf),i=Sy(r.v_,e,n),s=Cb(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.F_(r.S_,dh.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=By(t,this.zf);return e instanceof hu&&(e=e._),s="string"==typeof e||e instanceof Xg?jb(this.wd,"WriteBatch.update",o.S_,e,n,r):Ib(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.F_(o.S_,dh.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=By(t,this.zf);return this.fd=this.fd.concat(new Ah(e.S_,dh.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new uu(cu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function By(t,e){if(t instanceof hu&&(t=t._),t.firestore!==e)throw new uu(cu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Kc.c)(e,t),e.prototype.get=function(e){var n=this,r=By(e,this.zf),i=new Dy(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Ty(n.zf,i,r.S_,t.Jf,new Ay(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=xb(t)}return t.prototype.get=function(t){var e=this,n=By(t,this.zf),r=new Ey(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Jc();var i=t[0];if(i instanceof ul)return new ly(e.zf,r,n.S_,null,n.v_);if(i instanceof cl)return new ly(e.zf,r,i.key,i,n.v_);throw Jc()})},t.prototype.set=function(t,e,n){var r=By(t,this.zf),i=Sy(r.v_,e,n),s=Cb(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=By(t,this.zf);return e instanceof hu&&(e=e._),s="string"==typeof e||e instanceof Xg?jb(this.wd,"Transaction.update",o.S_,e,n,r):Ib(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=By(t,this.zf);return this.Td.delete(e.S_),this},t}()),Hy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){cy(t=ib(t,iy));var n=sy(t),r=t.p_(),i=new Wg;return ay(n,i,new Kg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){cy(t=ib(t,iy));var e=sy(t),n=t.p_(),r=new Wg;return ay(e,r,new $g(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new uu(cu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Bd;return t.Mf.Tf(function(){return Object(Kc.b)(e,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Kc.b)(this,void 0,void 0,function(){return Object(Kc.d)(this,function(e){switch(e.label){case 0:return zd.Wn()?[4,zd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(kp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),zy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof gu||(i.md=e),i}return Object(Kc.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=ib(t,cb)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Zc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Kc.b)(e,void 0,void 0,function(){var e,n;return Object(Kc.d)(this,function(r){switch(r.label){case 0:return[4,Xb(t)];case 1:return e=r.sent(),[4,Yb(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=eu(t);return e.Fh.delete(0),Em(e)}(n))]}})})})}(sy(ib(this._,iy)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Kc.b)(e,void 0,void 0,function(){var e,n;return Object(Kc.d)(this,function(r){switch(r.label){case 0:return[4,Xb(t)];case 1:return e=r.sent(),[4,Yb(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Kc.b)(this,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return(e=eu(t)).Fh.add(0),[4,Am(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(sy(ib(this._,iy)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&tb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Bd;return t.fs.ys(function(){return Object(Kc.b)(e,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(r){switch(r.label){case 0:return e=xg,[4,Jb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(sy(ib(this._,iy)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Qg(e);return t.fs.ys(function(){return Object(Kc.b)(n,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){eu(t).jh.add(e),e.next()},[4,ty(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(Kc.b)(n,void 0,void 0,function(){var e;return Object(Kc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){eu(t).jh.delete(e)},[4,ty(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(sy(t=ib(t,iy)),ky(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new uu(cu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new rv(this,db(this._,t))}catch(t){throw Qy(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Wy(this,fb(this._,t))}catch(t){throw Qy(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new tv(this,function(t,e){if(t=ib(t,cb),Yg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new uu(cu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new lb(t,null,function(t){return new Il(Eu.at(),t)}(e))}(this._,t))}catch(t){throw Qy(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Bd;return t.fs.ys(function(){return Object(Kc.b)(n,void 0,void 0,function(){var n;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Qb(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new qb(t.fs,n,e,r).run(),[2]}})})}),r.promise}(sy(t),function(n){return e(new Uy(t,n))})}(this._,function(n){return t(new Gy(e,n))})},e.prototype.batch=function(){var t=this;return sy(this._),new Ky(new Vy(this._,function(e){return Ny(t._,e)}))},e.prototype.loadBundle=function(t){throw new uu(cu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new uu(cu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(hu),qy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Kc.c)(e,t),e.prototype.Uf=function(t){return new pu(new lu(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Wy.Ad(e,this.firestore,null)},e}(uy),Gy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new qy(e),r}return Object(Kc.c)(e,t),e.prototype.get=function(t){var e=this,n=iv(t);return this._.get(n).then(function(t){return new Yy(e.zf,new Ty(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=iv(t);return n?(Jg("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=iv(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Kc.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=iv(t);return this._.delete(e),this},e}(hu),Ky=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.prototype.set=function(t,e,n){var r=iv(t);return n?(Jg("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=iv(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Kc.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=iv(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(hu),$y=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).zf=e,i.Hf=n,i}return Object(Kc.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Py(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new Jy(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var r=e.Pd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new qy(t),n),i.set(n,s)),s},e}(hu);$y.Pd=new WeakMap;var Wy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new qy(e),r}return Object(Kc.c)(e,t),e.yd=function(t,n,r){if(t.length%2!=0)throw new uu(cu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new ub(n._,r,new Pu(t)))},e.Ad=function(t,n,r){return new e(n,new ub(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new rv(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new rv(this.firestore,db(this._,t))}catch(t){throw Qy(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof hu&&(t=t._),t instanceof ub&&pb(this._,t)},e.prototype.set=function(t,e){e=Jg("DocumentReference.set",e);try{return function(t,e,n){t=ib(t,ub);var r=ib(t.firestore,iy),i=Sy(t.v_,e,n);return Ny(r,[Cb(xb(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,dh.Wt())])}(this._,t,e)}catch(t){throw Qy(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ly(this._,t):Ly.apply(void 0,Object(Kc.g)([this._,t,e],n))}catch(t){throw Qy(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ny(ib((t=this._).firestore,iy),[new Ah(t.S_,dh.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Xy(e),i=Zy(e,function(e){return new Yy(t.firestore,new Ty(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return My(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ib(t,ub);var e=ib(t.firestore,iy),n=sy(e),r=new Dy(e);return function(t,e){var n=this,r=new Bd;return t.fs.ys(function(){return Object(Kc.b)(n,void 0,void 0,function(){var n;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i;return Object(Kc.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=eu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof cl?n.resolve(i):i instanceof ul?n.resolve(null):n.reject(new uu(cu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Yd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Zb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Ty(e,r,t.S_,n,new Ay(n instanceof cl&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=ib(t,ub);var e=ib(t.firestore,iy);return ey(sy(e),t.S_,{source:"server"}).then(function(n){return Fy(e,t,n)})}(this._):function(t){t=ib(t,ub);var e=ib(t.firestore,iy);return ey(sy(e),t.S_).then(function(n){return Fy(e,t,n)})}(this._)).then(function(t){return new Yy(e.firestore,new Ty(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter($y.Rd(this.firestore,t)))},e}(hu);function Qy(t,e,n){return t.message=t.message.replace(e,n),t}function Xy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ky(r))return r}return{}}function Zy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ky(t[0])?t[0]:ky(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Yy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Kc.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Wy(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Ry(this._,t._)},e}(hu),Jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Yy),tv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new qy(e),r}return Object(Kc.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,my(this._,function(t,e,n){var r=e,i=dy("where",t);return new gy(i,r,n)}(t,n,r)))}catch(t){throw Qy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,my(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=dy("orderBy",t);return new by(r,n)}(t,n)))}catch(t){throw Qy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,my(this._,function(t){return sb("limit",t),new yy("limit",t,"F")}(t)))}catch(t){throw Qy(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,my(this._,function(t){return sb("limitToLast",t),new yy("limitToLast",t,"L")}(t)))}catch(t){throw Qy(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,my(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vy("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Qy(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,my(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vy("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Qy(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,my(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _y("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Qy(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,my(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _y("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Qy(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return mb(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ib(t,lb);var e=ib(t.firestore,iy),n=sy(e),r=new Dy(e);return function(t,e){var n=this,r=new Bd;return t.fs.ys(function(){return Object(Kc.b)(n,void 0,void 0,function(){var n;return Object(Kc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Kc.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Kc.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Bp(t,e,!0)];case 1:return a=c.sent(),r=new lg(e,a.Pc),i=r.dl(a.documents),s=r.Ei(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=Yd(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Zb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Iy(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=ib(t,lb);var e=ib(t.firestore,iy),n=sy(e),r=new Dy(e);return ny(n,t.C_,{source:"server"}).then(function(n){return new Iy(e,r,t,n)})}(this._):function(t){t=ib(t,lb);var e=ib(t.firestore,iy),n=sy(e),r=new Dy(e);return fy(t.C_),ny(n,t.C_).then(function(n){return new Iy(e,r,t,n)})}(this._)).then(function(t){return new nv(e.firestore,new Iy(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Xy(e),i=Zy(e,function(e){return new nv(t.firestore,new Iy(t.firestore._,t.Hf,t._,e.ud))});return My(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter($y.Rd(this.firestore,t)))},e}(hu),ev=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Kc.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Jy(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(hu),nv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Kc.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new tv(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Jy(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new ev(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Jy(n.zf,r))})},e.prototype.isEqual=function(t){return Ry(this._,t._)},e}(hu),rv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Kc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Wy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Wy(this.firestore,void 0===t?fb(this._):fb(this._,t))}catch(t){throw Qy(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ib(t.firestore,iy),r=fb(t),i=Sy(t.v_,e);return Ny(n,[Cb(xb(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,dh.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new Wy(e.firestore,t)})},e.prototype.isEqual=function(t){return pb(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter($y.Rd(this.firestore,t)))},e}(tv);function iv(t){return t instanceof hu&&(t=t._),ib(t,ub)}var sv=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Xg.bind.apply(Xg,Object(Kc.g)([void 0],e))))||this}return Object(Kc.c)(e,t),e.documentId=function(){return new e(Tu.lt().ot())},e.prototype.isEqual=function(t){return t instanceof hu&&(t=t._),t instanceof Xg&&this._.d_.isEqual(t.d_)},e}(hu),ov=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Kc.c)(e,t),e.serverTimestamp=function(){var t=new Eb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new kb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ab("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tb("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Pb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(hu);!function(){function t(){this.gd={},this.Vd=new Bd,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)}}();var av,cv=n("/6Yf"),uv={Firestore:zy,GeoPoint:gb,Timestamp:Cu,Blob:pu,Transaction:Gy,WriteBatch:Ky,DocumentReference:Wy,DocumentSnapshot:Yy,Query:tv,QueryDocumentSnapshot:Jy,QuerySnapshot:nv,CollectionReference:rv,FieldPath:sv,FieldValue:ov,setLogLevel:function(t){$c.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new cv.a("firestore",function(t){return function(t,e){return new zy(t,new iy(t,e),new Hy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},uv)))})(av=Ui.a),av.registerVersion("@firebase/firestore","2.1.3");var lv=n("VRyK"),hv=n("qgXg"),dv=n("Ylt2");class fv extends Rt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new pv(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Dt.a;if(this.isStopped||this.hasError?s=De.a.EMPTY:(this.observers.push(t),s=new dv.a(this,t)),r&&t.add(t=new Fi.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||hv.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class pv{constructor(t,e){this.time=t,this.value=e}}function mv(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new fv(t,e,r),l=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function gv(t,e){return e?ne(()=>t,e):ne(()=>t)}var bv=n("tf+s");const yv=new r.q("angularfire2.auth.use-emulator"),vv=new r.q("angularfire2.auth.settings"),_v=new r.q("angularfire2.auth.tenant-id"),wv=new r.q("angularfire2.auth.langugage-code"),Ov=new r.q("angularfire2.auth.use-device-language"),xv=new r.q("angularfire.auth.persistence");let Cv=(()=>{class t{constructor(t,e,r,i,s,o,a,c,u,l){const h=new Vi.d(i),d=Object(Vi.h)(h),f=new Rt.a,p=Object(jt.a)(void 0).pipe(Object(Fi.b)(h.outsideAngular),ne(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(te.a)(()=>Object(Vi.g)(t,i,e)),Object(te.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Vi.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),mv({bufferSize:1,refCount:!1}));if(G(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(jt.a)(null);else{p.pipe(je()).subscribe();const t=p.pipe(ne(t=>t.getRedirectResult().then(t=>t,()=>null)),d,mv({bufferSize:1,refCount:!1})),e=t=>new Ht.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(ne(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(ne(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(gv(n),Object(bv.a)(h.outsideAngular),Object(Fi.b)(h.insideAngular)),this.user=t.pipe(gv(r),Object(bv.a)(h.outsideAngular),Object(Fi.b)(h.insideAngular)),this.idToken=this.user.pipe(ne(t=>t?Object(It.a)(t.getIdToken()):Object(jt.a)(null))),this.idTokenResult=this.user.pipe(ne(t=>t?Object(It.a)(t.getIdTokenResult()):Object(jt.a)(null))),this.credential=Object(lv.a)(t,f,this.authState.pipe(fe(t=>!t))).pipe(Object(te.a)(t=>(null==t?void 0:t.user)?t:null),Object(bv.a)(h.outsideAngular),Object(Fi.b)(h.insideAngular))}return Object(Vi.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Vi.c),r.Tb(Vi.b,8),r.Tb(r.B),r.Tb(r.z),r.Tb(yv,8),r.Tb(vv,8),r.Tb(_v,8),r.Tb(wv,8),r.Tb(Ov,8),r.Tb(xv,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Vi.c),Object(r.Tb)(Vi.b,8),Object(r.Tb)(r.B),Object(r.Tb)(r.z),Object(r.Tb)(yv,8),Object(r.Tb)(vv,8),Object(r.Tb)(_v,8),Object(r.Tb)(wv,8),Object(r.Tb)(Ov,8),Object(r.Tb)(xv,8))},token:t,providedIn:"any"}),t})();Object(Vi.e)(Cv,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let kv=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Cv]}),t})();function Sv(t,e){return function(t,e=Ii.b){return new Ht.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Ev(t,e){return Sv(t,e).pipe(Object(te.a)(t=>({payload:t,type:"query"})))}function Av(t,e){return Ev(t,e).pipe(ue(void 0),ji(),Object(te.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Tv(t,e,n){return Av(t,n).pipe(le((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Pv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Pv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Pv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Li(),Object(te.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Pv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Iv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class jv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Av(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(te.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ue(void 0),ji(),fe(([t,e])=>e.length>0||!t),Object(te.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(le((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Iv(t);return Tv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ev(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object(Fi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Rv(this.ref.doc(t),this.afs)}}class Rv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Vv(n,e);return new jv(r,i,this.afs)}snapshotChanges(){return Sv(this.ref,this.afs.schedulers.outsideAngular).pipe(ue(void 0),ji(),Object(te.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(te.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(It.a)(this.ref.get(t)).pipe(Object(Fi.b)(this.afs.schedulers.insideAngular))}}class Dv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Av(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),fe(t=>t.length>0),this.afs.keepUnstableUntilFirst):Av(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(le((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Iv(t);return Tv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ev(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object(Fi.b)(this.afs.schedulers.insideAngular))}}const Lv=new r.q("angularfire2.enableFirestorePersistence"),Mv=new r.q("angularfire2.firestore.persistenceSettings"),Nv=new r.q("angularfire2.firestore.settings"),Fv=new r.q("angularfire2.firestore.use-emulator");function Vv(t,e=(t=>t)){return{query:e(t),ref:t}}let Bv=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new Vi.d(s),this.keepUnstableUntilFirst=Object(Vi.h)(this.schedulers);const u=Object(Vi.g)(t,s,e);!Bi.a.auth&&c&&Object(Vi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Vi.f)(u.name+".firestore","AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!G(i)){const e=()=>{try{return Object(It.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(av){return"undefined"!=typeof console&&console.warn(av),Object(jt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(jt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Vv(n,e),s=this.schedulers.ngZone.run(()=>r);return new jv(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Dv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Rv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Vi.c),r.Tb(Vi.b,8),r.Tb(Lv,8),r.Tb(Nv,8),r.Tb(r.B),r.Tb(r.z),r.Tb(Mv,8),r.Tb(Fv,8),r.Tb(yv,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Vi.c),Object(r.Tb)(Vi.b,8),Object(r.Tb)(Lv,8),Object(r.Tb)(Nv,8),Object(r.Tb)(r.B),Object(r.Tb)(r.z),Object(r.Tb)(Mv,8),Object(r.Tb)(Fv,8),Object(r.Tb)(yv,8))},token:t,providedIn:"any"}),t})(),Uv=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Lv,useValue:!0},{provide:Mv,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Bv]}),t})(),Hv=(()=>{class t{constructor(t,e,n,r){this.router=t,this.auth=e,this.firestore=n,this.platformId=r,this.userSource=new Lt(void 0),this.loggedUser=this.userSource.asObservable(),this.user$=new Ht.a,this.userState$=e.authState,this.isFullyLoggedIn()||(this.anonymousSignIn(),this.user$=e.authState.pipe(ne(t=>t?this.firestore.doc("profiles/"+t.uid).valueChanges():Object(jt.a)(void 0))),this.user$.subscribe(t=>{t&&t._id&&t.username?(this.changeUser(t),q(this.platformId)&&localStorage.setItem("user",JSON.stringify(t))):q(this.platformId)&&localStorage.removeItem("user")}))}isLoggedIn(){return this.auth.authState.pipe(je())}isFullyLoggedIn(){if(q(this.platformId)){const t=localStorage.getItem("user");if(t){const e=JSON.parse(t);return this.changeUser(e),!0}return!1}return!1}changeUser(t){this.userSource.next(t)}anonymousSignIn(){return Pi(this,void 0,void 0,function*(){this.auth.signInAnonymously()})}googleSignIn(){return Pi(this,void 0,void 0,function*(){const t=new Bi.a.auth.GoogleAuthProvider,e=yield this.auth.signInWithPopup(t);this.updateUserData(e.user)})}googleRegister(t){return Pi(this,void 0,void 0,function*(){const e=new Bi.a.auth.GoogleAuthProvider,n=yield this.auth.signInWithPopup(e);this.createUserData(n.user,t)})}signOut(){return Pi(this,void 0,void 0,function*(){return yield this.anonymousSignIn(),q(this.platformId)&&localStorage.removeItem("user"),this.changeUser(void 0),this.router.navigate(["/"])})}createUserData(t,e){const n=this.firestore.doc("profiles/"+t.uid),r={_id:t.uid,created:new Date,lastSignedIn:new Date,email:t.email,avatar:"https://www.gstatic.com/stadia/gamers/avatars/xxhdpi/avatar_01.png",stadiaId:e.stadiaId,username:e.username,platform:"web"};n.get().subscribe(t=>{t.exists||n.set(r)})}updateUserData(t){const e=this.firestore.doc("profiles/"+t.uid);e.get().subscribe(n=>{n.exists?e.set({lastSignedIn:new Date,platform:"web"},{merge:!0}):e.set({_id:t.uid,created:new Date,lastSignedIn:new Date,email:t.email,avatar:"",stadiaId:"",username:"",platform:"web"})})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ci),r.Tb(Cv),r.Tb(Bv),r.Tb(r.B))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zv=(()=>{class t{constructor(t,e){this.afs=t,this.auth=e,this._done=new Lt(!1),this._loading=new Lt(!1),this._data=new Lt([]),this.query={path:"",field:"",limit:2,reverse:!1,prepend:!1,sort:{}},this.data=new Ht.a,this.done=this._done.asObservable(),this.loading=this._loading.asObservable()}init(t,e,n){this._data=new Lt([]),this._done.next(!1),this._loading.next(!1),this.query=Object.assign({path:t,field:e,limit:10,reverse:!1,prepend:!1},n),this.safeInit()}safeInit(){return Pi(this,void 0,void 0,function*(){this.auth.isLoggedIn().pipe(Object(Re.a)(t=>{if(t){const t=this.afs.collection(this.query.path,t=>t.orderBy(this.query.field,this.query.reverse?"desc":"asc").limit(this.query.limit));this.mapAndUpdate(t),this.data=this._data.pipe(le((t,e)=>this.query.prepend?e.concat(t):t.concat(e)),Object(te.a)(t=>{let e=this.uniqueValues(t);return e.sort((t,e)=>this.doubleSort(t,e,this.query)),e}))}else this.auth.anonymousSignIn()})).subscribe()})}uniqueValues(t){var e=[],n=[];for(let r=0;r<t.length;r++)e[t[r]._id]||(n.push(t[r]),e[t[r]._id]=1);return n}doubleSort(t,e,n){return t[n.field]==e[n.field]&&n.sort?n.sort.reverse?this.get(e,n.sort.field)-this.get(t,n.sort.field):this.get(t,n.sort.field)-this.get(e,n.sort.field):n.reverse?this.get(e,n.field)-this.get(t,n.field):this.get(t,n.field)-this.get(e,n.field)}get(t,e){return"players"==e?t[e].length:t[e]}more(){if(0===this._data.value.length)return;const t=this.getCursor(),e=this.afs.collection(this.query.path,e=>e.orderBy(this.query.field,this.query.reverse?"desc":"asc").limit(this.query.limit).startAfter(t));this.mapAndUpdate(e)}getCursor(){const t=this._data.value;return t.length?this.query.prepend?t[0].doc:t[t.length-1].doc:null}mapAndUpdate(t){if(!this._done.value&&!this._loading.value)return this._loading.next(!0),t.snapshotChanges(["added","removed"]).pipe(Object(Re.a)(t=>{let e=t.map(t=>{const e=t.payload.doc.data(),n=t.payload.doc;return Object.assign(Object.assign({_id:n.id},e),{doc:n})});e=this.query.prepend?e.reverse():e,this._data.next(e),this._loading.next(!1),e.length||this._done.next(!0)})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Bv),r.Tb(Hv))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qv=(()=>{class t{constructor(t,e){this.meta=t,this.title=e}generateTags(t){t=Object.assign({title:"Stadia Hunters | Stadia Achievements Tracking and Guides",description:"Stadia Hunters is the community for Stadia achievements hunters. Find all the stadia achievements list for all the released games with achievements guides, secret achievements revealed, reporting bugged, seperating by dlc requirements and more. The best way on Stadia to view achievements and track them. Here you also find the best stadia leaderboard and stadia game stats with most users. Use the extension to get easiest solution on how to see stadia achievements on chrome and the Android app to view stadia achievements.",image:"https://firebasestorage.googleapis.com/v0/b/stadiaachievements-34145.appspot.com/o/Achievements%20%26%20Guides%20(7).png?alt=media&token=64343a06-8dcd-45f6-bf80-ee6b34de4ab4",slug:""},t),this.title.setTitle(t.title),this.meta.updateTag({name:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({name:"twitter:site",content:"@stadiahunters"}),this.meta.updateTag({name:"twitter:title",content:t.title}),this.meta.updateTag({name:"twitter:description",content:t.description}),this.meta.updateTag({name:"twitter:image",content:t.image}),this.meta.updateTag({name:"og:type",content:"article"}),this.meta.updateTag({name:"og:site_name",content:"StadiaHunters"}),this.meta.updateTag({name:"og:title",content:t.title}),this.meta.updateTag({name:"og:descriptiom",content:t.description}),this.meta.updateTag({name:"og:image",content:t.image})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Et),r.Tb(Pt))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gv=(()=>{class t{constructor(){this.banner="",this.banners=["https://storage.googleapis.com/stadiaachievements-34145.appspot.com/test/baldurs-gate-3.jpg","https://storage.googleapis.com/stadiaachievements-34145.appspot.com/test/crayta.jpg","https://storage.googleapis.com/stadiaachievements-34145.appspot.com/banners/gylt.jpg","https://storage.googleapis.com/stadiaachievements-34145.appspot.com/banners/outcasters.jpg","https://storage.googleapis.com/stadiaachievements-34145.appspot.com/banners/rock-of-ages-3.jpg","https://storage.googleapis.com/stadiaachievements-34145.appspot.com/test/super-bomberman-r-online.jpg"]}ngOnInit(){this.carousel()}carousel(){let t=this.getRandomInt(this.banners.length);this.banner=this.banners[t]}getRandomInt(t){return Math.floor(Math.random()*Math.floor(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["banner"]],decls:2,vars:2,consts:[[1,"game-banner"],[1,"game-banner__shade","mdc-layout-grid"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Lb(1,"div",1),r.Ob()),2&t&&r.vc("background-image","url("+e.banner+")")},styles:[".slides[_ngcontent-%COMP%]{width:100%;min-width:800px}",".game-banner[_ngcontent-%COMP%]{cursor:pointer;background-repeat:no-repeat;background-size:cover;position:relative;background-position:50%}.game-banner__shade[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:240px;padding-top:25%;background-image:linear-gradient(0deg,rgba(0,0,0,.7),transparent)}.centered[_ngcontent-%COMP%]{text-align:center}"]}),t})();n("7Hc7");var Kv=n("n6bG");function $v(t,e,n,r){return Object(Kv.a)(n)&&(r=n,n=void 0),r?$v(t,e,n).pipe(Object(te.a)(t=>Object(Nt.a)(t)?r(...t):r(t))):new Ht.a(r=>{Wv(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Wv(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Wv(t[s],e,n,r,i)}r.add(s)}function Qv(t,e=Ii.a){return n=>n.lift(new Xv(t,e))}class Xv{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Zv(t,this.dueTime,this.scheduler))}}class Zv extends Ft.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Yv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Yv(t){t.debouncedNext()}function Jv(t){return e=>e.lift(new t_(t))}class t_{constructor(t){this.notifier=t}call(t,e){const n=new e_(t),r=Object(ee.c)(this.notifier,new ee.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class e_ extends ee.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const n_={provide:r.b,useFactory:function(t,e){return()=>{if(q(e)){const e=Array.from(t.querySelectorAll(`[class*=${r_}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(r_+"ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(n,"")})}}},deps:[o,r.B],multi:!0},r_="flex-layout-";let i_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[n_]}),t})();class s_{constructor(t=!1,e="all",n="",r="",i=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=r,this.priority=i,this.property=""}clone(){return new s_(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let o_=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const r=this.stylesheet.get(t);r?r.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let r="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(r=t+"")}return r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const a_={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},c_=new r.q("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>a_}),u_=new r.q("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),l_=new r.q("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function h_(t,e){return t=t?t.clone():new s_,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const d_=["row","column","row-reverse","column-reverse"];function f_(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let p_=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Rt.a,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,r=n.shouldCache;let i=this.styleCache.get(t);i&&r||(i=n.buildStyles(t,e),r&&this.styleCache.set(t,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),n.sideEffect(t,i,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,r]=this.styler.getFlowDirection(t);if(!r&&e){const e=function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return d_.find(t=>t===e)||(e=d_[0]),"inline"===n&&(n="inline"!==r?r:"",r="inline"),[e,f_(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return t.\u0275fac=function(t){r.Wb()},t.\u0275dir=r.Fb({type:t,features:[r.yb]}),t})();const m_=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],g_="(orientation: portrait) and (max-width: 599.98px)",b_="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",y_="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",v_="(orientation: portrait) and (min-width: 840px)",__="(orientation: landscape) and (min-width: 1280px)",w_={HANDSET:g_+", (orientation: landscape) and (max-width: 959.98px)",TABLET:`${b_} , ${y_}`,WEB:`${v_}, ${__} `,HANDSET_PORTRAIT:""+g_,TABLET_PORTRAIT:b_+" ",WEB_PORTRAIT:""+v_,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.98px)",TABLET_LANDSCAPE:""+y_,WEB_LANDSCAPE:""+__},O_=[{alias:"handset",priority:2e3,mediaQuery:w_.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:w_.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:w_.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:w_.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:w_.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:w_.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:w_.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:w_.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:w_.WEB_PORTRAIT,overlapping:!0}],x_=/(\.|-|_)/g;function C_(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const k_=new r.q("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Object(r.V)(l_),e=Object(r.V)(c_),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(r=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(x_,"|").split("|").map(C_).join("")}(t.alias),t.overlapping=!!t.overlapping)}),r;var r}((e.disableDefaultBps?[]:m_).concat(e.addOrientationBps?O_:[]),n)}});function S_(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function E_(t,e){return(t.priority||0)-(e.priority||0)}let A_=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(E_)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(k_))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(k_))},token:t,providedIn:"root"}),t})(),T_=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new Lt(new s_(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return e?e.matches:this.registerQuery(t).some(t=>t.matches)}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(fe(n=>!e||t.indexOf(n.mediaQuery)>-1)),r=new Ht.a(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()});return Object(lv.a)(r,n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!P_[t]);if(n.length>0){const t=n.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(r),n.forEach(t=>P_[t]=r)}catch(av){console.error(av)}}}(e,this._document),e.forEach(t=>{const e=e=>{this._zone.run(()=>this.source.next(new s_(e.matches,t)))};let r=this.registry.get(t);r||(r=this.buildMQL(t),r.addListener(e),this.pendingRemoveListenerFns.push(()=>r.removeListener(e)),this.registry.set(t,r)),r.matches&&n.push(new s_(!0,t))}),n}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,q(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.z),r.Tb(r.B),r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(r.z),Object(r.Tb)(r.B),Object(r.Tb)(o))},token:t,providedIn:"root"}),t})();const P_={},I_={alias:"print",mediaQuery:"print",priority:1e3};let j_=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.layoutConfig=e,this._document=n,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new R_,this.deactivations=[]}withPrintQuery(t){return[...t,"print"]}isPrintEvent(t){return t.mediaQuery.startsWith("print")}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(S_)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),h_(t,e)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const e=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new s_(!0,"print"))),t.updateStyles())},n=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",e),this._document.defaultView.addEventListener("afterprint",n),this.beforePrintEventListeners.push(e),this.afterPrintEventListeners.push(n)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):e.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(S_))}}ngOnDestroy(){this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(A_),r.Tb(c_),r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(A_),Object(r.Tb)(c_),Object(r.Tb)(o))},token:t,providedIn:"root"}),t})();class R_{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(I_),t.sort(S_),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith("print")}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function D_(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let L_=(()=>{class t{constructor(t,e,n,r){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=r}applyStyleToElement(t,e,n=null){let r={};"string"==typeof e&&(r[e]=n,e=r),r=this.layoutConfig.disableVendorPrefixes?e:D_(e),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:D_(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||G(this._platformId)&&this._serverModuleLoaded?e:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return q(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let r="";return t&&((r=this.lookupInlineStyle(t,e))||(q(this._platformId)?n||(r=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,e)))),r?r.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const r=t[n],i=Array.isArray(r)?r:[r];i.sort();for(let t of i)t=t?t+"":"",q(this._platformId)||!this._serverModuleLoaded?q(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=this._readStyleAttribute(t);r[e]=n||"",this._writeStyleAttribute(t,r)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const r=t[n].trim();if(r.length>0){const t=r.indexOf(":");if(-1===t)throw new Error("Invalid CSS style: "+r);e[r.substr(0,t).trim()]=r.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const r in e)e[r]&&(n+=r+":"+e[r]+";");t.setAttribute("style",n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o_),r.Tb(u_),r.Tb(r.B),r.Tb(c_))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(o_),Object(r.Tb)(u_),Object(r.Tb)(r.B),Object(r.Tb)(c_))},token:t,providedIn:"root"}),t})();class M_{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}let N_=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Rt.a,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=h_(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(S_),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(S_),this.updateStyles()))}init(t,e,n,r,i=[]){F_(this.updateMap,t,e,n),F_(this.clearMap,t,e,r),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,i)}getValue(t,e,n){const r=this.elementMap.get(t);if(r){const t=void 0!==n?r.get(n):this.getActivatedValues(r,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,r){let i=this.elementMap.get(t);if(i){const s=(i.get(r)||new Map).set(e,n);i.set(r,s),this.elementMap.set(t,i)}else i=(new Map).set(r,(new Map).set(e,n)),this.elementMap.set(t,i);const s=this.getValue(t,e);void 0!==s&&this.updateElement(t,e,s)}trackValue(t,e){return this.subject.asObservable().pipe(fe(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let r=this.getActivatedValues(t);r&&r.forEach((t,r)=>{this.updateElement(e,r,t),n.delete(r)}),n.forEach(n=>{if(r=this.getActivatedValues(t,n),r){const t=r.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const r=n.get(e);r&&(r(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const r=this.updateMap.get(t);if(r){const i=r.get(e);i&&(i(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const r=this.getActivatedValues(n,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(e)){const i=Object(lv.a)(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});r.set(e,i)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let r=0;r<this.activatedBreakpoints.length;r++){const n=t.get(this.activatedBreakpoints[r].alias);if(n&&(void 0===e||n.has(e)&&null!=n.get(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Object(Re.a)(this.hook.interceptEvents(this)),fe(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(T_),r.Tb(A_),r.Tb(j_))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(T_),Object(r.Tb)(A_),Object(r.Tb)(j_))},token:t,providedIn:"root"}),t})();function F_(t,e,n,r){if(void 0!==r){let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}}function V_(t){return null!=t&&""+t!="false"}function B_(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function U_(t){return Array.isArray(t)?t:[t]}function H_(t){return null==t?"":"string"==typeof t?t:t+"px"}function z_(t){return t instanceof r.l?t.nativeElement:t}new Map;let q_=(()=>{class t extends p_{constructor(t,e,n,r,i,s,o){super(t,null,e,n),this.ngClassInstance=o,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new A(r,i,t,s)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(L_),r.Kb(N_),r.Kb(r.s),r.Kb(r.t),r.Kb(r.E),r.Kb(A,10))},t.\u0275dir=r.Fb({type:t,inputs:{klass:["class","klass"]},features:[r.xb]}),t})();const G_=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let K_=(()=>{class t extends q_{constructor(){super(...arguments),this.inputs=G_}}return t.\u0275fac=function(e){return $_(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[r.xb]}),t})();const $_=r.Rb(K_);let W_=(()=>{class t extends M_{buildStyles(t,e){return{display:"true"===t?e.display||(e.isServer?"initial":""):"none"}}}return t.\u0275fac=function(e){return Q_(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Q_=r.Rb(W_);let X_=(()=>{class t extends p_{constructor(t,e,n,r,i,s,o){super(t,e,n,r),this.layoutConfig=i,this.platformId=s,this.serverModuleLoaded=o,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const t=Array.from(this.nativeElement.children);for(let n=0;n<t.length;n++)if(this.marshal.hasValue(t[n],"flex")){this.hasFlexChild=!0;break}Z_.has(this.nativeElement)?this.display=Z_.get(this.nativeElement):(this.display=this.getDisplayStyle(),Z_.set(this.nativeElement,this.display)),this.init();const e=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===e||""===e?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split("."),r=n.slice(1).join("."),i=t[e].currentValue;let s=""===i||0!==i&&V_(i);"fxHide"===n[0]&&(s=!s),this.setValue(s,r)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(t=>{this.marshal.trackValue(this.nativeElement,t).pipe(Jv(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(t=!0){if(""===t)return;const e=G(this.platformId);this.addStyles(t?"true":"false",{display:this.display,isServer:e}),e&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(W_),r.Kb(L_),r.Kb(N_),r.Kb(c_),r.Kb(r.B),r.Kb(u_))},t.\u0275dir=r.Fb({type:t,features:[r.xb,r.yb]}),t})();const Z_=new WeakMap,Y_=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let J_=(()=>{class t extends X_{constructor(){super(...arguments),this.inputs=Y_}}return t.\u0275fac=function(e){return tw(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[r.xb]}),t})();const tw=r.Rb(J_);let ew=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[i_]]}),t})(),nw=(()=>{class t{constructor(){this.scrollPosition=new r.n}onScroll(t){try{const t=document.documentElement.scrollTop,e=window.innerHeight;t>document.body.offsetHeight-e-1&&this.scrollPosition.emit("bottom"),0===t&&this.scrollPosition.emit("top")}catch(e){console.log("err")}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","scrollable",""]],hostBindings:function(t,e){1&t&&r.Xb("scroll",function(t){return e.onScroll(t)},!1,r.oc)},outputs:{scrollPosition:"scrollPosition"}}),t})(),rw=(()=>{class t{constructor(){this.gameSource=new Lt(void 0),this.currentGame=this.gameSource.asObservable()}changeGame(t){this.gameSource.next(t)}buildGameName(t){return t.replace(/\-/g," ").split(" ").map(t=>"and"==t||"the"==t||"of"==t?t:t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}buildGameBanner(t){return`https://storage.googleapis.com/stadiaachievements-34145.appspot.com/banners/${t}.jpg`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function iw(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"i",7),r.Ac(2,"emoji_events"),r.Ob(),r.Pb(3,"span"),r.Ac(4),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(4),r.Bc(t.game.achievements)}}function sw(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"i",7),r.Ac(2,"help_outline"),r.Ob(),r.Pb(3,"span"),r.Ac(4),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(4),r.Bc(t.game.achievements_secret)}}function ow(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"i",7),r.Ac(2,"error_outline"),r.Ob(),r.Pb(3,"span"),r.Ac(4),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(4),r.Bc(t.game.achievements_bugged)}}function aw(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"i",7),r.Ac(2,"date_range"),r.Ob(),r.Pb(3,"span"),r.Ac(4),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(4),r.Bc(t.game.achievements_timed)}}function cw(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"span",8),r.Ac(2,"DLC"),r.Ob(),r.Pb(3,"span"),r.Ac(4),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(4),r.Bc(t.game.achievements_dlc)}}let uw=(()=>{class t{constructor(t){this.gameService=t}ngOnInit(){}buildRoute(){return`/game/${this.game.tag}/achievements`}changeGame(){this.gameService.changeGame(this.game)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(rw))},t.\u0275cmp=r.Eb({type:t,selectors:[["game-card"]],inputs:{game:"game"},decls:12,vars:10,consts:[[3,"id","routerLink","click"],[1,"game-card"],[1,"game-card_background"],[1,"game-card_shade"],[1,"game-card_title"],[1,"game-card_legend"],[4,"ngIf"],[1,"material-icons","md-16"],[1,"dlc-icon"]],template:function(t,e){1&t&&(r.Pb(0,"a",0),r.Xb("click",function(){return e.changeGame()}),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"div",4),r.Ac(5),r.Ob(),r.Pb(6,"div",5),r.yc(7,iw,5,1,"div",6),r.yc(8,sw,5,1,"div",6),r.yc(9,ow,5,1,"div",6),r.yc(10,aw,5,1,"div",6),r.yc(11,cw,5,1,"div",6),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.hc("routerLink",e.buildRoute()),r.gc("id",e.game._id),r.Ab(2),r.vc("background-image","url("+e.game.banner+")"),r.Ab(3),r.Bc(e.game.name),r.Ab(2),r.gc("ngIf",e.game.achievements>0),r.Ab(1),r.gc("ngIf",e.game.achievements_secret>0),r.Ab(1),r.gc("ngIf",e.game.achievements_bugged>0),r.Ab(1),r.gc("ngIf",e.game.achievements_timed>0),r.Ab(1),r.gc("ngIf",e.game.achievements_dlc>0))},directives:[ui,j],styles:[".game-card[_ngcontent-%COMP%]{box-shadow:4px 4px 8px 4px rgba(0,0,0,.2);transition:.3s;height:8rem;border-radius:8px;cursor:pointer}.game-card[_ngcontent-%COMP%]:hover{box-shadow:8px 8px 16px 8px rgba(0,0,0,.4)}.game-card_background[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:.5rem;background-position:50%;background-repeat:no-repeat;background-size:cover}.game-card_shade[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:8px;background-image:linear-gradient(0deg,rgba(0,0,0,.7),transparent)}.game-card_legend[_ngcontent-%COMP%]{right:0}.game-card_legend[_ngcontent-%COMP%], .game-card_title[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:8px}.game-card_title[_ngcontent-%COMP%]{left:0;font-weight:400;text-align:start;max-width:75%}.dlc-icon.text[_ngcontent-%COMP%]{width:20px;text-align:center;margin-left:8px;margin-right:13px}.dlc-icon[_ngcontent-%COMP%]{font-weight:500;margin:.2rem}.material-icons.md-16[_ngcontent-%COMP%]{position:relative;top:3px;margin:0 .5rem}.separator[_ngcontent-%COMP%]{background-color:grey;width:75%;height:1px;margin:.5rem auto}"]}),t})(),lw=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["loading-spinner"]],decls:8,vars:0,consts:[[1,"center",2,"width","fit-content"],[1,"sk-chase"],[1,"sk-chase-dot"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"div",2),r.Lb(4,"div",2),r.Lb(5,"div",2),r.Lb(6,"div",2),r.Lb(7,"div",2),r.Ob(),r.Ob())},styles:['.sk-chase[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;-webkit-animation:sk-chase 2.5s linear infinite both;animation:sk-chase 2.5s linear infinite both}.sk-chase-dot[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;-webkit-animation:sk-chase-dot 2s ease-in-out infinite both;animation:sk-chase-dot 2s ease-in-out infinite both}.sk-chase-dot[_ngcontent-%COMP%]:before{content:"";display:block;width:25%;height:25%;background-color:#fff;border-radius:100%;-webkit-animation:sk-chase-dot-before 2s ease-in-out infinite both;animation:sk-chase-dot-before 2s ease-in-out infinite both}.sk-chase-dot[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1s;animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.8s;animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.6s;animation-delay:-.6s}.sk-chase-dot[_ngcontent-%COMP%]:first-child:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2):before{-webkit-animation-delay:-1s;animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3):before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4):before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5):before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6):before{-webkit-animation-delay:-.6s;animation-delay:-.6s}@-webkit-keyframes sk-chase{to{transform:rotate(1turn)}}@keyframes sk-chase{to{transform:rotate(1turn)}}@-webkit-keyframes sk-chase-dot{80%,to{transform:rotate(1turn)}}@keyframes sk-chase-dot{80%,to{transform:rotate(1turn)}}@-webkit-keyframes sk-chase-dot-before{50%{transform:scale(.4)}0%,to{transform:scale(1)}}@keyframes sk-chase-dot-before{50%{transform:scale(.4)}0%,to{transform:scale(1)}}']}),t})();function hw(t,e){1&t&&r.Lb(0,"game-card",15),2&t&&r.gc("game",e.$implicit)}function dw(t,e){1&t&&(r.Pb(0,"p",16),r.Ac(1," _______"),r.Ob())}function fw(t,e){1&t&&r.Lb(0,"loading-spinner",16)}const pw=function(t){return{show:t}};let mw,gw=(()=>{class t{constructor(t,e){this.page=t,this.seo=e,this.meta_data={title:"Games | Stadia Hunters",description:"Full list of games on Stadia.",image:"https://firebasestorage.googleapis.com/v0/b/stadiaachievements-34145.appspot.com/o/Achievements%20%26%20Guides%20(7).png?alt=media&token=64343a06-8dcd-45f6-bf80-ee6b34de4ab4"},this.showDropdown=!1,this.selected="launchDate"}ngOnInit(){this.seo.generateTags(this.meta_data),this.fetchGames()}fetchGames(t="launchDate",e="",n=!0){this.page.init("games",t,{limit:36,reverse:n,prepend:!1})}scrollHandler(t){"bottom"===t&&this.page.more()}showDialog(){this.showDropdown=!this.showDropdown}buildDropdownText(){switch(this.selected){case"launchDate":return"Sort by : Release";case"owned":return"Sort by : Popular";case"completed":return"Sort by : Completions";case"achievements":return"Sort by : Achievements";case"achievements_secret":return"Sort by : Secret Achievements";case"achievements_bugged":return"Sort by : Bugged Achievements";case"achievements_timed":return"Sort by : Timed Achievements";case"achievements_dlc":return"Sort by : Required DLC";default:return"Sort by : Release"}}sort(t){console.log(t),this.showDialog(),t!==this.selected&&(this.selected=t,this.fetchGames(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(zv),r.Kb(qv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-games"]],decls:40,vars:13,consts:[[1,"mdc-layout-grid","mdc-grid",2,"min-height","500px"],[1,"mdc-layout-grid__inner",2,"margin","1rem 0"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone","header"],[1,"mdc-layout-grid__cell--span-6-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone","dropdown"],[1,"sort",3,"click"],[1,"flex-1"],[1,"material-icons","md-20"],[1,"dropdown-content",3,"ngClass"],[3,"click"],[1,"separator"],["scrollable","",3,"scrollPosition"],[1,"mdc-layout-grid__inner"],["class","mdc-layout-grid__cell--span-3 mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-12-phone",3,"game",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"mdc-layout-grid__cell--span-3","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone",3,"game"],[1,"center"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"div",2),r.Ac(4," Games"),r.Ob(),r.Lb(5,"div",3),r.Pb(6,"div",4),r.Pb(7,"div",5),r.Xb("click",function(){return e.showDialog()}),r.Lb(8,"div",6),r.Pb(9,"div"),r.Ac(10),r.Ob(),r.Pb(11,"i",7),r.Ac(12,"arrow_drop_down"),r.Ob(),r.Lb(13,"div",6),r.Ob(),r.Pb(14,"div",8),r.Pb(15,"a",9),r.Xb("click",function(){return e.sort("launchDate")}),r.Ac(16,"Release Date"),r.Ob(),r.Pb(17,"a",9),r.Xb("click",function(){return e.sort("owned")}),r.Ac(18,"Most Popular"),r.Ob(),r.Pb(19,"a",9),r.Xb("click",function(){return e.sort("completed")}),r.Ac(20,"Most Completions"),r.Ob(),r.Lb(21,"div",10),r.Pb(22,"a",9),r.Xb("click",function(){return e.sort("achievements")}),r.Ac(23,"Total Achievements"),r.Ob(),r.Pb(24,"a",9),r.Xb("click",function(){return e.sort("achievements_bugged")}),r.Ac(25,"Bugged Achievements"),r.Ob(),r.Pb(26,"a",9),r.Xb("click",function(){return e.sort("achievements_secret")}),r.Ac(27,"Secret Achievements"),r.Ob(),r.Pb(28,"a",9),r.Xb("click",function(){return e.sort("achievements_timed")}),r.Ac(29,"Timed Achievements"),r.Ob(),r.Pb(30,"a",9),r.Xb("click",function(){return e.sort("achievements_dlc")}),r.Ac(31,"DLC Achievements"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(32,"div",11),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.Pb(33,"div",12),r.yc(34,hw,1,1,"game-card",13),r.cc(35,"async"),r.Ob(),r.yc(36,dw,2,0,"p",14),r.cc(37,"async"),r.yc(38,fw,1,0,"loading-spinner",14),r.cc(39,"async"),r.Ob(),r.Ob()),2&t&&(r.Ab(10),r.Bc(e.buildDropdownText()),r.Ab(4),r.gc("ngClass",r.kc(11,pw,e.showDropdown)),r.Ab(20),r.gc("ngForOf",r.dc(35,5,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(37,7,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(39,9,e.page.loading)))},directives:[Gv,A,K_,nw,P,j,uw,lw],pipes:[H],styles:[".game-card[_ngcontent-%COMP%]{box-shadow:4px 4px 8px 4px rgba(0,0,0,.2);transition:.3s;height:8rem;border-radius:8px;cursor:pointer}.game-card[_ngcontent-%COMP%]:hover{box-shadow:8px 8px 16px 8px rgba(0,0,0,.4)}.game-card_background[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:.5rem;background-position:50%;background-repeat:no-repeat;background-size:cover}.game-card_shade[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:8px;background-image:linear-gradient(0deg,rgba(0,0,0,.7),transparent)}.game-card_legend[_ngcontent-%COMP%]{right:0}.game-card_legend[_ngcontent-%COMP%], .game-card_title[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:8px}.game-card_title[_ngcontent-%COMP%]{left:0;font-weight:400;text-align:start;max-width:75%}.dlc-icon.text[_ngcontent-%COMP%]{width:20px;text-align:center;margin-left:8px;margin-right:13px}.dlc-icon[_ngcontent-%COMP%]{font-weight:500;margin:.2rem}.material-icons.md-16[_ngcontent-%COMP%]{position:relative;top:3px;margin:0 .5rem}.separator[_ngcontent-%COMP%]{background-color:grey;width:75%;height:1px;margin:.5rem auto}"]}),t})(),bw=(()=>{class t{constructor(){}buildLeaderboard(t){switch(t){case"month":return this.getMonth()+" Leaderboard";case"year":return this.getYear()+" Leaderboard";default:return"Global Leaderboard"}}buildRank(t,e){switch(t){case"month":return e.month_rank;case"year":return e.year_rank;default:return e.rank}}buildScore(t,e){switch(t){case"month":return e.month_score;case"year":return e.year_score;default:return e.score}}buildGames(t,e){switch(t){case"month":return e.month_games_completed;case"year":return e.year_games_completed;default:return e.games_completed}}buildAchievements(t,e){switch(t){case"month":return e.month_achievements;case"year":return e.year_achievements;default:return e.achievements_completed}}getMonth(){return["January","February","March","April","May","June","July","August","September","October","November","December"][(new Date).getMonth()]}getYear(){return(new Date).getFullYear().toString()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yw(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}try{mw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(vR){mw=!1}let vw,_w,ww,Ow,xw=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?q(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.B))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(r.B))},token:t,providedIn:"root"}),t})(),Cw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();function kw(t){return function(){if(null==vw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vw=!0}))}finally{vw=vw||!1}return vw}()?t:!!t.capture}function Sw(){if(null==ww){if("object"!=typeof document||!document)return ww=!1,ww;if("scrollBehavior"in document.documentElement.style)ww=!0;else{const t=Element.prototype.scrollTo;ww=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return ww}function Ew(){if("object"!=typeof document||!document)return 0;if(null==_w){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),_w=0,0===t.scrollLeft&&(t.scrollLeft=1,_w=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return _w}let Aw=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Tw=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=z_(t);return new Ht.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Rt.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Aw))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Aw))},token:t,providedIn:"root"}),t})(),Pw=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=V_(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=B_(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Qv(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Tw),r.Kb(r.l),r.Kb(r.z))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Iw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Aw]}),t})(),jw=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(vR){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Dw(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Dw(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Rw(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(xw))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(xw))},token:t,providedIn:"root"}),t})();function Rw(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Dw(t){if(!Rw(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Lw{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(oe(1)).subscribe(t)}}let Mw=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Lw(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(jw),r.Tb(r.z),r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(jw),Object(r.Tb)(r.z),Object(r.Tb)(o))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const Nw=new r.q("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Fw=new r.q("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Vw=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Nw,8),r.Tb(r.z),r.Tb(o),r.Tb(Fw,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Nw,8),Object(r.Tb)(r.z),Object(r.Tb)(o),Object(r.Tb)(Fw,8))},token:t,providedIn:"root"}),t})();function Bw(t){return 0===t.buttons}const Uw=new r.q("cdk-focus-monitor-default-options"),Hw=kw({passive:!0,capture:!0});let zw=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Bw(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=qw(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=qw(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=z_(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(jt.a)(null);const r=function(t){if(function(){if(null==Ow){const t="undefined"!=typeof document?document.head:null;Ow=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ow}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new Rt.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=z_(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=z_(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=qw(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===qw(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Hw),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Hw)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Hw),t.addEventListener("mousedown",this._documentMousedownListener,Hw),t.addEventListener("touchstart",this._documentTouchstartListener,Hw),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Hw),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Hw),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Hw),t.removeEventListener("mousedown",this._documentMousedownListener,Hw),t.removeEventListener("touchstart",this._documentTouchstartListener,Hw),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.z),r.Tb(xw),r.Tb(o,8),r.Tb(Uw,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(r.z),Object(r.Tb)(xw),Object(r.Tb)(o,8),Object(r.Tb)(Uw,8))},token:t,providedIn:"root"}),t})();function qw(t){return t.composedPath?t.composedPath()[0]:t.target}let Gw=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(xw),r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(xw),Object(r.Tb)(o))},token:t,providedIn:"root"}),t})();const Kw=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(o)}});let $w=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Kw,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Kw,8))},token:t,providedIn:"root"}),t})(),Ww=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();const Qw=new r.P("11.1.0");class Xw{}function Zw(t,e){return{type:7,name:t,definitions:e,options:{}}}function Yw(t,e=null){return{type:4,styles:e,timings:t}}function Jw(t,e=null){return{type:2,steps:t,options:e}}function tO(t){return{type:6,styles:t,offset:null}}function eO(t,e,n){return{type:0,name:t,styles:e,options:n}}function nO(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function rO(t){Promise.resolve(null).then(t)}class iO{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class sO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?rO(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function oO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function aO(t){switch(t.length){case 0:return new iO;case 1:return t[0];default:return new sO(t)}}function cO(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function uO(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&lO(n,"start",t)));break;case"done":t.onDone(()=>r(n&&lO(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&lO(n,"destroy",t)))}}function lO(t,e,n){const r=n.totalTime,i=hO(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function hO(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function dO(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function fO(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let pO=(t,e)=>!1,mO=(t,e)=>!1,gO=(t,e,n)=>[];const bO=oO();(bO||"undefined"!=typeof Element)&&(pO=(t,e)=>t.contains(e),mO=(()=>{if(bO||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):mO}})(),gO=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let yO=null,vO=!1;function _O(t){yO||(yO=("undefined"!=typeof document?document.body:null)||{},vO=!!yO.style&&"WebkitAppearance"in yO.style);let e=!0;return yO.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in yO.style,!e&&vO)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in yO.style),e}const wO=mO,OO=pO,xO=gO;function CO(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let kO=(()=>{class t{validateStyleProperty(t){return _O(t)}matchesElement(t,e){return wO(t,e)}containsElement(t,e){return OO(t,e)}query(t,e,n){return xO(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new iO(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),SO=(()=>{class t{}return t.NOOP=new kO,t})();function EO(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AO(parseFloat(e[1]),e[2])}function AO(t,e){switch(e){case"s":return 1e3*t;default:return t}}function TO(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=AO(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=AO(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function PO(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function IO(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else PO(t,n);return n}function jO(t,e,n){return n?e+":"+n+";":""}function RO(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=jO(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=jO(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function DO(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=HO(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),oO()&&RO(t))}function LO(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=HO(e);t.style[n]=""}),oO()&&RO(t))}function MO(t){return Array.isArray(t)?1==t.length?t[0]:Jw(t):t}const NO=new RegExp("{{\\s*(.+?)\\s*}}","g");function FO(t){let e=[];if("string"==typeof t){let n;for(;n=NO.exec(t);)e.push(n[1]);NO.lastIndex=0}return e}function VO(t,e,n){const r=t.toString(),i=r.replace(NO,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function BO(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const UO=/-+([a-z0-9])/g;function HO(t){return t.replace(UO,(...t)=>t[1].toUpperCase())}function zO(t,e){return 0===t||0===e}function qO(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=KO(t,e)})}}return e}function GO(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function KO(t,e){return window.getComputedStyle(t)[e]}function $O(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(XO(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(XO(o,i))}(t,n,e)):n.push(t),n}const WO=new Set(["true","1"]),QO=new Set(["false","0"]);function XO(t,e){const n=WO.has(t)||QO.has(t),r=WO.has(e)||QO.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?WO.has(t):QO.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?WO.has(e):QO.has(e)),o&&a}}const ZO=new RegExp("s*:selfs*,?","g");function YO(t,e,n){return new JO(t).build(e,n)}class JO{constructor(t){this._driver=t}build(t,e){const n=new tx(e);return this._resetContextStyleTimingState(n),GO(this,MO(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(ex(t)){const e=t;Object.keys(e).forEach(t=>{FO(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=BO(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=GO(this,MO(t.animation),e);return{type:1,matchers:$O(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:nx(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>GO(this,t,e)),options:nx(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=GO(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:nx(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return rx(TO(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=rx(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||TO(r,e),rx(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:tO({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=tO(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(ex(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=FO(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ex(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ex(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:GO(this,MO(t.animation),e),options:nx(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:nx(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nx(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ZO,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,dO(e.collectedStyles,e.currentQuerySelector,{});const o=GO(this,MO(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:nx(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:TO(t.timings,e.errors,!0);return{type:12,animation:GO(this,MO(t.animation),e),timings:n,options:null}}}class tx{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ex(t){return!Array.isArray(t)&&"object"==typeof t}function nx(t){var e;return t?(t=PO(t)).params&&(t.params=(e=t.params)?PO(e):null):t={},t}function rx(t,e,n){return{duration:t,delay:e,easing:n}}function ix(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class sx{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ox=new RegExp(":enter","g"),ax=new RegExp(":leave","g");function cx(t,e,n,r,i,s={},o={},a,c,u=[]){return(new ux).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class ux{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new sx;const l=new hx(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),GO(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ix(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?EO(n.duration):null,s=null!=n.delay?EO(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),GO(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lx);const t=EO(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>GO(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?EO(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),GO(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return TO(e.params?VO(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?EO(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lx);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),GO(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;GO(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const lx={};class hx{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new dx(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=EO(n.duration)),null!=n.delay&&(r.delay=EO(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=VO(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new hx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=lx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new fx(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(ox,"."+this._enterClassName)).replace(ax,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class dx{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dx(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):IO(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=VO(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=IO(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?BO(t.values()):[],s=e.size?BO(e.values()):[];if(n){const t=r[0],e=PO(t);t.offset=0,e.offset=1,r=[t,e]}return ix(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class fx extends dx{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=IO(t[0],!1);a.offset=0,i.push(a);const c=IO(t[0],!1);c.offset=px(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=IO(t[r],!1);o.offset=px((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return ix(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function px(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class mx{}class gx extends mx{normalizePropertyName(t,e){return HO(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(bx[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const bx=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function yx(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const vx={};class _x{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||vx,d=this.buildStyles(n,o&&o.params||vx,l),f=a&&a.params||vx,p=this.buildStyles(r,f,l),m=new Set,g=new Map,b=new Map,y="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:cx(t,e,this.ast.animation,i,s,d,p,v,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return yx(e,this._triggerName,n,r,y,d,p,[],[],g,b,w,l);_.forEach(t=>{const n=t.element,r=dO(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=dO(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const O=BO(m.values());return yx(e,this._triggerName,n,r,y,d,p,_,O,g,b,w)}}class wx{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=PO(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=VO(s,r,e)),n[t]=s})}}),n}}class Ox{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new wx(t.style,t.options&&t.options.params||{})}),xx(this.states,"true","1"),xx(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new _x(t,e,this.states))}),this.fallbackTransition=new _x(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function xx(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Cx=new sx;class kx{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=YO(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=cO(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=cx(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Cx,r),s.forEach(t=>{const e=dO(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=aO(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=hO(e,"","","");return uO(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Sx=[],Ex={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ax={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Tx{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=PO(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Px=new Tx("void");class Ix{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fx(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=dO(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=dO(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Fx(t,"ng-trigger"),Fx(t,"ng-trigger-"+e),a[e]=Px),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Rx(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Fx(t,"ng-trigger"),Fx(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new Tx(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Px),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{LO(t,n),DO(t,r)})}return}const u=dO(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Fx(t,"ng-animate-queued"),s.onStart(()=>{Vx(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&aO(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Px,o=new Tx("void"),a=new Rx(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Ex||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Fx(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=hO(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,uO(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class jx{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Ix(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Dx(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Dx(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fx(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vx(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Dx(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Dx(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return aO(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ex,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Fx(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?aO(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new sx,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Nx(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Fx(t,n))});const m=[],g=new Set,b=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const t=this.collectedLeaveElements[P],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):b.add(t))}const y=new Map,v=Nx(h,Array.from(g));v.forEach((t,e)=>{const n="ng-leave"+p++;y.set(e,n),t.forEach(t=>Fx(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Vx(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Vx(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>LO(i,p.fromStyles)),e.onDestroy(()=>DO(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>LO(i,p.fromStyles)),e.onDestroy(()=>DO(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>dO(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,x=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(x.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{dO(O,e,[]).push(t),t.destroy()})});const C=m.filter(t=>Hx(t,a,c)),k=new Map;Mx(k,this.driver,b,c,"*").forEach(t=>{Hx(t,a,c)&&C.push(t)});const S=new Map;d.forEach((t,e)=>{Mx(S,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=k.get(t),n=S.get(t);k.set(t,Object.assign(Object.assign({},e),n))});const E=[],A=[],T={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>DO(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=T;if(x.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=x.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>x.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,S,k);if(s.setRealPlayer(n),t===T)E.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=aO(e)),r.push(s)}}else LO(e,o.fromStyles),s.onDestroy(()=>DO(e,o.toStyles)),A.push(s),u.has(e)&&r.push(s)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=aO(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let P=0;P<m.length;P++){const t=m[P],e=t.__ng_removed;if(Vx(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Bx(this,t,r):this.processLeaveNode(t)}return m.length=0,E.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),E}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=dO(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}LO(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new iO(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Ux(t,e),e}((n.get(h)||Sx).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),b=cO(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Rx(t,o,h);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{dO(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Fx(t,"ng-animating"));const d=aO(h);return d.onDestroy(()=>{u.forEach(t=>Vx(t,"ng-animating")),DO(a,e.toStyles)}),l.forEach(t=>{dO(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new iO(t.duration,t.delay)}}class Rx{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new iO,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>uO(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){dO(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Dx(t){return t&&1===t.nodeType}function Lx(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Mx(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Lx(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ax,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Lx(t,s[a++])),o}function Nx(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Fx(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Vx(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Bx(t,e,n){aO(n).onDone(()=>t.processLeaveNode(e))}function Ux(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof sO?Ux(r.players,e):e.push(r)}}function Hx(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class zx{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new jx(t,e,n),this._timelineEngine=new kx(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=YO(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Ox(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=fO(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=fO(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function qx(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Kx(e[0]),e.length>1&&(r=Kx(e[e.length-1]))):e&&(n=Kx(e)),n||r?new Gx(t,n,r):null}let Gx=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&DO(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(DO(this._element,this._initialStyles),this._endStyles&&(DO(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(LO(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(LO(this._element,this._endStyles),this._endStyles=null),DO(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Kx(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];$x(i)&&(e=e||{},e[i]=t[i])}return e}function $x(t){return"display"===t||"position"===t}class Wx{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=tC(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Jx(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Yx(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Qx(this._element,this._name,"paused")}resume(){Qx(this._element,this._name,"running")}setPosition(t){const e=Xx(this._element,this._name);this._position=t*this._duration,Jx(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Yx(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=tC(t,"").split(","),r=Zx(n,e);r>=0&&(n.splice(r,1),Jx(t,"",n.join(",")))}(this._element,this._name))}}function Qx(t,e,n){Jx(t,"PlayState",n,Xx(t,e))}function Xx(t,e){const n=tC(t,"");return n.indexOf(",")>0?Zx(n.split(","),e):Zx([n],e)}function Zx(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Yx(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Jx(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function tC(t,e){return t.style["animation"+e]||""}class eC{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Wx(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:KO(this.element,n))})}this.currentSnapshot=t}}class nC extends iO{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=CO(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class rC{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return _O(t)}matchesElement(t,e){return wO(t,e)}containsElement(t,e){return OO(t,e)}query(t,e,n){return xO(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>CO(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof eC),c={};zO(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=qO(t,e,c));if(0==n)return new nC(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=qx(t,e),f=new eC(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class iC{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:KO(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class sC{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(oC().toString()),this._cssKeyframesDriver=new rC}validateStyleProperty(t){return _O(t)}matchesElement(t,e){return wO(t,e)}containsElement(t,e){return OO(t,e)}query(t,e,n){return xO(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof iC);zO(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=qx(t,e=qO(t,e=e.map(t=>IO(t,!1)),c));return new iC(t,e,a,l)}}function oC(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let aC=(()=>{class t extends Xw{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Jw(t):t;return lC(this._renderer,null,e,"register",[n]),new cC(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.F),r.Tb(o))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class cC extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new uC(this._id,t,e||{},this._renderer)}}class uC{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return lC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function lC(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let hC=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new dC("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new fC(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.F),r.Tb(zx),r.Tb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class dC{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class fC extends dC{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let pC=(()=>{class t extends zx{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o),r.Tb(SO),r.Tb(mx))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const mC=new r.q("AnimationModuleType"),gC=[{provide:SO,useFactory:function(){return"function"==typeof oC()?new sC:new rC}},{provide:mC,useValue:"BrowserAnimations"},{provide:Xw,useClass:aC},{provide:mx,useFactory:function(){return new gx}},{provide:zx,useClass:pC},{provide:r.F,useFactory:function(t,e,n){return new hC(t,e,n)},deps:[lt,zx,r.z]}];let bC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:gC,imports:[kt]}),t})();const yC=new r.P("11.1.0"),vC=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let _C,wC=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&yC.full!==Qw.full&&console.warn("The Angular Material version ("+yC.full+") does not match the Angular CDK version ("+Qw.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Tb(Gw),r.Tb(vC,8),r.Tb(o))},imports:[[Ww],Ww]}),t})();function OC(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=V_(t)}}}function xC(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function CC(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=V_(t)}}}function kC(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?B_(t):this.defaultTabIndex}}}try{_C="undefined"!=typeof Intl}catch(vR){_C=!1}class SC{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const EC={enterDuration:450,exitDuration:400},AC=kw({passive:!0}),TC=["mousedown","touchstart"],PC=["mouseup","mouseleave","touchend","touchcancel"];class IC{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=z_(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},EC),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new SC(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},EC),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=z_(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(TC))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(PC),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Bw(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,AC)})})}_removeTriggerEvents(){this._triggerElement&&(TC.forEach(t=>{this._triggerElement.removeEventListener(t,this,AC)}),this._pointerUpEventsRegistered&&PC.forEach(t=>{this._triggerElement.removeEventListener(t,this,AC)}))}}const jC=new r.q("mat-ripple-global-options");let RC=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new IC(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z),r.Kb(xw),r.Kb(jC,8),r.Kb(mC,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Cb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),DC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[wC,Cw],wC]}),t})();const LC=["mat-button",""],MC=["*"],NC=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",FC=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class VC{constructor(t){this._elementRef=t}}const BC=xC(OC(CC(VC)));let UC=(()=>{class t extends BC{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of FC)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(zw),r.Kb(mC,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Fc(RC,!0),2&t){let t;r.mc(t=r.Yb())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Bb("disabled",e.disabled||null),r.Cb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.xb],attrs:LC,ngContentSelectors:MC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.fc(),r.Pb(0,"span",0),r.ec(1),r.Ob(),r.Lb(2,"span",1),r.Lb(3,"span",2)),2&t&&(r.Ab(2),r.Cb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.gc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[RC],styles:[NC],encapsulation:2,changeDetection:0}),t})(),HC=(()=>{class t extends UC{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(zw),r.Kb(r.l),r.Kb(mC,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e._haltDisabledEvents(t)}),2&t&&(r.Bb("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),r.Cb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[r.xb],attrs:LC,ngContentSelectors:MC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.fc(),r.Pb(0,"span",0),r.ec(1),r.Ob(),r.Lb(2,"span",1),r.Lb(3,"span",2)),2&t&&(r.Ab(2),r.Cb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.gc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[RC],styles:[NC],encapsulation:2,changeDetection:0}),t})(),zC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[DC,wC],wC]}),t})();var qC=n("z6cu"),GC=n("XoHu");function KC(...t){if(1===t.length){const e=t[0];if(Object(Nt.a)(e))return $C(e,null);if(Object(GC.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return $C(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return $C(t=1===t.length&&Object(Nt.a)(t[0])?t[0]:t,null).pipe(Object(te.a)(t=>e(...t)))}return $C(t,null)}function $C(t,e){return new Ht.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(It.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}var WC=n("w1tV");class QC{}class XC{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof XC?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new XC;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof XC?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ZC{encodeKey(t){return YC(t)}encodeValue(t){return YC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function YC(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class JC{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ZC,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new JC({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function tk(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ek(t){return"undefined"!=typeof Blob&&t instanceof Blob}function nk(t){return"undefined"!=typeof FormData&&t instanceof FormData}class rk{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new XC),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new JC,this.urlWithParams=e}serializeBody(){return null===this.body?null:tk(this.body)||ek(this.body)||nk(this.body)||"string"==typeof this.body?this.body:this.body instanceof JC?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nk(this.body)?null:ek(this.body)?this.body.type||null:tk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof JC?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new rk(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var ik=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class sk extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new XC,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ik.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sk({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function ok(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ak=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof rk)r=t;else{let i=void 0;i=n.headers instanceof XC?n.headers:new XC(n.headers);let s=void 0;n.params&&(s=n.params instanceof JC?n.params:new JC({fromObject:n.params})),r=new rk(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(jt.a)(r).pipe(_e(t=>this.handler.handle(t)));if(t instanceof rk||"events"===n.observe)return i;const s=i.pipe(fe(t=>t instanceof sk));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(te.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(te.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(te.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(te.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new JC).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,ok(n,e))}post(t,e,n={}){return this.request("POST",t,ok(n,e))}put(t,e,n={}){return this.request("PUT",t,ok(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(QC))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ck=["*"];function uk(t){return Error(`Unable to find icon with the name "${t}"`)}function lk(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function hk(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class dk{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let fk=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new dk(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.I.HTML,n);if(!s)throw hk(n);return this._addSvgIconConfig(t,e,new dk("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new dk(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.I.HTML,e);if(!i)throw hk(e);return this._addSvgIconSetConfig(t,new dk("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.I.RESOURCE_URL,t);if(!e)throw lk(t);const n=this._cachedIconsByUrl.get(e);return n?Object(jt.a)(pk(n)):this._loadSvgIconFromConfig(new dk(t,null)).pipe(Object(Re.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(te.a)(t=>pk(t)))}getNamedSvgIcon(t,e=""){const n=mk(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(qC.a)(uk(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(jt.a)(pk(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(te.a)(t=>pk(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(jt.a)(n):KC(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(ge(e=>{const n=this._sanitizer.sanitize(r.I.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(jt.a)(null)})))).pipe(Object(te.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw uk(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Re.a)(e=>t.svgText=e),Object(te.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(jt.a)(null):this._fetchIcon(t).pipe(Object(Re.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.I.RESOURCE_URL,n);if(!o)throw lk(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Le(()=>this._inProgressUrlFetches.delete(o)),Object(WC.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(mk(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new dk(i.url,null,i.options):new dk(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ak,8),r.Tb(_t),r.Tb(o,8),r.Tb(r.m))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(ak,8),Object(r.Tb)(_t),Object(r.Tb)(o,8),Object(r.Tb)(r.m))},token:t,providedIn:"root"}),t})();function pk(t){return t.cloneNode(!0)}function mk(t,e){return t+":"+e}class gk{constructor(t){this._elementRef=t}}const bk=xC(gk),yk=new r.q("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.V)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),vk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_k=vk.map(t=>`[${t}]`).join(", "),wk=/^url\(['"]?#(.*?)['"]?\)$/;let Ok=(()=>{class t extends bk{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=De.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=V_(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(_k),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)vk.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(wk):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(oe(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(fk),r.Ub("aria-hidden"),r.Kb(yk),r.Kb(r.m))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Bb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Cb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.xb],ngContentSelectors:ck,decls:1,vars:0,template:function(t,e){1&t&&(r.fc(),r.ec(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),xk=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[wC],wC]}),t})(),Ck=(()=>{class t{constructor(t,e,n){this.seo=t,this.auth=e,this.firestore=n,this.userSource=new Lt(void 0),this.currentUser=this.userSource.asObservable()}changeUser(t){this.userSource.next(t),t&&this.buildSeoTags(t)}fetchUserByUsername(t){this.auth.isLoggedIn().pipe(Object(Re.a)(e=>{e?t&&this.firestore.collection("profiles",e=>e.where("username","==",t)).valueChanges().subscribe(t=>{void 0!==t[0]&&this.changeUser(t[0])}):this.auth.anonymousSignIn()})).subscribe()}fetchUserByStadiaId(t){let e=t._id,n=this.buildUsername(t.name,t.tag);this.auth.isLoggedIn().pipe(Object(Re.a)(t=>{t?e&&this.firestore.collection("profiles").doc(e).get().subscribe(t=>{if(void 0!==t){let r=t.data();n!==r.username&&(this.updateUser(e,n),r.username=n),this.changeUser(r)}}):this.auth.anonymousSignIn()})).subscribe()}updateUser(t,e){console.log(e),this.firestore.collection("profiles").doc(t).update({username:e})}buildUsername(t,e){var n=t;return"0000"!=e&&(n+="#"+e),n}buildSeoTags(t){let e=t.username.replace("#","-");this.seo.generateTags({title:e+"'s profile | Stadia Hunters",description:`An overview of ${e}'s gaming activity. Earned a total of ${t.achievements_completed} achievements, completed ${t.games_completed} and currently is rank ${t.rank} on the overall leaderboard.`,image:t.avatar})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(qv),r.Tb(Hv),r.Tb(Bv))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function kk(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"div",5),r.Ac(2),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(2),r.Bc(t.data.month_score)}}function Sk(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"div",5),r.Ac(2),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(2),r.Bc(t.data.year_score)}}function Ek(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"div",5),r.Ac(2),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(2),r.Bc(t.data.score)}}let Ak=(()=>{class t{constructor(t){this.user=t,this.filter="overall"}ngOnInit(){}buildRoute(){return"/user/"+this.data.username.replace("#","-")}changeUser(){console.log(this.data),this.user.changeUser(this.data)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ck))},t.\u0275cmp=r.Eb({type:t,selectors:[["leaderboard-user-small"]],inputs:{index:"index",filter:"filter",data:"data"},decls:9,vars:8,consts:[[1,"row","mdc-layout-grid__cell--span-12","leaderboard-user","location-card",3,"routerLink","click"],[1,"title",2,"width","0.75rem"],[1,"avatar",3,"alt","src"],[1,"leaderboard-text",2,"flex-grow","1"],[4,"ngIf"],[1,"leaderboard-number"]],template:function(t,e){1&t&&(r.Pb(0,"a",0),r.Xb("click",function(){return e.changeUser()}),r.Pb(1,"div",1),r.Ac(2),r.Ob(),r.Lb(3,"img",2),r.Pb(4,"div",3),r.Ac(5),r.Ob(),r.yc(6,kk,3,1,"div",4),r.yc(7,Sk,3,1,"div",4),r.yc(8,Ek,3,1,"div",4),r.Ob()),2&t&&(r.hc("routerLink",e.buildRoute()),r.Ab(2),r.Bc(e.index+1),r.Ab(1),r.ic("alt","",e.data.username," Avatar"),r.hc("src",e.data.avatar,r.sc),r.Ab(2),r.Bc(e.data.username),r.Ab(1),r.gc("ngIf","month"===e.filter),r.Ab(1),r.gc("ngIf","year"===e.filter),r.Ab(1),r.gc("ngIf","overall"===e.filter))},directives:[ui,j],styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})(),Tk=(()=>{class t{constructor(t){this.gameService=t}ngOnInit(){}buildRoute(){return`/game/${this.game.tag}/guide`}changeGame(){this.gameService.changeGame(void 0)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(rw))},t.\u0275cmp=r.Eb({type:t,selectors:[["game-guide"]],inputs:{game:"game"},decls:9,vars:5,consts:[[3,"id","routerLink","click"],[1,"game-card",2,"height","10rem"],[1,"game-card_background"],[1,"game-card_shade"],[1,"game-card_title"],[1,"header"],[1,"subtitle"]],template:function(t,e){1&t&&(r.Pb(0,"a",0),r.Xb("click",function(){return e.changeGame()}),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"div",4),r.Pb(5,"div",5),r.Ac(6),r.Ob(),r.Pb(7,"div",6),r.Ac(8,"Achievement Guide"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.hc("routerLink",e.buildRoute()),r.gc("id",e.game._id),r.Ab(2),r.vc("background-image","url("+e.game.banner+")"),r.Ab(4),r.Bc(e.game.name))},directives:[ui],styles:[".game-card[_ngcontent-%COMP%]{box-shadow:4px 4px 8px 4px rgba(0,0,0,.2);transition:.3s;height:8rem;border-radius:8px;cursor:pointer}.game-card[_ngcontent-%COMP%]:hover{box-shadow:8px 8px 16px 8px rgba(0,0,0,.4)}.game-card_background[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:.5rem;background-position:50%;background-repeat:no-repeat;background-size:cover}.game-card_shade[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:8px;background-image:linear-gradient(0deg,rgba(0,0,0,.7),transparent)}.game-card_legend[_ngcontent-%COMP%]{right:0}.game-card_legend[_ngcontent-%COMP%], .game-card_title[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:8px}.game-card_title[_ngcontent-%COMP%]{left:0;font-weight:400;text-align:start;max-width:75%}.dlc-icon.text[_ngcontent-%COMP%]{width:20px;text-align:center;margin-left:8px;margin-right:13px}.dlc-icon[_ngcontent-%COMP%]{font-weight:500;margin:.2rem}.material-icons.md-16[_ngcontent-%COMP%]{position:relative;top:3px;margin:0 .5rem}.separator[_ngcontent-%COMP%]{background-color:grey;width:75%;height:1px;margin:.5rem auto}"]}),t})();n("3N8a"),n("IjjT");class Pk{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Ik(t,this.durationSelector))}}class Ik extends ee.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(ee.c)(n,new ee.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var jk=n("Y7HM");function Rk(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Dk(t,e=Ii.a){return n=()=>function(t=0,e,n){let r=-1;return Object(jk.a)(e)?r=Number(e)<1?1:Number(e):Object(Mt.a)(e)&&(n=e),Object(Mt.a)(n)||(n=Ii.a),new Ht.a(e=>{const i=Object(jk.a)(t)?t:+t-n.now();return n.schedule(Rk,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Pk(n))};var n}let Lk=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Rt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ht.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Dk(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(jt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(fe(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=z_(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>$v(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.z),r.Tb(xw),r.Tb(o,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(r.z),Object(r.Tb)(xw),Object(r.Tb)(o,8))},token:t,providedIn:"root"}),t})(),Mk=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new Rt.a,this._elementScrolled=new Ht.a(t=>this.ngZone.runOutsideAngular(()=>$v(this.elementRef.nativeElement,"scroll").pipe(Jv(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=Ew()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==Ew()?t.left=t.right:1==Ew()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;Sw()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==Ew()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==Ew()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(Lk),r.Kb(r.z),r.Kb($w,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Nk=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Rt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Dk(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(xw),r.Tb(r.z),r.Tb(o,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(xw),Object(r.Tb)(r.z),Object(r.Tb)(o,8))},token:t,providedIn:"root"}),t})(),Fk=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Vk=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Ww,Cw,Fk],Ww,Fk]}),t})();class Bk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Uk extends Bk{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Hk extends Bk{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class zk extends Bk{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class qk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Uk?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Hk?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof zk?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Gk extends qk{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Kk=(()=>{class t extends qk{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.j),r.Kb(r.Q),r.Kb(o))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.xb]}),t})(),$k=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();const Wk=Sw();class Qk{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=H_(-this._previousScrollPosition.left),t.style.top=H_(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Wk&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Wk&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Xk{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Zk{enable(){}disable(){}attach(){}}function Yk(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Jk(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class tS{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Yk(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let eS=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Zk,this.close=t=>new Xk(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Qk(this._viewportRuler,this._document),this.reposition=t=>new tS(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Lk),r.Tb(Nk),r.Tb(r.z),r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Lk),Object(r.Tb)(Nk),Object(r.Tb)(r.z),Object(r.Tb)(o))},token:t,providedIn:"root"}),t})();class nS{constructor(t){if(this.scrollStrategy=new Zk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class rS{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class iS{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let sS=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(o))},token:t,providedIn:"root"}),t})(),oS=(()=>{class t extends sS{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(o))},token:t,providedIn:"root"}),t})(),aS=(()=>{class t extends sS{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o),r.Tb(xw))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(o),Object(r.Tb)(xw))},token:t,providedIn:"root"}),t})();const cS=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let uS=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){if(this._platform.isBrowser||cS){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),cS?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o),r.Tb(xw))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(o),Object(r.Tb)(xw))},token:t,providedIn:"root"}),t})();class lS{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Rt.a,this._attachments=new Rt.a,this._detachments=new Rt.a,this._locationChanges=De.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Rt.a,this._outsidePointerEvents=new Rt.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(oe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=H_(this._config.width),t.height=H_(this._config.height),t.minWidth=H_(this._config.minWidth),t.minHeight=H_(this._config.minHeight),t.maxWidth=H_(this._config.maxWidth),t.maxHeight=H_(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;U_(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Jv(Object(lv.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const hS=/([A-Za-z%]+)$/;class dS{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Rt.a,this._resizeSubscription=De.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fS(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=mS(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let u=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=pS(this._overlayRef.getConfig().minHeight),o=pS(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=mS(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new iS(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=H_(n.height),r.top=H_(n.top),r.bottom=H_(n.bottom),r.width=H_(n.width),r.left=H_(n.left),r.right=H_(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=H_(t)),i&&(r.maxWidth=H_(i))}this._lastBoundingBoxSize=n,fS(this._boundingBox.style,r)}_resetBoundingBoxStyles(){fS(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fS(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();fS(n,this._getExactOverlayY(e,t,r)),fS(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=H_(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=H_(s.maxWidth):i&&(n.maxWidth="")),fS(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=H_(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=H_(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Jk(t,n),isOriginOutsideView:Yk(t,n),isOverlayClipped:Jk(e,n),isOverlayOutsideView:Yk(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&U_(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function fS(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function pS(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(hS);return n&&"px"!==n?null:parseFloat(e)}return t||null}function mS(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class gS{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new dS(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new rS(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class bS{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let yS=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new bS}connectedTo(t,e,n){return new gS(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new dS(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Nk),r.Tb(o),r.Tb(xw),r.Tb(uS))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Nk),Object(r.Tb)(o),Object(r.Tb)(xw),Object(r.Tb)(uS))},token:t,providedIn:"root"}),t})(),vS=0,_S=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new nS(t);return i.direction=i.direction||this._directionality.value,new lS(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+vS++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Gk(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(eS),r.Tb(uS),r.Tb(r.j),r.Tb(yS),r.Tb(oS),r.Tb(r.r),r.Tb(r.z),r.Tb(o),r.Tb($w),r.Tb(w),r.Tb(aS))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const wS={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[_S],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let OS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[_S,wS],imports:[[Ww,$k,Vk],Vk]}),t})();function xS(t,e){}class CS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const kS={dialogContainer:Zw("dialogContainer",[eO("void, exit",tO({opacity:0,transform:"scale(0.7)"})),eO("enter",tO({transform:"none"})),nO("* => enter",Yw("150ms cubic-bezier(0, 0, 0.2, 1)",tO({transform:"none",opacity:1}))),nO("* => void, * => exit",Yw("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",tO({opacity:0})))])};let SS=(()=>{class t extends qk{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(Mw),r.Kb(r.h),r.Kb(o,8),r.Kb(CS),r.Kb(zw))},t.\u0275dir=r.Fb({type:t,viewQuery:function(t,e){if(1&t&&r.uc(Kk,!0),2&t){let t;r.mc(t=r.Yb())&&(e._portalOutlet=t.first)}},features:[r.xb]}),t})(),ES=(()=>{class t extends SS{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return AS(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.wc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Sb("id",e._id),r.Bb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.xc("@dialogContainer",e._state))},features:[r.xb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.yc(0,xS,0,0,"ng-template",0)},directives:[Kk],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[kS.dialogContainer]}}),t})();const AS=r.Rb(ES);let TS=0;class PS{constructor(t,e,n="mat-dialog-"+TS++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Rt.a,this._afterClosed=new Rt.a,this._beforeClosed=new Rt.a,this._state=0,e._id=n,e._animationStateChanged.pipe(fe(t=>"opened"===t.state),oe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(fe(t=>"closed"===t.state),oe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(fe(t=>27===t.keyCode&&!this.disableClose&&!yw(t))).subscribe(t=>{t.preventDefault(),IS(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():IS(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(fe(t=>"closing"===t.state),oe(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function IS(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const jS=new r.q("MatDialogData"),RS=new r.q("mat-dialog-default-options"),DS=new r.q("mat-dialog-scroll-strategy"),LS={provide:DS,deps:[_S],useFactory:function(t){return()=>t.scrollStrategies.block()}};let MS=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Rt.a,this._afterOpenedAtThisLevel=new Rt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Jt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ue(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new CS)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new nS({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:CS,useValue:e}]}),i=new Uk(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.L)e.attachTemplatePortal(new Hk(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new Uk(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get($w,null)||s.push({provide:$w,useValue:{value:t.direction,change:Object(jt.a)()}}),r.r.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(_S),r.Kb(r.r),r.Kb(void 0),r.Kb(void 0),r.Kb(uS),r.Kb(void 0),r.Kb(r.N),r.Kb(r.N),r.Kb(r.q))},t.\u0275dir=r.Fb({type:t}),t})(),NS=(()=>{class t extends MS{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,PS,ES,jS)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(_S),r.Tb(r.r),r.Tb(w,8),r.Tb(RS,8),r.Tb(DS),r.Tb(t,12),r.Tb(uS))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),FS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),VS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),BS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[NS,LS],imports:[[OS,$k,wC],wC]}),t})();function US(t,e){if(1&t&&r.Lb(0,"img",3),2&t){const t=r.bc();r.hc("src",t.data.url,r.sc)}}function HS(t,e){if(1&t&&(r.Pb(0,"div",4),r.Lb(1,"iframe",5),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.gc("src",t.url,r.rc)}}const zS=".media[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.container[_ngcontent-%COMP%]{position:relative;min-width:60vw;overflow:hidden;padding-top:56%}.responsive-iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;border:none}";let qS=(()=>{class t{constructor(t){this.dialog=t,this.isVideo=!1}ngOnInit(){}buildMedia(){if(this.isVideo){let t=this.media.split("/"),e=t[t.length-1].split("v=");return`https://img.youtube.com/vi/${e[e.length-1].slice(0,11)}/sddefault.jpg`}return this.media}expand(t){this.dialog.open(GS,{data:{url:this.media,isVideo:this.isVideo}}),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(NS))},t.\u0275cmp=r.Eb({type:t,selectors:[["achievement-media"]],inputs:{media:"media",isVideo:"isVideo"},decls:1,vars:1,consts:[[1,"media",3,"src","click"]],template:function(t,e){1&t&&(r.Pb(0,"img",0),r.Xb("click",function(t){return e.expand(t)}),r.Ob()),2&t&&r.hc("src",e.buildMedia(),r.sc)},styles:[zS]}),t})(),GS=(()=>{class t{constructor(t,e,n){this.sanitizer=t,this.dialogRef=e,this.data=n,this.url="",console.log("dialog ")}ngOnInit(){this.url=this.sanitizer.bypassSecurityTrustResourceUrl(this.data.url+"?autoplay=1")}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(_t),r.Kb(PS),r.Kb(jS))},t.\u0275cmp=r.Eb({type:t,selectors:[["media-dialog"]],decls:4,vars:2,consts:[["mat-dialog-content",""],["style","max-width: 60vw;",3,"src",4,"ngIf"],["class","container",4,"ngIf"],[2,"max-width","60vw",3,"src"],[1,"container"],["frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"responsive-iframe",3,"src"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div"),r.yc(2,US,1,1,"img",1),r.Ob(),r.yc(3,HS,2,1,"div",2),r.Ob()),2&t&&(r.Ab(2),r.gc("ngIf",!e.data.isVideo),r.Ab(1),r.gc("ngIf",e.data.isVideo))},directives:[FS,j],styles:[zS]}),t})(),KS=(()=>{class t{constructor(){this.achievementSource=new Lt(void 0),this.currentAchievement=this.achievementSource.asObservable()}changeAchievement(t){this.achievementSource.next(t)}buildAchievementName(t){return t.replace("-"," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$S=(()=>{class t{constructor(t,e,n){this.router=t,this.game=e,this.achievement=n}ngOnInit(){}handleAchievement(){this.clear(),this.router.navigate(this.activity.path?[`/${this.activity.path}/${this.activity.achievement.title.toLowerCase().replace(" ","-")}`]:[`/games/${this.activity.game._id}/achievement/${this.activity.achievement._id}/${this.activity.achievement.title.toLowerCase().replace(" ","-")}}`])}handleUser(){this.clear(),this.router.navigate([this.activity.user.username])}clear(){this.game.changeGame(void 0),this.achievement.changeAchievement(void 0)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ci),r.Kb(rw),r.Kb(KS))},t.\u0275cmp=r.Eb({type:t,selectors:[["user-guide"]],inputs:{activity:"activity"},decls:15,vars:8,consts:[[1,"activity-card","card",3,"click"],[1,"mdc-layout-grid__inner",2,"grid-gap","0px"],[1,"mdc-layout-grid__cell--span-5","activity-banner",2,"height","90px"],[1,"mdc-layout-grid__cell--span-7","border"],[1,"username"],[1,"subtitle","max-2"],[1,"mdc-layout-grid__cell--span-12","border"],[1,"row",3,"click"],[1,"activity-avatar","avatar",3,"alt","src"],[1,"activity-username"],[1,"hint","activity-hint","max-2"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Xb("click",function(){return e.handleAchievement()}),r.Pb(1,"div",1),r.Lb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"div",4),r.Ac(5),r.Ob(),r.Pb(6,"div",5),r.Ac(7),r.Ob(),r.Ob(),r.Pb(8,"div",6),r.Pb(9,"div",7),r.Xb("click",function(){return e.handleAchievement()}),r.Lb(10,"img",8),r.Pb(11,"div",9),r.Ac(12),r.Ob(),r.Ob(),r.Pb(13,"div",10),r.Ac(14),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(2),r.vc("background-image","url("+e.activity.game.banner+")"),r.Ab(3),r.Bc(e.activity.achievement.title),r.Ab(2),r.Bc(e.activity.achievement.subtitle),r.Ab(3),r.ic("alt","",e.activity.user.username," avatar"),r.hc("src",e.activity.user.avatar,r.sc),r.Ab(2),r.Bc(e.activity.user.username),r.Ab(2),r.Bc(e.activity.comment))},styles:[".activity-card[_ngcontent-%COMP%]{padding:0}.activity-banner[_ngcontent-%COMP%]{background-size:cover;background-position:50%;border-radius:8px 0}.activity-avatar[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;min-width:24px;margin:.25rem}.activity-username[_ngcontent-%COMP%]{margin:auto .5rem}.border[_ngcontent-%COMP%]{padding:.5rem}.max-2[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}"]}),t})();function WS(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",1),r.Xb("click",function(){return r.pc(t),r.bc().handleAchievement()}),r.Pb(1,"div",2),r.Lb(2,"div",3),r.Pb(3,"div",4),r.Pb(4,"div",5),r.Ac(5),r.Pb(6,"span",6),r.Ac(7," has "),r.Ob(),r.Ac(8),r.Pb(9,"span",6),r.Ac(10," missing. "),r.Ob(),r.Ob(),r.Pb(11,"div",7),r.Ac(12),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.Ab(2),r.vc("background-image","url("+t.missing.game.banner+")"),r.Ab(3),r.Cc("",t.missing.game.name," "),r.Ab(3),r.Cc(" ",t.missing.achievement.title," "),r.Ab(4),r.Bc(t.buildSubtitle())}}let QS=(()=>{class t{constructor(t,e,n){this.router=t,this.game=e,this.achievement=n}ngOnInit(){}handleAchievement(){this.game.changeGame(this.missing.game),this.achievement.changeAchievement(this.missing.achievement),this.router.navigate([`/games/${this.missing.game._id}/achievement/${this.missing.achievement._id}/${this.missing.achievement.title.toLowerCase().replace(" ","-")}`])}buildSubtitle(){return"Insert here: [ Inspiring text, motivating the reader to help on the search of secret achievement ]"}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ci),r.Kb(rw),r.Kb(KS))},t.\u0275cmp=r.Eb({type:t,selectors:[["bounty"]],inputs:{missing:"missing"},decls:1,vars:1,consts:[["class","activity-card card",3,"click",4,"ngIf"],[1,"activity-card","card",3,"click"],[1,"mdc-layout-grid__inner",2,"grid-gap","0px"],[1,"mdc-layout-grid__cell--span-4-desktop","mdc-layout-grid__cell--span-4-phone","mdc-layout-grid__cell--span-8-tablet","bounty-banner"],[1,"mdc-layout-grid__cell--span-7","border"],[1,"username"],[1,"date"],[1,"subtitle","max-2"]],template:function(t,e){1&t&&r.yc(0,WS,13,5,"div",0),2&t&&r.gc("ngIf",e.missing)},directives:[j],styles:[".card[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{padding:1rem}.bounty-banner[_ngcontent-%COMP%]{height:120px;border-radius:.5rem;background-repeat:no-repeat;background-size:cover;position:relative}"]}),t})();function XS(t,e){if(1&t&&r.Lb(0,"leaderboard-user-small",35),2&t){const t=e.$implicit,n=e.index;r.gc("filter","month")("index",n)("data",t)}}function ZS(t,e){if(1&t&&r.Lb(0,"leaderboard-user-small",35),2&t){const t=e.$implicit,n=e.index;r.gc("filter","year")("index",n)("data",t)}}function YS(t,e){if(1&t&&r.Lb(0,"leaderboard-user-small",35),2&t){const t=e.$implicit,n=e.index;r.gc("filter","overall")("index",n)("data",t)}}function JS(t,e){1&t&&r.Lb(0,"game-guide",36),2&t&&r.gc("game",e.$implicit)}function tE(t,e){1&t&&r.Lb(0,"achievement-media",37),2&t&&r.gc("media",e.$implicit.url)("isVideo",!0)}function eE(t,e){1&t&&r.Lb(0,"user-guide",38),2&t&&r.gc("activity",e.$implicit)}function nE(t,e){1&t&&(r.Pb(0,"div",2),r.Ac(1,"Bounty Board"),r.Ob())}function rE(t,e){1&t&&r.Lb(0,"bounty",39),2&t&&r.gc("missing",e.$implicit)}function iE(t,e){1&t&&r.Lb(0,"game-card",40),2&t&&r.gc("game",e.$implicit)}let sE=(()=>{class t{constructor(t,e,n,r){this.seo=t,this.firestore=e,this.leadeboardService=n,this.sanitizer=r,this.meta_data={title:"Stadia Hunters | Stadia Achievement Tracking and Guides",description:"Stadia Hunters is the community of Stadia achievement hunters available on Web and Android. Find all the secret achievements with guides, reporting bugged , seperationg by dlc requirements and more. Join the community of achievement hunters on Stadia.",image:"https://firebasestorage.googleapis.com/v0/b/stadiaachievements-34145.appspot.com/o/Achievements%20%26%20Guides%20(7).png?alt=media&token=64343a06-8dcd-45f6-bf80-ee6b34de4ab4"}}ngOnInit(){this.seo.generateTags(this.meta_data),this.fetch()}fetch(){this.fetchMissingAchievements(),this.overallLeaderboard=this.fetchLeaderboards("score"),this.yearLeaderboard=this.fetchLeaderboards("year_score"),this.monthLeaderboard=this.fetchLeaderboards("month_score"),this.fetchGameGuides(),this.fetchVideos(),this.fetchUserGuides(),this.fetchRecentGames()}fetchMissingAchievements(){this.missingAchievements=this.firestore.collection("missing").snapshotChanges().pipe(Object(te.a)(t=>this.parseData(t)))}fetchRecentGames(){this.recentGames=this.firestore.collection("games",t=>t.orderBy("launchDate","desc").limit(12)).snapshotChanges().pipe(Object(te.a)(t=>this.parseData(t)))}fetchGameGuides(){this.recentGameGuides=this.firestore.collection("guides",t=>t.orderBy("created","desc").limit(4)).snapshotChanges().pipe(Object(te.a)(t=>this.parseData(t)))}fetchVideos(){this.recentVideos=this.firestore.collection("videos",t=>t.orderBy("created","desc").limit(4)).snapshotChanges().pipe(Object(te.a)(t=>this.parseData(t)))}fetchUserGuides(){this.recentAchievementGuides=this.firestore.collection("highlight",t=>t.orderBy("created","desc").limit(6)).snapshotChanges().pipe(Object(te.a)(t=>this.parseData(t)))}fetchLeaderboards(t){return this.firestore.collection("profiles",e=>e.orderBy(t,"desc").limit(10)).snapshotChanges().pipe(Object(te.a)(t=>this.parseData(t)))}getMonth(){return this.leadeboardService.getMonth()}getYear(){return this.leadeboardService.getYear()}parseData(t){return t.map(t=>{const e=t.payload.doc.data(),n=t.payload.doc;return Object.assign(Object.assign({_id:n.id},e),{doc:n})})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(qv),r.Kb(Bv),r.Kb(bw),r.Kb(_t))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-home"]],decls:92,vars:27,consts:[[1,"mdc-layout-grid","mdc-grid"],[1,"mdc-layout-grid__inner"],[1,"header","mdc-layout-grid__cell--span-12"],[1,"mdc-layout-grid__cell--span-12","mdc-layout-grid__inner"],["routerLink","/leaderboard/month",1,"header","card","mdc-layout-grid__cell--span-4","mdc-layout-grid__cell--span-8-tablet"],[1,"center"],[1,"date","center"],[2,"min-height","480px"],[3,"filter","index","data",4,"ngFor","ngForOf"],["routerLink","/leaderboard/year",1,"header","card","mdc-layout-grid__cell--span-4","mdc-layout-grid__cell--span-8-tablet"],["routerLink","/leaderboard/overall",1,"header","card","mdc-layout-grid__cell--span-4","mdc-layout-grid__cell--span-8-tablet"],[1,"header","mdc-layout-grid__cell--span-11-desktop","mdc-layout-grid__cell--span-7-tablet","mdc-layout-grid__cell--span-3-phone"],["routerLink","/guides",1,"title","button-more","mdc-layout-grid__cell--span-1-desktop","mdc-layout-grid__cell--span-1-tablet","mdc-layout-grid__cell--span-1-phone"],["class","mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone",3,"game",4,"ngFor","ngForOf"],["class","mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone",3,"media","isVideo",4,"ngFor","ngForOf"],["routerLink","/highlights",1,"title","button-more","mdc-layout-grid__cell--span-1-desktop","mdc-layout-grid__cell--span-1-tablet","mdc-layout-grid__cell--span-1-phone"],["class","mdc-layout-grid__cell--span-4 mdc-layout-grid__cell--span-8-tablet",3,"activity",4,"ngFor","ngForOf"],[1,"mdc-layout-grid__cell--span-12"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-4-tablet","mdc-layout-grid__cell--span-4-phone"],[1,"title"],[1,"hint",2,"margin-bottom","0.7rem"],["mat-raised-button","","href","http://discord.gg/U9Bykub","rel","noreferrer","target","_blank",1,"social-button","discord"],["alt","Discord Icon","src","../assets/images/discord.png"],[1,"hint",2,"margin-bottom","0.5rem"],["mat-raised-button","","href","https://www.youtube.com/channel/UCmv33RU50LgFnR-7TfZOvQw?sub_confirmation=1","rel","noreferrer","target","_blank",1,"social-button","youtube"],["alt","Youtube Icon","src","../assets/images/youtube.png"],["mat-raised-button","","href","https://twitter.com/StadiaHunters?ref_src=twsrc%5Etfw","rel","noreferrer","target","_blank",1,"social-button","twitter"],["alt","Twitter Icon","src","../assets/images/twitter.png"],["mat-raised-button","","href","https://chrome.google.com/webstore/detail/stadia-hunters/fpbdilcfficmipfhflimkhokccldbhph","rel","noreferrer","target","_blank",1,"social-button","extension"],["mat-raised-button","","href","https://play.google.com/store/apps/details?id=com.endeavour.stadiahunters&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1","rel","noreferrer","target","_blank",1,"social-button","playstore"],["alt","Android Playstore Link","src","../assets/images/playstore.png"],["class","header mdc-layout-grid__cell--span-12",4,"ngIf"],["class","mdc-layout-grid__cell--span-12",3,"missing",4,"ngFor","ngForOf"],["routerLink","/games",1,"title","button-more","mdc-layout-grid__cell--span-1-desktop","mdc-layout-grid__cell--span-1-tablet","mdc-layout-grid__cell--span-1-phone"],["class","mdc-layout-grid__cell--span-3 mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-12-phone",3,"game",4,"ngFor","ngForOf"],[3,"filter","index","data"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-4-tablet","mdc-layout-grid__cell--span-4-phone",3,"game"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-4-tablet","mdc-layout-grid__cell--span-4-phone",3,"media","isVideo"],[1,"mdc-layout-grid__cell--span-4","mdc-layout-grid__cell--span-8-tablet",3,"activity"],[1,"mdc-layout-grid__cell--span-12",3,"missing"],[1,"mdc-layout-grid__cell--span-3","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone",3,"game"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"div",2),r.Ac(4,"Leaderboards"),r.Ob(),r.Pb(5,"div",3),r.Pb(6,"a",4),r.Pb(7,"div",5),r.Ac(8),r.Ob(),r.Pb(9,"div",6),r.Ac(10,"Leaderboard"),r.Ob(),r.Pb(11,"div",7),r.yc(12,XS,1,3,"leaderboard-user-small",8),r.cc(13,"async"),r.Ob(),r.Ob(),r.Pb(14,"a",9),r.Pb(15,"div",5),r.Ac(16),r.Ob(),r.Pb(17,"div",6),r.Ac(18,"Leaderboard"),r.Ob(),r.Pb(19,"div",7),r.yc(20,ZS,1,3,"leaderboard-user-small",8),r.cc(21,"async"),r.Ob(),r.Ob(),r.Pb(22,"a",10),r.Pb(23,"div",5),r.Ac(24,"All time"),r.Ob(),r.Pb(25,"div",6),r.Ac(26,"Leaderboard"),r.Ob(),r.Pb(27,"div",7),r.yc(28,YS,1,3,"leaderboard-user-small",8),r.cc(29,"async"),r.Ob(),r.Ob(),r.Ob(),r.Pb(30,"h1",11),r.Ac(31,"Recent Game Guides"),r.Ob(),r.Pb(32,"a",12),r.Ac(33,"See all"),r.Ob(),r.yc(34,JS,1,1,"game-guide",13),r.cc(35,"async"),r.Pb(36,"div",2),r.Ac(37,"Recent Videos"),r.Ob(),r.yc(38,tE,1,2,"achievement-media",14),r.cc(39,"async"),r.Pb(40,"h1",11),r.Ac(41,"Recent Achievement Guides"),r.Ob(),r.Pb(42,"a",15),r.Ac(43,"See all"),r.Ob(),r.yc(44,eE,1,1,"user-guide",16),r.cc(45,"async"),r.Lb(46,"div",17),r.Pb(47,"div",18),r.Pb(48,"div",19),r.Ac(49,"Discord"),r.Ob(),r.Pb(50,"div",20),r.Ac(51,"Wanna chat or find a group for achievement hunting together? Looking for stadia secret achievements or help on bugged? Come join us on our official Discord. "),r.Ob(),r.Pb(52,"a",21),r.Lb(53,"img",22),r.Ac(54," Join us"),r.Ob(),r.Ob(),r.Pb(55,"div",18),r.Pb(56,"div",19),r.Ac(57,"Social Media"),r.Ob(),r.Pb(58,"div",23),r.Ac(59,"Keep up to date to all the information and Support us by following us!"),r.Ob(),r.Pb(60,"a",24),r.Lb(61,"img",25),r.Ac(62," Subscribe"),r.Ob(),r.Pb(63,"a",26),r.Lb(64,"img",27),r.Ac(65," Follow us"),r.Ob(),r.Ob(),r.Pb(66,"div",18),r.Pb(67,"div",19),r.Ac(68,"Chrome Extension"),r.Ob(),r.Pb(69,"div",20),r.Ac(70,"Now with the Stadia Hunters chrome extension, you can control the update of your Stadia profile while also having an easy way to check your missing achievements while playing."),r.Ob(),r.Pb(71,"a",28),r.Pb(72,"mat-icon"),r.Ac(73,"extension"),r.Ob(),r.Ac(74,"Add to Chrome"),r.Ob(),r.Ob(),r.Pb(75,"div",18),r.Pb(76,"div",19),r.Ac(77,"Android"),r.Ob(),r.Pb(78,"div",23),r.Ac(79,"All the information and quality of life of Stadia Hunters in a native format."),r.Ob(),r.Pb(80,"a",29),r.Lb(81,"img",30),r.Ac(82,"Android Version"),r.Ob(),r.Ob(),r.yc(83,nE,2,0,"div",31),r.yc(84,rE,1,1,"bounty",32),r.cc(85,"async"),r.Pb(86,"h1",11),r.Ac(87,"Recent Releases"),r.Ob(),r.Pb(88,"a",33),r.Ac(89,"See all"),r.Ob(),r.yc(90,iE,1,1,"game-card",34),r.cc(91,"async"),r.Ob(),r.Ob()),2&t&&(r.Ab(8),r.Bc(e.getMonth()),r.Ab(4),r.gc("ngForOf",r.dc(13,11,e.monthLeaderboard)),r.Ab(4),r.Bc(e.getYear()),r.Ab(4),r.gc("ngForOf",r.dc(21,13,e.yearLeaderboard)),r.Ab(8),r.gc("ngForOf",r.dc(29,15,e.overallLeaderboard)),r.Ab(6),r.gc("ngForOf",r.dc(35,17,e.recentGameGuides)),r.Ab(4),r.gc("ngForOf",r.dc(39,19,e.recentVideos)),r.Ab(6),r.gc("ngForOf",r.dc(45,21,e.recentAchievementGuides)),r.Ab(39),r.gc("ngIf",e.missingAchievements),r.Ab(1),r.gc("ngForOf",r.dc(85,23,e.missingAchievements)),r.Ab(6),r.gc("ngForOf",r.dc(91,25,e.recentGames)))},directives:[Gv,ui,P,HC,Ok,j,Ak,Tk,qS,$S,QS,uw],pipes:[H],styles:[".game-card[_ngcontent-%COMP%]{box-shadow:4px 4px 8px 4px rgba(0,0,0,.2);transition:.3s;height:8rem;border-radius:8px;cursor:pointer}.game-card[_ngcontent-%COMP%]:hover{box-shadow:8px 8px 16px 8px rgba(0,0,0,.4)}.game-card_background[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:.5rem;background-position:50%;background-repeat:no-repeat;background-size:cover}.game-card_shade[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:8px;background-image:linear-gradient(0deg,rgba(0,0,0,.7),transparent)}.game-card_legend[_ngcontent-%COMP%]{right:0}.game-card_legend[_ngcontent-%COMP%], .game-card_title[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:8px}.game-card_title[_ngcontent-%COMP%]{left:0;font-weight:400;text-align:start;max-width:75%}.dlc-icon.text[_ngcontent-%COMP%]{width:20px;text-align:center;margin-left:8px;margin-right:13px}.dlc-icon[_ngcontent-%COMP%]{font-weight:500;margin:.2rem}.material-icons.md-16[_ngcontent-%COMP%]{position:relative;top:3px;margin:0 .5rem}.separator[_ngcontent-%COMP%]{background-color:grey;width:75%;height:1px;margin:.5rem auto}",".button-more[_ngcontent-%COMP%]{margin:auto 0 0 auto;cursor:pointer}.mat-raised-button.mat-twitter[_ngcontent-%COMP%]{padding:.25rem 2rem;margin:1rem 0;background-color:#00acee;color:#fff}.social-button[_ngcontent-%COMP%]{width:100%;margin:.25rem 0;color:#fff}.twitter[_ngcontent-%COMP%]{background:#1da1f2}.facebook[_ngcontent-%COMP%]{background:#4267b2}.discord[_ngcontent-%COMP%]{background:#7289da}.playstore[_ngcontent-%COMP%]{background:#000}.extension[_ngcontent-%COMP%], .instagram[_ngcontent-%COMP%], .youtube[_ngcontent-%COMP%]{background:#fff;color:#000}.social-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 .5rem;width:24px}.stadia-video[_ngcontent-%COMP%]{width:100%;height:230px}"]}),t})();function oE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",1),r.Pb(1,"div",2),r.Xb("click",function(){return r.pc(t),r.bc().navigateToGame()}),r.Pb(2,"div",3),r.Pb(3,"div",4),r.Pb(4,"div",5),r.Ac(5),r.Ob(),r.Ob(),r.Pb(6,"div",6),r.Pb(7,"div",7),r.Pb(8,"div",5),r.Pb(9,"i",8),r.Ac(10,"check"),r.Ob(),r.Ac(11),r.Ob(),r.Ob(),r.Pb(12,"div",7),r.Pb(13,"div",5),r.Pb(14,"i",8),r.Ac(15,"person"),r.Ob(),r.Ac(16),r.Ob(),r.Ob(),r.Pb(17,"div",7),r.Pb(18,"div",5),r.Pb(19,"i",8),r.Ac(20,"emoji_events"),r.Ob(),r.Ac(21),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.vc("background-image","url("+t.game.banner+")"),r.Ab(5),r.Bc(t.game.name),r.Ab(6),r.Cc(" ",t.buildValue(t.game.completed),""),r.Ab(5),r.Cc(" ",t.buildValue(t.game.owned),""),r.Ab(5),r.Cc(" ",t.game.achievements,"")}}let aE=(()=>{class t{constructor(t,e,n,r,i){this.auth=t,this.data=e,this.router=n,this.route=r,this.firestore=i}ngOnInit(){this.data.currentGame.subscribe(t=>{t?this.game=t:this.game||this.fetchGame()})}fetchGame(){this.auth.isLoggedIn().pipe(Object(Re.a)(t=>{if(t){const t=this.route.snapshot.paramMap.get("tag"),e=this.route.snapshot.paramMap.get("gameId");t?this.firestore.collection("games",e=>e.where("tag","==",t)).valueChanges().subscribe(t=>{void 0!==t[0]&&this.data.changeGame(t[0])}):e&&this.firestore.collection("games").doc(e).get().subscribe(t=>{let e=t.data();e._id=t.id,this.data.changeGame(e)})}else this.auth.anonymousSignIn()})).subscribe()}buildValue(t){return t||0}navigateToGame(){this.router.navigate([`/game/${this.game.tag}/achievements`])}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Hv),r.Kb(rw),r.Kb(ci),r.Kb(zn),r.Kb(Bv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-game-details"]],decls:2,vars:1,consts:[["class","game-banner",3,"background-image",4,"ngIf"],[1,"game-banner"],[1,"game-banner__shade","mdc-layout-grid",3,"click"],[1,"mdc-layout-grid__inner","mdc-grid"],[1,"mdc-layout-grid__cell--span-9"],[1,"header"],[1,"mdc-layout-grid__cell--span-3","row"],[1,"flex-1","centered"],[1,"material-icons"]],template:function(t,e){1&t&&(r.yc(0,oE,22,6,"div",0),r.Lb(1,"router-outlet")),2&t&&r.gc("ngIf",e.game)},directives:[j,hi],styles:[".game-banner[_ngcontent-%COMP%]{cursor:pointer;background-repeat:no-repeat;background-size:cover;position:relative;background-position:50%}.game-banner__shade[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:240px;padding-top:25%;background-image:linear-gradient(0deg,rgba(0,0,0,.7),transparent)}.centered[_ngcontent-%COMP%]{text-align:center}"]}),t})(),cE=(()=>{class t{constructor(t,e){this.auth=t,this.firestore=e,this.userGameSource=new Lt(void 0),this.currentUserGame=this.userGameSource.asObservable()}changeUserGame(t){this.userGameSource.next(t)}fetchUserGame(t,e){this.auth.isLoggedIn().pipe(Object(Re.a)(n=>{n?this.firestore.collection("profiles").doc(t).collection("games").doc(e).get().subscribe(t=>{void 0!==t&&this.changeUserGame(t.data())}):this.auth.anonymousSignIn()})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Hv),r.Tb(Bv))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function uE(t,e){1&t&&(r.Pb(0,"div",18),r.Pb(1,"div"),r.Ac(2,"Unlocked"),r.Ob(),r.Pb(3,"div",19),r.Pb(4,"i",20),r.Ac(5,"done"),r.Ob(),r.Ob(),r.Ob())}function lE(t,e){1&t&&(r.Pb(0,"div",21),r.Pb(1,"div"),r.Ac(2,"Missable"),r.Ob(),r.Pb(3,"div",19),r.Pb(4,"i",20),r.Ac(5,"warning"),r.Ob(),r.Ob(),r.Ob())}function hE(t,e){1&t&&(r.Pb(0,"div",22),r.Pb(1,"i",23),r.Ac(2,"help_outline"),r.Ob(),r.Pb(3,"span",24),r.Ac(4,"Secret Achievement"),r.Ob(),r.Ob())}function dE(t,e){1&t&&(r.Pb(0,"div",25),r.Pb(1,"i",23),r.Ac(2,"error_outline"),r.Ob(),r.Pb(3,"span",24),r.Ac(4,"Bugged Achievement"),r.Ob(),r.Ob())}function fE(t,e){1&t&&(r.Pb(0,"div",26),r.Pb(1,"i",23),r.Ac(2,"date_range"),r.Ob(),r.Pb(3,"span",24),r.Ac(4,"Date Specific Achievement"),r.Ob(),r.Ob())}function pE(t,e){if(1&t&&(r.Pb(0,"div",27),r.Pb(1,"i",23),r.Ac(2,"chat"),r.Ob(),r.Pb(3,"span",28),r.Ac(4),r.Ob(),r.Pb(5,"span",24),r.Ac(6),r.Ob(),r.Ob()),2&t){const t=r.bc(2);r.Ab(4),r.Bc(t.data.comments),r.Ab(2),r.Cc("",t.data.comments," Guides")}}function mE(t,e){if(1&t&&(r.Pb(0,"div",29),r.Pb(1,"div",30),r.Ac(2,"Guide:"),r.Ob(),r.Lb(3,"div",31),r.Ob()),2&t){const t=r.bc(2);r.Ab(3),r.gc("innerHTML",t.data.hint,r.qc)}}function gE(t,e){1&t&&r.Lb(0,"achievement-media",32),2&t&&r.gc("media",e.$implicit)("isVideo",!1)}function bE(t,e){1&t&&r.Lb(0,"achievement-media",32),2&t&&r.gc("media",e.$implicit)("isVideo",!0)}function yE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",1),r.Xb("click",function(){return r.pc(t),r.bc().changeAchievement()}),r.Pb(1,"div",2),r.Lb(2,"div",3),r.Pb(3,"div",4),r.Lb(4,"div",5),r.Lb(5,"div",6),r.Pb(6,"div",7),r.Ac(7),r.Ob(),r.Pb(8,"div",8),r.yc(9,uE,6,0,"div",9),r.yc(10,lE,6,0,"div",10),r.yc(11,hE,5,0,"div",11),r.yc(12,dE,5,0,"div",12),r.yc(13,fE,5,0,"div",13),r.yc(14,pE,7,2,"div",14),r.Ob(),r.yc(15,mE,4,1,"div",15),r.Pb(16,"div",16),r.yc(17,gE,1,2,"achievement-media",17),r.yc(18,bE,1,2,"achievement-media",17),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.gc("id",t.data._id),r.Ab(2),r.vc("background-image","url("+t.data.icon+")"),r.Ab(2),r.gc("innerHTML",t.buildTitle(),r.qc),r.Ab(1),r.gc("innerHTML",t.buildSubtitle(),r.qc),r.Ab(2),r.Bc(t.buildRarity()),r.Ab(2),r.gc("ngIf",t.unlocked),r.Ab(1),r.gc("ngIf",t.data.missable),r.Ab(1),r.gc("ngIf",t.data.secret),r.Ab(1),r.gc("ngIf",t.data.bugged),r.Ab(1),r.gc("ngIf",t.data.timed),r.Ab(1),r.gc("ngIf",t.data.comments>0),r.Ab(1),r.gc("ngIf",t.data.hint),r.Ab(2),r.gc("ngForOf",t.data.images),r.Ab(1),r.gc("ngForOf",t.data.video)}}let vE=(()=>{class t{constructor(t,e,n){this.router=t,this.usergame=e,this.achievementService=n,this.navigate=!0,this.unlocked=!1}ngOnInit(){this.usergame.currentUserGame.subscribe(t=>{t&&(this.unlocked=t.achievements_earned.includes(this.data._id))})}buildRarity(){let t=this.percentage();return void 0===this.data.players?"":`${this.data.players.length} tracked gamers ( ${t} )`}percentage(){return this.game&&this.game.owned&&void 0!==this.data.players&&0!=this.data.players.length?` ${(this.data.players.length/this.game.owned*100).toFixed(1)} %`:" 0.0 %"}buildRoute(){return`/game/${this.game.tag}/achievement/${this.data._id}/${this.data.title.toLowerCase().replace(" ","-").replace(/%20/g,"-")}`}changeAchievement(){this.navigate&&(this.achievementService.changeAchievement(this.data),this.router.navigate([this.buildRoute()]))}buildTitle(){return this.data.title}buildSubtitle(){return this.data.subtitle}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ci),r.Kb(cE),r.Kb(KS))},t.\u0275cmp=r.Eb({type:t,selectors:[["achievement"]],inputs:{data:["achievement","data"],game:"game",navigate:"navigate"},decls:1,vars:1,consts:[[3,"id","click",4,"ngIf"],[3,"id","click"],[1,"card","spacing-top","mdc-layout-grid__inner"],[1,"achievement-icon","mdc-layout-grid__cell--span-1"],[1,"mdc-layout-grid__cell--span-11-desktop","mdc-layout-grid__cell--span-6-tablet","mdc-layout-grid__cell--span-3-phone"],[1,"title",3,"innerHTML"],[1,"subtitle",3,"innerHTML"],[1,"date",2,"margin-top","0.25rem"],[1,"row"],["class","achievement-unlocked",4,"ngIf"],["class","achievement-missable",4,"ngIf"],["class","icon white tooltip",4,"ngIf"],["class","icon yellow tooltip",4,"ngIf"],["class","icon blue tooltip",4,"ngIf"],["class","icon green tooltip",4,"ngIf"],["class","tip-header",4,"ngIf"],[1,"mdc-layout-grid__inner",2,"margin-top","0.5rem"],["class","mdc-layout-grid__cell--span-2",3,"media","isVideo",4,"ngFor","ngForOf"],[1,"achievement-unlocked"],[1,"I8jVSc"],[1,"material-icons","md-16"],[1,"achievement-missable"],[1,"icon","white","tooltip"],[1,"material-icons","md-20"],[1,"tooltiptext"],[1,"icon","yellow","tooltip"],[1,"icon","blue","tooltip"],[1,"icon","green","tooltip"],[1,"guide"],[1,"tip-header"],[1,"tip-title"],[1,"hint",3,"innerHTML"],[1,"mdc-layout-grid__cell--span-2",3,"media","isVideo"]],template:function(t,e){1&t&&r.yc(0,yE,19,15,"a",0),2&t&&r.gc("ngIf",e.data&&e.data.title)},directives:[j,P,qS],styles:[".achievement-icon[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;height:5rem;width:5rem;border-radius:.5rem}.achievement-unlocked[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background-color:#00e0ba}.achievement-missable[_ngcontent-%COMP%], .achievement-unlocked[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;font-size:1rem;line-height:1.25rem;letter-spacing:.00625rem;font-weight:400;color:#202124;border-radius:.125rem;padding:0 .5rem;display:flex;align-items:center;margin:.75rem .2rem .25rem}.achievement-missable[_ngcontent-%COMP%]{height:28px;background-color:#fc4a1f}.material-icons.md-16[_ngcontent-%COMP%]{font-size:20px;margin:.2rem}.md-20[_ngcontent-%COMP%]{font-size:20px;margin:.25rem}.guide[_ngcontent-%COMP%]{padding:.5rem;position:relative;top:-.3rem}.icon[_ngcontent-%COMP%]{margin:.75rem .2rem 0;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;color:#202124}.icon.white[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#fff}.icon.blue[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#1e88e5}.icon.yellow[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#ffca28}.icon.green[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#00c853}.achievement-missable.yellow[_ngcontent-%COMP%]{background-color:#ffca28}.achievement-missable.white[_ngcontent-%COMP%]{background-color:#fff}.dlc-icon[_ngcontent-%COMP%]{font-weight:900;margin:.2rem}.tip-header[_ngcontent-%COMP%]{margin-top:.75rem}.tip-title[_ngcontent-%COMP%]{font-family:Google Sans,sans-serif;font-size:1rem;line-height:1.25rem;font-weight:500;width:auto;text-transform:none;color:hsla(0,0%,100%,.5)}"]}),t})();function _E(t,e){if(1&t&&(r.Pb(0,"div",11),r.Pb(1,"div",12),r.Ac(2,"Achievements"),r.Ob(),r.Pb(3,"a",13),r.Ac(4,"Leaderboard"),r.Ob(),r.Pb(5,"a",13),r.Ac(6,"Guides"),r.Ob(),r.Pb(7,"a",13),r.Ac(8,"Reviews"),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(3),r.hc("routerLink",t.leaderboard()),r.Ab(2),r.hc("routerLink",t.guide()),r.Ab(2),r.hc("routerLink",t.review())}}function wE(t,e){if(1&t&&r.Lb(0,"achievement",14),2&t){const t=e.$implicit,n=r.bc();r.gc("achievement",t)("game",n.game)}}function OE(t,e){1&t&&(r.Pb(0,"p",15),r.Ac(1," _______"),r.Ob())}function xE(t,e){1&t&&r.Lb(0,"loading-spinner",15)}const CE=function(t){return{show:t}};let kE=(()=>{class t{constructor(t,e,n,r,i,s){var o,a;this.route=t,this.seo=e,this.auth=n,this.gameService=r,this.userGameService=i,this.page=s,this.showDropdown=!1,this.selected="order",this.tag=null===(a=null===(o=this.route.parent)||void 0===o?void 0:o.parent)||void 0===a?void 0:a.snapshot.paramMap.get("tag")}ngOnInit(){this.initTags(),this.gameService.currentGame.subscribe(t=>{t&&(this.game=t,console.log(t),this.fetchUserGame(),this.generateGameTags(t.name,t.banner,t.achievements),this.fetchAchievements(t._id,"position"))})}initTags(){console.log(this.tag),this.tag&&this.generateGameTags(this.gameService.buildGameName(this.tag),this.gameService.buildGameBanner(this.tag))}generateGameTags(t,e,n=0){this.seo.generateTags({title:t+" Achievements | Stadia Hunters",description:`Full list of all ${n>0?n:""} ${t} achievements on Stadia.`,image:e})}fetchAchievements(t,e,n=!1,r=20){this.page.init(`games/${t}/achievement`,e,{limit:r,reverse:n,prepend:!1})}fetchUserGame(){const t=this.route.snapshot.paramMap.get("userId");t?this.userGameService.fetchUserGame(t,this.game._id):this.auth.loggedUser.subscribe(t=>{t&&this.userGameService.fetchUserGame(t._id,this.game._id)})}scrollHandler(t){"bottom"===t&&this.page.more()}showDialog(){this.showDropdown=!this.showDropdown}buildDropdownText(){switch(this.selected){case"rare":return"Sort by : Rarest";case"common":return"Sort by : Common";case"bugged":return"Sort by : Bugged";case"secret":return"Sort by : Secret";default:return"Sort by : Order"}}sort(t){if(this.showDialog(),t!==this.selected)switch(this.selected=t,t){case"rare":this.fetchAchievements(this.game._id,"players",!1,200);break;case"common":this.fetchAchievements(this.game._id,"players",!0,200);break;case"bugged":this.fetchAchievements(this.game._id,"bugged");break;case"secret":this.fetchAchievements(this.game._id,"secret");break;case"order":this.fetchAchievements(this.game._id,"position")}}guide(){return`/game/${this.tag}/guide/`}leaderboard(){return`/game/${this.tag}/leaderboard/`}review(){return`/game/${this.tag}/review/`}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(zn),r.Kb(qv),r.Kb(Hv),r.Kb(rw),r.Kb(cE),r.Kb(zv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-game-achievements"]],decls:28,vars:14,consts:[[1,"mdc-grid","mdc-layout-grid__inner",2,"grid-gap","0px"],["class","mdc-layout-grid__cell--span-10 row",4,"ngIf"],[1,"mdc-layout-grid__cell--span-2-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone","dropdown"],[1,"sort",3,"click"],[1,"flex-1"],[1,"material-icons","md-20"],[1,"dropdown-content",3,"ngClass"],[3,"click"],["scrollable","",1,"mdc-layout-grid__cell--span-12",2,"min-height","500px",3,"scrollPosition"],[3,"achievement","game",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"mdc-layout-grid__cell--span-10","row"],[1,"stadia-button","selected"],[1,"stadia-button",3,"routerLink"],[3,"achievement","game"],[1,"center"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.yc(1,_E,9,3,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Xb("click",function(){return e.showDialog()}),r.Lb(4,"div",4),r.Pb(5,"div"),r.Ac(6),r.Ob(),r.Pb(7,"i",5),r.Ac(8,"arrow_drop_down"),r.Ob(),r.Lb(9,"div",4),r.Ob(),r.Pb(10,"div",6),r.Pb(11,"a",7),r.Xb("click",function(){return e.sort("order")}),r.Ac(12,"Order"),r.Ob(),r.Pb(13,"a",7),r.Xb("click",function(){return e.sort("secret")}),r.Ac(14,"Secret"),r.Ob(),r.Pb(15,"a",7),r.Xb("click",function(){return e.sort("bugged")}),r.Ac(16,"Bugged"),r.Ob(),r.Pb(17,"a",7),r.Xb("click",function(){return e.sort("common")}),r.Ac(18,"Common"),r.Ob(),r.Pb(19,"a",7),r.Xb("click",function(){return e.sort("rare")}),r.Ac(20,"Rarest"),r.Ob(),r.Ob(),r.Ob(),r.Pb(21,"div",8),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.yc(22,wE,1,2,"achievement",9),r.cc(23,"async"),r.yc(24,OE,2,0,"p",10),r.cc(25,"async"),r.yc(26,xE,1,0,"loading-spinner",10),r.cc(27,"async"),r.Ob(),r.Ob()),2&t&&(r.Ab(1),r.gc("ngIf",e.game),r.Ab(5),r.Bc(e.buildDropdownText()),r.Ab(4),r.gc("ngClass",r.kc(12,CE,e.showDropdown)),r.Ab(12),r.gc("ngForOf",r.dc(23,6,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(25,8,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(27,10,e.page.loading)))},directives:[j,A,K_,nw,P,ui,vE,lw],pipes:[H],styles:[""]}),t})(),SE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["game-leaderboard-header"]],decls:17,vars:0,consts:[[1,"row","leaderboard-header"],[1,"leaderboard-number"],[1,"material-icons","md-light","md-16"],[1,"leaderboard-text","flex-1"],[1,"leaderboard-number","mobile-gone"],[1,"leaderboard-date","mobile-gone"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Ac(2,"Ranking"),r.Ob(),r.Pb(3,"div"),r.Pb(4,"i",2),r.Ac(5,"person"),r.Ob(),r.Ob(),r.Pb(6,"div",3),r.Ac(7,"Username"),r.Ob(),r.Pb(8,"div",4),r.Pb(9,"i",2),r.Ac(10,"hourglass_empty"),r.Ob(),r.Ob(),r.Pb(11,"div",5),r.Pb(12,"i",2),r.Ac(13,"schedule"),r.Ob(),r.Ob(),r.Pb(14,"div",1),r.Pb(15,"i",2),r.Ac(16,"emoji_events"),r.Ob(),r.Ob(),r.Ob())},styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})(),EE=(()=>{class t{constructor(t){this.user=t}ngOnInit(){}buildRoute(){return this.user.changeUser(null),`/user/${this.data.name}${"0000"==this.data.tag?"":"-"+this.data.tag}`}buildHours(){return this.data.completion_time?`~${(this.data.completion_time/3600).toFixed(0)}h`:""}buildDate(t){if(t&&t.seconds){var e=new Date(1970,0,1);return e.setSeconds(t.seconds),new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(e)}return""}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ck))},t.\u0275cmp=r.Eb({type:t,selectors:[["game-leaderboard-user"]],inputs:{index:"index",data:"data"},decls:12,vars:7,consts:[[1,"row","mdc-layout-grid__cell--span-12","leaderboard-user","location-card",3,"routerLink"],[1,"title","leaderboard-number"],[1,"avatar",3,"src"],[1,"leaderboard-text",2,"flex-grow","1"],[1,"leaderboard-number","mobile-gone"],[1,"leaderboard-date","date","mobile-gone"],[1,"leaderboard-number"]],template:function(t,e){1&t&&(r.Pb(0,"a",0),r.Pb(1,"div",1),r.Ac(2),r.Ob(),r.Lb(3,"img",2),r.Pb(4,"div",3),r.Ac(5),r.Ob(),r.Pb(6,"div",4),r.Ac(7),r.Ob(),r.Pb(8,"div",5),r.Ac(9),r.Ob(),r.Pb(10,"div",6),r.Ac(11),r.Ob(),r.Ob()),2&t&&(r.hc("routerLink",e.buildRoute()),r.Ab(2),r.Bc(e.index+1),r.Ab(1),r.hc("src",e.data.avatar,r.sc),r.Ab(2),r.Bc(e.user.buildUsername(e.data.name,e.data.tag)),r.Ab(2),r.Bc(e.buildHours()),r.Ab(2),r.Bc(e.buildDate(e.data.completed)),r.Ab(2),r.Bc(e.data.achievements_completed))},directives:[ui],styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})();function AE(t,e){if(1&t&&(r.Pb(0,"div",6),r.Pb(1,"a",7),r.Ac(2,"Achievements"),r.Ob(),r.Pb(3,"div",8),r.Ac(4,"Leaderboard"),r.Ob(),r.Pb(5,"a",7),r.Ac(6,"Guides"),r.Ob(),r.Pb(7,"a",7),r.Ac(8,"Reviews"),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.hc("routerLink",t.achievements()),r.Ab(4),r.hc("routerLink",t.guide()),r.Ab(2),r.hc("routerLink",t.review())}}function TE(t,e){if(1&t&&r.Lb(0,"game-leaderboard-user",9),2&t){const t=e.$implicit;r.gc("index",e.index)("data",t)}}function PE(t,e){1&t&&(r.Pb(0,"p",10),r.Ac(1," _______"),r.Ob())}function IE(t,e){1&t&&r.Lb(0,"loading-spinner",10)}let jE=(()=>{class t{constructor(t,e,n,r){var i;this.seo=t,this.route=e,this.gameService=n,this.page=r,this.tag=null===(i=this.route.parent)||void 0===i?void 0:i.snapshot.paramMap.get("tag")}ngOnInit(){this.initTags(),this.gameService.currentGame.subscribe(t=>{t&&(this.game=t,this.generateGameTags(t.name,t.banner),this.fetchLeaderboard(t._id))})}initTags(){this.tag&&this.generateGameTags(this.gameService.buildGameName(this.tag),this.gameService.buildGameBanner(this.tag))}generateGameTags(t,e){this.seo.generateTags({title:t+" Achievements Leaderboard | Stadia Hunters",description:t+" leaderboard for Stadia.",image:e})}fetchLeaderboard(t){this.page.init(`games/${t}/players`,"achievements_completed",{limit:20,reverse:!0,prepend:!1,sort:{field:"completed",reverse:!1}})}scrollHandler(t){"bottom"===t&&this.page.more()}guide(){return`/game/${this.tag}/guide/`}achievements(){return`/game/${this.tag}/achievements/`}review(){return`/game/${this.tag}/review/`}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(qv),r.Kb(zn),r.Kb(rw),r.Kb(zv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-game-leaderboard"]],decls:10,vars:10,consts:[[1,"mdc-grid","mdc-layout-grid__inner",2,"grid-gap","0px"],["class","mdc-layout-grid__cell--span-10 row",4,"ngIf"],[1,"mdc-layout-grid__cell--span-12"],["scrollable","",1,"mdc-layout-grid__cell--span-12",3,"scrollPosition"],[3,"index","data",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"mdc-layout-grid__cell--span-10","row"],[1,"stadia-button",3,"routerLink"],[1,"stadia-button","selected"],[3,"index","data"],[1,"center"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.yc(1,AE,9,3,"div",1),r.Lb(2,"game-leaderboard-header",2),r.Pb(3,"div",3),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.yc(4,TE,1,2,"game-leaderboard-user",4),r.cc(5,"async"),r.yc(6,PE,2,0,"p",5),r.cc(7,"async"),r.yc(8,IE,1,0,"loading-spinner",5),r.cc(9,"async"),r.Ob(),r.Ob()),2&t&&(r.Ab(1),r.gc("ngIf",e.tag),r.Ab(3),r.gc("ngForOf",r.dc(5,4,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(7,6,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(9,8,e.page.loading)))},directives:[j,SE,nw,P,ui,EE,lw],pipes:[H],styles:[""]}),t})();class RE{constructor(t={}){this.value=t.value||"",this.key=t.key||"",this.hint=t.hint||"",this.required=!!t.required,this.order=void 0===t.order?1:t.order,this.controlType=t.controlType||"",this.type=t.type||""}}class DE extends RE{constructor(){super(...arguments),this.controlType="text"}}class LE extends RE{constructor(){super(...arguments),this.controlType="title"}}class ME extends RE{constructor(){super(...arguments),this.controlType="image"}}class NE extends RE{constructor(){super(...arguments),this.controlType="video"}}class FE extends RE{constructor(){super(...arguments),this.controlType="state-share"}}class VE extends RE{constructor(){super(...arguments),this.controlType="link"}}let BE=(()=>{class t{constructor(){this.questionsSource=new Lt(void 0),this.questions=this.questionsSource.asObservable(),this.responsesSource=new Lt([]),this.responses=this.responsesSource.asObservable(),this.responses$=[],this.questions$=[new DE({key:"1",hint:"Insert text.",order:1})]}getQuestions(){return this.questionsSource.next(this.questions$),this.questions}getResponses(){return this.responses}removeQuestion(){this.questions$.pop(),this.questionsSource.next(this.questions$),this.questions$.length<this.responses$.length&&(this.responses$.pop(),this.responsesSource.next(this.responses$))}addQuestion(t){let e=this.questions$.length+1;switch(t){case"title":this.questions$.push(new LE({key:""+e,hint:"Insert title.",order:e}));break;case"text":this.questions$.push(new DE({key:""+e,hint:"Insert text.",order:e}));break;case"image":this.questions$.push(new ME({key:""+e,hint:"Insert image url.",order:e}));break;case"video":this.questions$.push(new NE({key:""+e,hint:"Insert video url.",order:e}));break;case"link":this.questions$.push(new VE({key:""+e,hint:"Insert link.",order:e}));break;case"state-share":this.questions$.push(new FE({key:""+e,hint:"Insert state share link.",order:e}))}this.questionsSource.next(this.questions$)}updateResponses(t){this.responses$=this.buildResponse(t),this.questions$=this.questions$.map(e=>(e.value=t[e.key],e)),this.responsesSource.next(this.responses$)}buildResponse(t){return this.questions$.map(e=>({position:e.key,type:e.controlType,text:this.buildText(t[e.key])}))}buildText(t){return t.includes("embed")?t:t.includes("https://www.youtube.com/")?"https://www.youtube.com/embed/"+t.split("v=")[1].substring(0,11):t.includes("https://youtu.be/")?"https://www.youtube.com/embed/"+t.substring(17,28):t.trim().replace(/</g,"&lt;").replace(/>/g,"&gt;")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class UE{constructor(t){this.total=t}call(t,e){return e.subscribe(new HE(t,this.total))}}class HE extends Ft.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const zE=new Set;let qE,GE=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):KE}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!zE.has(t))try{qE||(qE=document.createElement("style"),qE.setAttribute("type","text/css"),document.head.appendChild(qE)),qE.sheet&&(qE.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),zE.add(t))}catch(av){console.error(av)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(xw))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(xw))},token:t,providedIn:"root"}),t})();function KE(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let $E=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new Rt.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return WE(U_(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Kt(WE(U_(t)).map(t=>this._registerQuery(t).observable));return e=Zt(e.pipe(oe(1)),e.pipe(t=>t.lift(new UE(1)),Qv(0))),e.pipe(Object(te.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new Ht.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(ue(e),Object(te.a)(({matches:e})=>({query:t,matches:e})),Jv(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(GE),r.Tb(r.z))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(GE),Object(r.Tb)(r.z))},token:t,providedIn:"root"}),t})();function WE(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function QE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",1),r.Pb(1,"button",2),r.Xb("click",function(){return r.pc(t),r.bc().action()}),r.Ac(2),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.Ab(2),r.Bc(t.data.action)}}function XE(t,e){}const ZE=new r.q("MatSnackBarData");class YE{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const JE=Math.pow(2,31)-1;class tA{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Rt.a,this._afterOpened=new Rt.a,this._onAction=new Rt.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,JE))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let eA=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(tA),r.Kb(ZE))},t.\u0275cmp=r.Eb({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"span"),r.Ac(1),r.Ob(),r.yc(2,QE,3,1,"div",0)),2&t&&(r.Ab(1),r.Bc(e.data.message),r.Ab(1),r.gc("ngIf",e.hasAction))},directives:[j,UC],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const nA={snackBarState:Zw("state",[eO("void, hidden",tO({transform:"scale(0.8)",opacity:0})),eO("visible",tO({transform:"scale(1)",opacity:1})),nO("* => visible",Yw("150ms cubic-bezier(0, 0, 0.2, 1)")),nO("* => void, * => hidden",Yw("75ms cubic-bezier(0.4, 0.0, 1, 1)",tO({opacity:0})))])};let rA=(()=>{class t extends qk{constructor(t,e,n,r,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Rt.a,this._onExit=new Rt.a,this._onEnter=new Rt.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(oe(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.z),r.Kb(r.l),r.Kb(r.h),r.Kb(xw),r.Kb(YE))},t.\u0275cmp=r.Eb({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&r.uc(Kk,!0),2&t){let t;r.mc(t=r.Yb())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&r.wc("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&r.xc("@state",e._animationState)},features:[r.xb],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.yc(1,XE,0,0,"ng-template",1),r.Ob(),r.Lb(2,"div")),2&t&&(r.Ab(2),r.Bb("aria-live",e._live)("role",e._role))},directives:[Kk],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[nA.snackBarState]}}),t})(),iA=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[OS,$k,z,zC,wC],wC]}),t})();const sA=new r.q("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new YE}});let oA=(()=>{class t{constructor(t,e,n,r,i,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=eA,this.snackBarContainerComponent=rA,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:YE,useValue:e}]}),i=new Uk(this.snackBarContainerComponent,e.viewContainerRef,n),s=t.attach(i);return s.instance.snackBarConfig=e,s.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new YE),this._defaultConfig),e),i=this._createOverlay(n),s=this._attachSnackBarContainer(i,n),o=new tA(s,i);if(t instanceof r.L){const e=new Hk(t,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new Uk(t,void 0,e),i=s.attachComponentPortal(r);o.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Jv(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new nS;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,s=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.r.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:tA,useValue:e},{provide:ZE,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(_S),r.Tb(Vw),r.Tb(r.r),r.Tb($E),r.Tb(t,12),r.Tb(sA))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(_S),Object(r.Tb)(Vw),Object(r.Tb)(r.o),Object(r.Tb)($E),Object(r.Tb)(t,12),Object(r.Tb)(sA))},token:t,providedIn:iA}),t})();const aA=new r.q("NgValueAccessor"),cA={provide:aA,useExisting:Object(r.U)(()=>uA),multi:!0};let uA=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([cA])]}),t})();const lA={provide:aA,useExisting:Object(r.U)(()=>dA),multi:!0},hA=new r.q("CompositionEventMode");let dA=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(hA,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([lA])]}),t})();function fA(t){return null==t||0===t.length}function pA(t){return null!=t&&"number"==typeof t.length}const mA=new r.q("NgValidators"),gA=new r.q("NgAsyncValidators"),bA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yA{static min(t){return e=>{if(fA(e.value)||fA(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(fA(e.value)||fA(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return fA(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return fA(t.value)||bA.test(t.value)?null:{email:!0}}static minLength(t){return e=>fA(e.value)||!pA(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>pA(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return yA.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(fA(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(vA);return 0==e.length?null:function(t){return wA(OA(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(vA);return 0==e.length?null:function(t){return KC(OA(t,e).map(_A)).pipe(Object(te.a)(wA))}}}function vA(t){return null!=t}function _A(t){const e=Object(r.sb)(t)?Object(It.a)(t):t;return Object(r.rb)(e),e}function wA(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function OA(t,e){return e.map(e=>e(t))}function xA(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function CA(t){return null!=t?yA.compose(xA(t)):null}function kA(t){return null!=t?yA.composeAsync(xA(t)):null}function SA(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function EA(t){return t._rawValidators}function AA(t){return t._rawAsyncValidators}let TA=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=CA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=kA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),PA=(()=>{class t extends TA{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return IA(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const IA=r.Rb(PA);class jA extends TA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class RA{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let DA=(()=>{class t extends RA{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(jA,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),LA=(()=>{class t extends RA{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(PA,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();const MA={provide:aA,useExisting:Object(r.U)(()=>NA),multi:!0};let NA=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([MA])]}),t})();const FA={provide:aA,useExisting:Object(r.U)(()=>BA),multi:!0};let VA=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),BA=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(jA),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(VA),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([FA])]}),t})();const UA={provide:aA,useExisting:Object(r.U)(()=>HA),multi:!0};let HA=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([UA])]}),t})();const zA={provide:aA,useExisting:Object(r.U)(()=>qA),multi:!0};let qA=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([zA])]}),t})();const GA={provide:aA,useExisting:Object(r.U)(()=>KA),multi:!0};let KA=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([GA])]}),t})();function $A(t,e){return[...e.path,t]}function WA(t,e){XA(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&YA(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&YA(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function QA(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XA(t,e,n){const r=EA(t);null!==e.validator?t.setValidators(SA(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=AA(t);if(null!==e.asyncValidator?t.setAsyncValidators(SA(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();QA(e._rawValidators,n),QA(e._rawAsyncValidators,n)}}function ZA(t,e,n){if(null!==t){if(null!==e.validator){const n=EA(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=AA(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};QA(e._rawValidators,t),QA(e._rawAsyncValidators,t)}}function YA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function JA(t,e){XA(t,e,!1)}function tT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const eT=[uA,HA,NA,qA,KA,BA];function nT(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===dA?n=t:(e=t,eT.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function rT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function iT(t){return(cT(t)?t.validators:t)||null}function sT(t){return Array.isArray(t)?CA(t):t||null}function oT(t,e){return(cT(e)?e.asyncValidators:t)||null}function aT(t){return Array.isArray(t)?kA(t):t||null}function cT(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class uT{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=sT(this._rawValidators),this._composedAsyncValidatorFn=aT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=sT(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=aT(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=_A(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof hT?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof dT&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lT extends uT{constructor(t=null,e,n){super(iT(e),oT(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){rT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){rT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class hT extends uT{constructor(t,e,n){super(iT(e),oT(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof lT?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class dT extends uT{constructor(t,e,n){super(iT(e),oT(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof lT?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const fT={provide:jA,useExisting:Object(r.U)(()=>mT)},pT=(()=>Promise.resolve(null))();let mT=(()=>{class t extends jA{constructor(t,e,n,i){super(),this.control=new lT,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=nT(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),tT(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?$A(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){WA(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;pT.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(PA,9),r.Kb(mA,10),r.Kb(gA,10),r.Kb(aA,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([fT]),r.xb,r.yb]}),t})(),gT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const bT=new r.q("NgModelWithFormControlWarning"),yT={provide:PA,useExisting:Object(r.U)(()=>vT)};let vT=(()=>{class t extends PA{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return WA(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){rT(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);JA(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);JA(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),ZA(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&WA(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XA(this.form,this,!1),this._oldForm&&ZA(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(mA,10),r.Kb(gA,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([yT]),r.xb,r.yb]}),t})();const _T={provide:jA,useExisting:Object(r.U)(()=>wT)};let wT=(()=>{class t extends jA{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=nT(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),tT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return $A(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(PA,13),r.Kb(mA,10),r.Kb(gA,10),r.Kb(aA,10),r.Kb(bT,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([_T]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const OT={provide:mA,useExisting:Object(r.U)(()=>xT),multi:!0};let xT=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?yA.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([OT])]}),t})();const CT={provide:mA,useExisting:Object(r.U)(()=>kT),multi:!0};let kT=(()=>{class t{constructor(){this._validator=yA.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=yA.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.zb([CT]),r.yb]}),t})();const ST={provide:mA,useExisting:Object(r.U)(()=>ET),multi:!0};let ET=(()=>{class t{constructor(){this._validator=yA.nullValidator}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=yA.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r.zb([ST]),r.yb]}),t})(),AT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),TT=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new hT(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new lT(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new dT(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof lT||t instanceof hT||t instanceof dT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),PT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[VA],imports:[AT]}),t})(),IT=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:bT,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[TT,VA],imports:[AT]}),t})(),jT=(()=>{class t{constructor(){}toFormGroup(t){const e={};return t.forEach(t=>{e[t.key]=t.required?new lT(t.value||"",yA.required):new lT(t.value||"")}),new hT(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function RT(t,e){if(1&t&&r.Lb(0,"input",4),2&t){const t=r.bc();r.gc("placeholder",t.question.hint)("formControlName",t.question.key)("id",t.question.key)("type",t.question.type)}}function DT(t,e){if(1&t&&r.Lb(0,"textarea",5),2&t){const t=r.bc();r.gc("placeholder",t.question.hint)("id",t.question.key)("formControlName",t.question.key)}}function LT(t,e){if(1&t&&r.Lb(0,"input",4),2&t){const t=r.bc();r.gc("placeholder",t.question.hint)("formControlName",t.question.key)("id",t.question.key)("type",t.question.type)}}function MT(t,e){if(1&t&&r.Lb(0,"input",4),2&t){const t=r.bc();r.gc("placeholder",t.question.hint)("formControlName",t.question.key)("id",t.question.key)("type",t.question.type)}}function NT(t,e){if(1&t&&r.Lb(0,"input",4),2&t){const t=r.bc();r.gc("placeholder",t.question.hint)("formControlName",t.question.key)("id",t.question.key)("type",t.question.type)}}function FT(t,e){if(1&t&&r.Lb(0,"input",4),2&t){const t=r.bc();r.gc("placeholder",t.question.hint)("formControlName",t.question.key)("id",t.question.key)("type",t.question.type)}}let VT=(()=>{class t{get isValid(){return this.form.controls[this.question.key].valid}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-question"]],inputs:{question:"question",form:"form"},decls:8,vars:8,consts:[[3,"formGroup"],[3,"ngSwitch"],[3,"placeholder","formControlName","id","type",4,"ngSwitchCase"],[3,"placeholder","id","formControlName",4,"ngSwitchCase"],[3,"placeholder","formControlName","id","type"],[3,"placeholder","id","formControlName"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.yc(2,RT,1,4,"input",2),r.yc(3,DT,1,3,"textarea",3),r.yc(4,LT,1,4,"input",2),r.yc(5,MT,1,4,"input",2),r.yc(6,NT,1,4,"input",2),r.yc(7,FT,1,4,"input",2),r.Ob(),r.Ob()),2&t&&(r.gc("formGroup",e.form),r.Ab(1),r.gc("ngSwitch",e.question.controlType),r.Ab(1),r.gc("ngSwitchCase","title"),r.Ab(1),r.gc("ngSwitchCase","text"),r.Ab(1),r.gc("ngSwitchCase","image"),r.Ab(1),r.gc("ngSwitchCase","video"),r.Ab(1),r.gc("ngSwitchCase","link"),r.Ab(1),r.gc("ngSwitchCase","state-share"))},directives:[LA,vT,M,N,dA,DA,wT],styles:[".username-center[_ngcontent-%COMP%]{margin:auto 1rem}.comment-card[_ngcontent-%COMP%]{grid-gap:8px}.container[_ngcontent-%COMP%]{min-width:60vw;max-width:80vw;min-height:30vw;max-height:65vw;padding:1rem}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem}input[_ngcontent-%COMP%]{height:3rem;line-height:2rem;font-weight:400;position:relative;z-index:6}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-radius:.25rem;box-sizing:border-box;color:hsla(0,0%,100%,.9);border:none;margin:.5rem 0;padding:.375rem 1rem;width:100%;font-family:Roboto,sans-serif;font-size:1rem}textarea[_ngcontent-%COMP%]{height:5rem}"]}),t})();function BT(t,e){if(1&t&&(r.Pb(0,"div",2),r.Lb(1,"app-question",3),r.Ob()),2&t){const t=e.$implicit,n=r.bc();r.Ab(1),r.gc("question",t)("form",n.form)}}let UT=(()=>{class t{constructor(t,e){this.qcs=t,this.qs=e,this.size=0,this.questions=[],this.payLoad=""}ngOnInit(){}ngOnChanges(t){console.log(t),this.updateForm()}updateForm(){this.form=this.qcs.toFormGroup(this.questions?this.questions:[]),this.form.valueChanges.subscribe(t=>{this.qs.updateResponses(t)})}onSubmit(){this.payLoad=JSON.stringify(this.form.getRawValue())}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(jT),r.Kb(BE))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-dynamic-form"]],inputs:{size:"size",questions:"questions"},features:[r.yb],decls:3,vars:2,consts:[[3,"formGroup","ngSubmit"],["class","form-row",4,"ngFor","ngForOf"],[1,"form-row"],[3,"question","form"]],template:function(t,e){1&t&&(r.Pb(0,"div"),r.Pb(1,"form",0),r.Xb("ngSubmit",function(){return e.onSubmit()}),r.yc(2,BT,2,2,"div",1),r.Ob(),r.Ob()),2&t&&(r.Ab(1),r.gc("formGroup",e.form),r.Ab(1),r.gc("ngForOf",e.questions))},directives:[gT,LA,vT,P,VT],encapsulation:2}),t})();const HT=["input"],zT=function(){return{enterDuration:150}},qT=["*"],GT=new r.q("mat-checkbox-default-options",{providedIn:"root",factory:KT});function KT(){return{color:"accent",clickAction:"check-indeterminate"}}let $T=0;const WT=KT(),QT={provide:aA,useExisting:Object(r.U)(()=>JT),multi:!0};class XT{}class ZT{constructor(t){this._elementRef=t}}const YT=kC(xC(CC(OC(ZT))));let JT=(()=>{class t extends YT{constructor(t,e,n,i,s,o,a){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._animationMode=o,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++$T,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new r.n,this.indeterminateChange=new r.n,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||WT,this.color=this.defaultColor=this._options.color||WT.color,this.tabIndex=parseInt(s)||0}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(t){this._required=V_(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=V_(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=V_(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new XT;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){var e;const n=null===(e=this._options)||void 0===e?void 0:e.clickAction;t.stopPropagation(),this.disabled||"noop"===n?this.disabled||"noop"!==n||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==n&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t,e){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.h),r.Kb(zw),r.Kb(r.z),r.Ub("tabindex"),r.Kb(mC,8),r.Kb(GT,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(r.Fc(HT,!0),r.Fc(RC,!0)),2&t){let t;r.mc(t=r.Yb())&&(e._inputElement=t.first),r.mc(t=r.Yb())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(r.Sb("id",e.id),r.Bb("tabindex",null),r.Cb("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r.zb([QT]),r.xb],ngContentSelectors:qT,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(r.fc(),r.Pb(0,"label",0,1),r.Pb(2,"span",2),r.Pb(3,"input",3,4),r.Xb("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),r.Ob(),r.Pb(5,"span",5),r.Lb(6,"span",6),r.Ob(),r.Lb(7,"span",7),r.Pb(8,"span",8),r.ac(),r.Pb(9,"svg",9),r.Lb(10,"path",10),r.Ob(),r.Zb(),r.Lb(11,"span",11),r.Ob(),r.Ob(),r.Pb(12,"span",12,13),r.Xb("cdkObserveContent",function(){return e._onLabelTextChange()}),r.Pb(14,"span",14),r.Ac(15,"\xa0"),r.Ob(),r.ec(16),r.Ob(),r.Ob()),2&t){const t=r.nc(1),n=r.nc(13);r.Bb("for",e.inputId),r.Ab(2),r.Cb("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),r.Ab(1),r.gc("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),r.Bb("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),r.Ab(2),r.gc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",r.jc(19,zT))}},directives:[RC,Pw],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),tP=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),eP=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[DC,wC,Iw,tP],wC,tP]}),t})();function nP(t,e){if(1&t&&(r.Pb(0,"h1"),r.Ac(1),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.Cc(" ",t.guide.text,"\n")}}function rP(t,e){if(1&t&&(r.Pb(0,"h2"),r.Ac(1),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.Cc(" ",t.guide.text,"\n")}}function iP(t,e){if(1&t&&r.Lb(0,"pre",2),2&t){const t=r.bc();r.gc("innerHTML",t.guide.text,r.qc)}}function sP(t,e){if(1&t&&r.Lb(0,"pre",2),2&t){const t=r.bc();r.gc("innerHTML",t.guide.text,r.qc)}}function oP(t,e){if(1&t&&(r.Pb(0,"div"),r.Lb(1,"achievement-media",3),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.gc("media",t.guide.text)("isVideo",!1)}}function aP(t,e){if(1&t&&(r.Pb(0,"div"),r.Lb(1,"achievement-media",3),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.gc("media",t.guide.text)("isVideo",!0)}}function cP(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"a",4),r.Pb(2,"mat-icon"),r.Ac(3,"insert_link"),r.Ob(),r.Ac(4," Link"),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.gc("href",t.guide.text,r.sc)}}function uP(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"a",4),r.Lb(2,"img",5),r.Ac(3," State Share"),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.gc("href",t.guide.text,r.sc)}}let lP=(()=>{class t{constructor(t){this.sanitizer=t,this.url=""}ngOnInit(){this.url=this.sanitizer.bypassSecurityTrustResourceUrl(this.guide.text)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(_t))},t.\u0275cmp=r.Eb({type:t,selectors:[["guide"]],inputs:{guide:"guide"},decls:8,vars:8,consts:[[4,"ngIf"],["class","guide-text",3,"innerHTML",4,"ngIf"],[1,"guide-text",3,"innerHTML"],[3,"media","isVideo"],["mat-raised-button","","target","_blank",1,"white-button",3,"href"],["src","../assets/images/stadia.png","width","24"]],template:function(t,e){1&t&&(r.yc(0,nP,2,1,"h1",0),r.yc(1,rP,2,1,"h2",0),r.yc(2,iP,1,1,"pre",1),r.yc(3,sP,1,1,"pre",1),r.yc(4,oP,2,2,"div",0),r.yc(5,aP,2,2,"div",0),r.yc(6,cP,5,1,"div",0),r.yc(7,uP,4,1,"div",0)),2&t&&(r.gc("ngIf","header"==e.guide.type&&e.guide.text),r.Ab(1),r.gc("ngIf","title"==e.guide.type&&e.guide.text),r.Ab(1),r.gc("ngIf","text"==e.guide.type&&e.guide.text),r.Ab(1),r.gc("ngIf","html"==e.guide.type&&e.guide.text),r.Ab(1),r.gc("ngIf","image"==e.guide.type&&e.guide.text),r.Ab(1),r.gc("ngIf","video"==e.guide.type&&e.guide.text),r.Ab(1),r.gc("ngIf","link"==e.guide.type&&e.guide.text),r.Ab(1),r.gc("ngIf","state-share"==e.guide.type&&e.guide.text))},directives:[j,qS,HC,Ok],styles:[".guide-text[_ngcontent-%COMP%]{font-family:Google Sans,sans-serif;font-size:1rem;line-height:1.25rem;font-weight:300;width:auto;text-transform:none;color:hsla(0,0%,100%,.75);white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.container[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden;padding-top:50%;margin-top:1rem}.responsive-iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;border:none}"]}),t})();function hP(t,e){1&t&&(r.Pb(0,"div",18),r.Pb(1,"div"),r.Ac(2,"Bugged"),r.Ob(),r.Pb(3,"i",19),r.Ac(4,"error_outline"),r.Ob(),r.Ob())}function dP(t,e){1&t&&(r.Pb(0,"div",20),r.Pb(1,"div"),r.Ac(2,"Missable"),r.Ob(),r.Pb(3,"div",21),r.Pb(4,"i",19),r.Ac(5,"warning"),r.Ob(),r.Ob(),r.Ob())}function fP(t,e){1&t&&(r.Pb(0,"div",22),r.Pb(1,"span",23),r.Ac(2,"DLC"),r.Ob(),r.Pb(3,"div"),r.Ac(4,"Required"),r.Ob(),r.Ob())}const pP=function(t,e){return{"mdc-layout-grid__cell--span-4":t,"mdc-layout-grid__cell--span-12":e}};function mP(t,e){if(1&t&&r.Lb(0,"guide",24),2&t){const t=e.$implicit;r.gc("guide",t)("ngClass",r.lc(2,pP,"video"==t.type||"image"==t.type,"video"!=t.type&&"image"!=t.type))}}let gP=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.dialogRef=t,this.service=e,this.firebase=n,this.authService=r,this.gameService=i,this.achievementService=s,this.snackBar=o,this.data=a,this.questions$=[],this.bugged=!1,this.missable=!1,this.dlc=!1,e.getQuestions().subscribe(t=>{this.questions$=t}),this.responses$=e.getResponses()}ngOnInit(){this.authService.loggedUser.subscribe(t=>this.user=t),this.gameService.currentGame.subscribe(t=>this.game=t),this.achievementService.currentAchievement.subscribe(t=>this.achievement=t)}buildTitle(){return"comment"==this.data.type?"Write an achievment guide":"guide"==this.data.type?"Write a game guide":"review"==this.data.type?"Write a game review":""}addField(t){this.service.addQuestion(t)}removeField(){this.service.removeQuestion()}onNoClick(){this.dialogRef.close()}submit(){let t=this.service.responses$.filter(t=>""!=t.text.trim());this.user&&this.game&&t.length>0&&("comment"==this.data.type&&this.achievement&&this.submitComment(t),"guide"==this.data.type&&this.submitGuide(t),"review"==this.data.type&&this.submitReview(t),this.onNoClick())}submitGuide(t){let e={content:t,dlc:this.dlc,bugged:this.bugged,missable:this.missable,votes:0,created:new Date,text:"Game Guide",user:{_id:this.user._id,username:this.user.username,avatar:this.user.avatar,stadiaId:this.user.stadiaId},game:{_id:this.game._id,tag:this.game.tag,banner:this.game.banner,name:this.game.name}};this.firebase.collection("activity").doc().set(e),this.snackBar.open("Guide Submitted for approval","Dismiss")}submitReview(t){let e={content:t,dlc:this.dlc,bugged:this.bugged,missable:this.missable,votes:0,created:new Date,text:"Game Review",user:{_id:this.user._id,username:this.user.username,avatar:this.user.avatar,stadiaId:this.user.stadiaId},game:{_id:this.game._id,tag:this.game.tag,banner:this.game.banner,name:this.game.name}};this.firebase.collection("activity").doc().set(e),this.snackBar.open("Review Submitted for approval","Dismiss")}submitComment(t){let e=this.firebase.collection("games").doc(this.game._id).collection("achievement").doc(this.achievement._id),n=this.firebase.collection("profiles").doc(this.user._id),r=n.collection("comments").doc(),i=e.collection("comments").doc(),s=this.firebase.collection("activity").doc(),o={content:t,text:t[0].text,dlc:this.dlc,bugged:this.bugged,missable:this.missable,votes:0,created:new Date,user:{_id:this.user._id,username:this.user.username,avatar:this.user.avatar,stadiaId:this.user.stadiaId}};e.update({comments:Bi.a.firestore.FieldValue.increment(1)}),i.set(o);let a=Object.assign({game:{_id:this.game._id,tag:this.game.tag,banner:this.game.banner,name:this.game.name},achievement:{_id:this.achievement._id,icon:this.achievement.icon,title:this.achievement.title,subtitle:this.achievement.subtitle}},o);r.set(a),s.set(a),n.update({comments:Bi.a.firestore.FieldValue.increment(1)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(PS),r.Kb(BE),r.Kb(Bv),r.Kb(Hv),r.Kb(rw),r.Kb(KS),r.Kb(oA),r.Kb(jS))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-comment-modal"]],decls:53,vars:12,consts:[[1,"container"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-6-desktop","mdc-layout-grid__cell--span-4-phone"],[3,"questions","size"],[1,"row","wrap"],["mat-mini-fab","",1,"white-button",3,"click"],["src","../assets/images/youtube.png","width","24"],["src","../assets/images/stadia.png","width","24"],[3,"ngModel","ngModelChange"],[1,"mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-6"],[1,"row"],["class","achievement-missable yellow",4,"ngIf"],["class","achievement-missable",4,"ngIf"],["class","achievement-missable white",4,"ngIf"],[1,"mdc-layout-grid__inner",2,"grid-gap","4px"],[3,"guide","ngClass",4,"ngFor","ngForOf"],["mat-dialog-actions","",2,"margin","auto"],["mat-button","","cdkFocusInitial","",1,"white-button",2,"margin","auto !important",3,"click"],[1,"achievement-missable","yellow"],[1,"material-icons","md-16"],[1,"achievement-missable"],[1,"I8jVSc"],[1,"achievement-missable","white"],[1,"dlc-icon"],[3,"guide","ngClass"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"h1"),r.Ac(4),r.Ob(),r.Lb(5,"app-dynamic-form",3),r.Pb(6,"h3"),r.Ac(7,"Additional attachments:"),r.Ob(),r.Pb(8,"div",4),r.Pb(9,"button",5),r.Xb("click",function(){return e.addField("title")}),r.Pb(10,"mat-icon"),r.Ac(11,"format_bold"),r.Ob(),r.Ob(),r.Pb(12,"button",5),r.Xb("click",function(){return e.addField("text")}),r.Pb(13,"mat-icon"),r.Ac(14,"insert_comment"),r.Ob(),r.Ob(),r.Pb(15,"button",5),r.Xb("click",function(){return e.addField("image")}),r.Pb(16,"mat-icon"),r.Ac(17,"insert_photo"),r.Ob(),r.Ob(),r.Pb(18,"button",5),r.Xb("click",function(){return e.addField("link")}),r.Pb(19,"mat-icon"),r.Ac(20,"insert_link"),r.Ob(),r.Ob(),r.Pb(21,"button",5),r.Xb("click",function(){return e.addField("video")}),r.Lb(22,"img",6),r.Ob(),r.Pb(23,"button",5),r.Xb("click",function(){return e.addField("state-share")}),r.Lb(24,"img",7),r.Ob(),r.Pb(25,"button",5),r.Xb("click",function(){return e.removeField()}),r.Pb(26,"mat-icon"),r.Ac(27,"delete"),r.Ob(),r.Ob(),r.Ob(),r.Pb(28,"h3"),r.Ac(29,"Report as:"),r.Ob(),r.Pb(30,"div"),r.Pb(31,"div"),r.Pb(32,"mat-checkbox",8),r.Xb("ngModelChange",function(t){return e.bugged=t}),r.Ac(33," Bugged"),r.Ob(),r.Ob(),r.Pb(34,"div"),r.Pb(35,"mat-checkbox",8),r.Xb("ngModelChange",function(t){return e.missable=t}),r.Ac(36," Missable"),r.Ob(),r.Ob(),r.Pb(37,"div"),r.Pb(38,"mat-checkbox",8),r.Xb("ngModelChange",function(t){return e.dlc=t}),r.Ac(39," Requires DLC"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(40,"div",9),r.Pb(41,"h1"),r.Ac(42,"Preview"),r.Ob(),r.Pb(43,"div",10),r.yc(44,hP,5,0,"div",11),r.yc(45,dP,6,0,"div",12),r.yc(46,fP,5,0,"div",13),r.Ob(),r.Pb(47,"div",14),r.yc(48,mP,1,5,"guide",15),r.cc(49,"async"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(50,"div",16),r.Pb(51,"button",17),r.Xb("click",function(){return e.submit()}),r.Ac(52,"Submit"),r.Ob(),r.Ob()),2&t&&(r.Ab(4),r.Bc(e.buildTitle()),r.Ab(1),r.gc("questions",e.questions$)("size",e.questions$.length),r.Ab(27),r.gc("ngModel",e.bugged),r.Ab(3),r.gc("ngModel",e.missable),r.Ab(3),r.gc("ngModel",e.dlc),r.Ab(6),r.gc("ngIf",e.bugged),r.Ab(1),r.gc("ngIf",e.missable),r.Ab(1),r.gc("ngIf",e.dlc),r.Ab(2),r.gc("ngForOf",r.dc(49,10,e.responses$)))},directives:[UT,UC,Ok,JT,DA,mT,j,P,VS,lP,A,K_],pipes:[H],styles:[".username-center[_ngcontent-%COMP%]{margin:auto 1rem}.comment-card[_ngcontent-%COMP%]{grid-gap:8px}.container[_ngcontent-%COMP%]{min-width:60vw;max-width:80vw;min-height:30vw;max-height:65vw;padding:1rem}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem}input[_ngcontent-%COMP%]{height:3rem;line-height:2rem;font-weight:400;position:relative;z-index:6}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-radius:.25rem;box-sizing:border-box;color:hsla(0,0%,100%,.9);border:none;margin:.5rem 0;padding:.375rem 1rem;width:100%;font-family:Roboto,sans-serif;font-size:1rem}textarea[_ngcontent-%COMP%]{height:5rem}",".achievement-icon[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;height:5rem;width:5rem;border-radius:.5rem}.achievement-unlocked[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background-color:#00e0ba}.achievement-missable[_ngcontent-%COMP%], .achievement-unlocked[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;font-size:1rem;line-height:1.25rem;letter-spacing:.00625rem;font-weight:400;color:#202124;border-radius:.125rem;padding:0 .5rem;display:flex;align-items:center;margin:.75rem .2rem .25rem}.achievement-missable[_ngcontent-%COMP%]{height:28px;background-color:#fc4a1f}.material-icons.md-16[_ngcontent-%COMP%]{font-size:20px;margin:.2rem}.md-20[_ngcontent-%COMP%]{font-size:20px;margin:.25rem}.guide[_ngcontent-%COMP%]{padding:.5rem;position:relative;top:-.3rem}.icon[_ngcontent-%COMP%]{margin:.75rem .2rem 0;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;color:#202124}.icon.white[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#fff}.icon.blue[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#1e88e5}.icon.yellow[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#ffca28}.icon.green[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#00c853}.achievement-missable.yellow[_ngcontent-%COMP%]{background-color:#ffca28}.achievement-missable.white[_ngcontent-%COMP%]{background-color:#fff}.dlc-icon[_ngcontent-%COMP%]{font-weight:900;margin:.2rem}.tip-header[_ngcontent-%COMP%]{margin-top:.75rem}.tip-title[_ngcontent-%COMP%]{font-family:Google Sans,sans-serif;font-size:1rem;line-height:1.25rem;font-weight:500;width:auto;text-transform:none;color:hsla(0,0%,100%,.5)}"]}),t})();function bP(t,e){if(1&t&&(r.Pb(0,"div",9),r.Pb(1,"a",10),r.Ac(2,"Achievements"),r.Ob(),r.Pb(3,"a",10),r.Ac(4,"Leaderboard"),r.Ob(),r.Pb(5,"div",11),r.Ac(6,"Guides"),r.Ob(),r.Pb(7,"a",10),r.Ac(8,"Reviews"),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.hc("routerLink",t.achievements()),r.Ab(2),r.hc("routerLink",t.leaderboard()),r.Ab(4),r.hc("routerLink",t.review())}}const yP=function(t,e){return{"mdc-layout-grid__cell--span-2":t,"mdc-layout-grid__cell--span-12":e}};function vP(t,e){if(1&t&&r.Lb(0,"guide",12),2&t){const t=e.$implicit;r.gc("guide",t)("ngClass",r.lc(2,yP,"video"==t.type||"image"==t.type,"video"!=t.type&&"image"!=t.type))}}function _P(t,e){1&t&&(r.Pb(0,"p",13),r.Ac(1," _______"),r.Ob())}function wP(t,e){1&t&&r.Lb(0,"loading-spinner",14)}function OP(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",15),r.Xb("click",function(){return r.pc(t),r.bc().signIn()}),r.Ac(1,"Sign in and add a guide"),r.Ob()}}function xP(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",15),r.Xb("click",function(){return r.pc(t),r.bc().buildCommentModal()}),r.Ac(1,"Add a guide"),r.Ob()}}let CP=(()=>{class t{constructor(t,e,n,r,i,s,o){var a;this.router=t,this.seo=e,this.route=n,this.gameService=r,this.page=i,this.dialog=s,this.auth=o,this.tag=null===(a=this.route.parent)||void 0===a?void 0:a.snapshot.paramMap.get("tag")}ngOnInit(){this.initTags(),this.gameService.currentGame.subscribe(t=>{t&&(this.game=t,console.log(t),this.generateGameTags(t.name,t.banner),this.fetchGuides(t._id))}),this.auth.loggedUser.subscribe(t=>{this.user=t})}initTags(){this.tag&&this.generateGameTags(this.gameService.buildGameName(this.tag),this.gameService.buildGameBanner(this.tag))}generateGameTags(t,e){this.seo.generateTags({title:t+" Guide | Stadia Hunters",description:t+" guide for Stadia.",image:e})}fetchGuides(t){this.page.init(`games/${t}/guide`,"position",{limit:20,reverse:!1,prepend:!1})}scrollHandler(t){"bottom"===t&&this.page.more()}achievements(){return`/game/${this.tag}/achievements/`}leaderboard(){return`/game/${this.tag}/leaderboard/`}review(){return`/game/${this.tag}/review/`}signIn(){this.router.navigate(["/login"])}buildCommentModal(){this.dialog.open(gP,{data:{type:"guide"}})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ci),r.Kb(qv),r.Kb(zn),r.Kb(rw),r.Kb(zv),r.Kb(NS),r.Kb(Hv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-game-guides"]],decls:13,vars:12,consts:[[1,"mdc-grid","mdc-layout-grid__inner",2,"grid-gap","0px"],["class","mdc-layout-grid__cell--span-10 row",4,"ngIf"],["scrollable","",1,"mdc-layout-grid__cell--span-12","mdc-layout-grid__inner",2,"grid-gap","0px",3,"scrollPosition"],[3,"guide","ngClass",4,"ngFor","ngForOf"],["class","center mdc-layout-grid__cell--span-12",4,"ngIf"],["class","center",4,"ngIf"],[1,"mdc-layout-grid__cell--span-12"],[1,"centered"],["mat-button","","class","white-button",3,"click",4,"ngIf"],[1,"mdc-layout-grid__cell--span-10","row"],[1,"stadia-button",3,"routerLink"],[1,"stadia-button","selected"],[3,"guide","ngClass"],[1,"center","mdc-layout-grid__cell--span-12"],[1,"center"],["mat-button","",1,"white-button",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.yc(1,bP,9,3,"div",1),r.Pb(2,"div",2),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.yc(3,vP,1,5,"guide",3),r.cc(4,"async"),r.yc(5,_P,2,0,"p",4),r.cc(6,"async"),r.yc(7,wP,1,0,"loading-spinner",5),r.cc(8,"async"),r.Ob(),r.Pb(9,"div",6),r.Pb(10,"div",7),r.yc(11,OP,2,0,"a",8),r.yc(12,xP,2,0,"a",8),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(1),r.gc("ngIf",e.tag),r.Ab(2),r.gc("ngForOf",r.dc(4,6,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(6,8,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(8,10,e.page.loading)),r.Ab(4),r.gc("ngIf",!e.user),r.Ab(1),r.gc("ngIf",e.user))},directives:[j,nw,P,ui,lP,A,K_,lw,HC],pipes:[H],styles:[""]}),t})(),kP=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["discord"]],decls:4,vars:0,consts:[["href","https://discord.gg/U9Bykub","target","_blank"],[2,"position","absolute","height","75px","width","300px","z-index","1"],["src",r.Ec("https://discordapp.com/widget?id=747737974749528086&theme=dark"),"width","auto","height","75","allowtransparency","true","frameborder","0","sandbox","allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"]],template:function(t,e){1&t&&(r.Pb(0,"a",0),r.Pb(1,"div"),r.Lb(2,"div",1),r.Lb(3,"iframe",2),r.Ob(),r.Ob())},encapsulation:2}),t})();function SP(t,e){if(1&t&&r.Lb(0,"div",12),2&t){const t=r.bc(2);r.vc("background-image","url("+t.buildAvatar()+")")}}function EP(t,e){1&t&&(r.Pb(0,"div",13),r.Pb(1,"div"),r.Ac(2,"Bugged"),r.Ob(),r.Pb(3,"i",14),r.Ac(4,"error_outline"),r.Ob(),r.Ob())}function AP(t,e){1&t&&(r.Pb(0,"div",15),r.Pb(1,"div"),r.Ac(2,"Missable"),r.Ob(),r.Pb(3,"div",16),r.Pb(4,"i",14),r.Ac(5,"warning"),r.Ob(),r.Ob(),r.Ob())}function TP(t,e){1&t&&(r.Pb(0,"div",17),r.Pb(1,"span",18),r.Ac(2,"DLC"),r.Ob(),r.Pb(3,"div"),r.Ac(4,"Required"),r.Ob(),r.Ob())}function PP(t,e){if(1&t&&(r.Pb(0,"pre",19),r.Ac(1),r.Ob()),2&t){const t=r.bc(2);r.Ab(1),r.Bc(t.data.text)}}const IP=function(t,e){return{"mdc-layout-grid__cell--span-4":t,"mdc-layout-grid__cell--span-12":e}};function jP(t,e){if(1&t&&r.Lb(0,"guide",22),2&t){const t=e.$implicit;r.gc("guide",t)("ngClass",r.lc(2,IP,"video"==t.type||"image"==t.type,"video"!=t.type&&"image"!=t.type))}}function RP(t,e){if(1&t&&(r.Pb(0,"div",20),r.yc(1,jP,1,5,"guide",21),r.Ob()),2&t){const t=r.bc(2);r.Ab(1),r.gc("ngForOf",t.data.content)}}const DP=function(t){return{"username-center":t}};function LP(t,e){if(1&t&&(r.Pb(0,"div",1),r.Pb(1,"div",2),r.Pb(2,"div",3),r.yc(3,SP,1,2,"div",4),r.Pb(4,"div",5),r.Ac(5),r.Ob(),r.Pb(6,"div",6),r.Ac(7),r.Ob(),r.Ob(),r.Pb(8,"div",3),r.yc(9,EP,5,0,"div",7),r.yc(10,AP,6,0,"div",8),r.yc(11,TP,5,0,"div",9),r.Ob(),r.Ob(),r.Pb(12,"div",2),r.yc(13,PP,2,1,"pre",10),r.yc(14,RP,2,1,"div",11),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(3),r.gc("ngIf",t.data.user),r.Ab(1),r.gc("ngClass",r.kc(9,DP,t.data.user)),r.Ab(1),r.Bc(t.buildUsername()),r.Ab(2),r.Bc(t.buildDate()),r.Ab(2),r.gc("ngIf",t.data.bugged),r.Ab(1),r.gc("ngIf",t.data.missable),r.Ab(1),r.gc("ngIf",t.data.dlc),r.Ab(2),r.gc("ngIf",!t.data.content),r.Ab(1),r.gc("ngIf",t.data.content)}}let MP=(()=>{class t{constructor(){}ngOnInit(){}buildUsername(){return this.data.user?this.data.user.username:this.data.name}buildAvatar(){return this.data.user?this.data.user.avatar:""}buildDate(){if(this.data.created){var t=new Date(1970,0,1);return t.setSeconds(this.data.created.seconds),new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(t)}return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["comment"]],inputs:{data:"data"},decls:1,vars:1,consts:[["class","card comment-card spacing-top mdc-layout-grid__inner",4,"ngIf"],[1,"card","comment-card","spacing-top","mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-12"],[1,"row"],["class","avatar",3,"background-image",4,"ngIf"],[1,"title","flex-1",3,"ngClass"],[1,"date"],["class","achievement-missable yellow",4,"ngIf"],["class","achievement-missable",4,"ngIf"],["class","achievement-missable white",4,"ngIf"],["class","guide-text",4,"ngIf"],["class","mdc-layout-grid__inner","style","grid-gap: 4px;",4,"ngIf"],[1,"avatar"],[1,"achievement-missable","yellow"],[1,"material-icons","md-16"],[1,"achievement-missable"],[1,"I8jVSc"],[1,"achievement-missable","white"],[1,"dlc-icon"],[1,"guide-text"],[1,"mdc-layout-grid__inner",2,"grid-gap","4px"],[3,"guide","ngClass",4,"ngFor","ngForOf"],[3,"guide","ngClass"]],template:function(t,e){1&t&&r.yc(0,LP,15,11,"div",0),2&t&&r.gc("ngIf",!e.data.isDeleted)},directives:[j,A,K_,P,lP],styles:[".username-center[_ngcontent-%COMP%]{margin:auto 1rem}.comment-card[_ngcontent-%COMP%]{grid-gap:8px}.container[_ngcontent-%COMP%]{min-width:60vw;max-width:80vw;min-height:30vw;max-height:65vw;padding:1rem}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem}input[_ngcontent-%COMP%]{height:3rem;line-height:2rem;font-weight:400;position:relative;z-index:6}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-radius:.25rem;box-sizing:border-box;color:hsla(0,0%,100%,.9);border:none;margin:.5rem 0;padding:.375rem 1rem;width:100%;font-family:Roboto,sans-serif;font-size:1rem}textarea[_ngcontent-%COMP%]{height:5rem}",".achievement-icon[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;height:5rem;width:5rem;border-radius:.5rem}.achievement-unlocked[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background-color:#00e0ba}.achievement-missable[_ngcontent-%COMP%], .achievement-unlocked[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;font-size:1rem;line-height:1.25rem;letter-spacing:.00625rem;font-weight:400;color:#202124;border-radius:.125rem;padding:0 .5rem;display:flex;align-items:center;margin:.75rem .2rem .25rem}.achievement-missable[_ngcontent-%COMP%]{height:28px;background-color:#fc4a1f}.material-icons.md-16[_ngcontent-%COMP%]{font-size:20px;margin:.2rem}.md-20[_ngcontent-%COMP%]{font-size:20px;margin:.25rem}.guide[_ngcontent-%COMP%]{padding:.5rem;position:relative;top:-.3rem}.icon[_ngcontent-%COMP%]{margin:.75rem .2rem 0;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;color:#202124}.icon.white[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#fff}.icon.blue[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#1e88e5}.icon.yellow[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#ffca28}.icon.green[_ngcontent-%COMP%]{border-radius:.125rem;background-color:#00c853}.achievement-missable.yellow[_ngcontent-%COMP%]{background-color:#ffca28}.achievement-missable.white[_ngcontent-%COMP%]{background-color:#fff}.dlc-icon[_ngcontent-%COMP%]{font-weight:900;margin:.2rem}.tip-header[_ngcontent-%COMP%]{margin-top:.75rem}.tip-title[_ngcontent-%COMP%]{font-family:Google Sans,sans-serif;font-size:1rem;line-height:1.25rem;font-weight:500;width:auto;text-transform:none;color:hsla(0,0%,100%,.5)}",".guide-text[_ngcontent-%COMP%]{font-family:Google Sans,sans-serif;font-size:1rem;line-height:1.25rem;font-weight:300;width:auto;text-transform:none;color:hsla(0,0%,100%,.75);white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.container[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden;padding-top:50%;margin-top:1rem}.responsive-iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;border:none}"]}),t})(),NP=(()=>{class t{constructor(){}ngOnInit(){}buildUsername(t,e){var n=t;return"0000"!=e&&(n+="#"+e),n}buildDate(t){if(t){var e=new Date(1970,0,1);return e.setSeconds(t.seconds),new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"numeric"}).format(e)}return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["achievement-user"]],inputs:{index:"index",data:"data"},decls:8,vars:5,consts:[[1,"row","mdc-layout-grid__cell--span-12","spacing-top"],[1,"title",2,"width","1rem"],[1,"avatar"],[1,"leaderboard-text","flex-1",2,"overflow","auto"],[1,"date"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Ac(2),r.Ob(),r.Lb(3,"div",2),r.Pb(4,"div",3),r.Ac(5),r.Ob(),r.Pb(6,"div",4),r.Ac(7),r.Ob(),r.Ob()),2&t&&(r.Ab(2),r.Bc(e.index+1),r.Ab(1),r.vc("background-image","url("+e.data.avatar+")"),r.Ab(2),r.Bc(e.buildUsername(e.data.name,e.data.tag)),r.Ab(2),r.Bc(e.buildDate(e.data.completed)))},styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})();function FP(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",14),r.Xb("click",function(){return r.pc(t),r.bc().signIn()}),r.Ac(1,"Sign in and add a guide"),r.Ob()}}function VP(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",14),r.Xb("click",function(){return r.pc(t),r.bc().buildCommentModal()}),r.Ac(1,"Add a guide"),r.Ob()}}function BP(t,e){1&t&&r.Lb(0,"comment",15),2&t&&r.gc("data",e.$implicit)}function UP(t,e){1&t&&(r.Pb(0,"p",16),r.Ac(1," _______"),r.Ob())}function HP(t,e){1&t&&r.Lb(0,"loading-spinner",16)}function zP(t,e){if(1&t){const t=r.Qb();r.Pb(0,"achievement-user",17),r.Xb("click",function(){r.pc(t);const n=e.$implicit;return r.bc().redirect(n)}),r.Ob()}if(2&t){const t=e.$implicit;r.gc("index",e.index)("data",t)}}function qP(t,e){if(1&t){const t=r.Qb();r.Pb(0,"achievement-user",17),r.Xb("click",function(){r.pc(t);const n=e.$implicit;return r.bc().redirect(n)}),r.Ob()}if(2&t){const t=e.$implicit;r.gc("index",e.index)("data",t)}}let GP=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u){this.seo=t,this.userService=e,this.gameService=n,this.achievementService=r,this.auth=i,this.router=s,this.route=o,this.firestore=a,this.dialog=c,this.page=u,this.firstAchieversSource=new Lt(void 0),this.firstAchievers=this.firstAchieversSource.asObservable(),this.latestAchieversSource=new Lt(void 0),this.latestAchievers=this.latestAchieversSource.asObservable()}ngOnInit(){this.initTags(),this.gameService.currentGame.subscribe(t=>{t&&(this.game=t,this.observeAchievement())})}initTags(){var t;const e=null===(t=this.route.parent)||void 0===t?void 0:t.snapshot.paramMap.get("tag"),n=this.route.snapshot.paramMap.get("name");e&&n&&this.generateAchievementTags(this.gameService.buildGameName(e),this.gameService.buildGameBanner(e),this.achievementService.buildAchievementName(n),"")}observeAchievement(){this.auth.loggedUser.subscribe(t=>{this.user=t}),this.achievementService.currentAchievement.subscribe(t=>{t?(this.achievement=t,this.generateAchievementTags(this.game.name,t.icon,t.title,t.subtitle),this.fetchComments(),this.fetchAchievers(!0),this.fetchAchievers(!1)):this.achievement||this.fetchAchievement()})}fetchAchievement(){const t=this.route.snapshot.paramMap.get("id");null!==t&&this.firestore.collection("games").doc(this.game._id).collection("achievement").doc(t).get().pipe(Object(Re.a)(t=>{let e=t.data();e&&this.achievementService.changeAchievement(e)})).subscribe()}fetchAchievers(t){const e=this.route.snapshot.paramMap.get("id");null!==e&&this.firestore.collection("games").doc(this.game._id).collection("achievement").doc(e).collection("players",e=>e.orderBy("completed",t?"asc":"desc").limit(10)).snapshotChanges().pipe(Object(Re.a)(e=>{let n=e.map(t=>{const e=t.payload.doc.data();return Object.assign({_id:t.payload.doc.id},e)});t?this.firstAchieversSource.next(n):this.latestAchieversSource.next(n)})).subscribe()}generateAchievementTags(t,e,n,r){this.seo.generateTags({title:`${n} achievement in ${t} | Stadia Hunters`,description:`${n} achievement in ${t} ${r}. Find guides to this achievement here.`,image:e})}fetchComments(){const t=this.route.snapshot.paramMap.get("id");this.page.init(`games/${this.game._id}/achievement/${t}/comments`,"created",{limit:20,reverse:!0,prepend:!1})}scrollHandler(t){"bottom"===t&&(console.log("more"),this.page.more())}redirect(t){console.log(t);var e=t.name;"0000"!=t.tag&&(e+="-"+t.tag),this.userService.changeUser(void 0),this.userService.fetchUserByStadiaId(t),this.router.navigate(["/user/"+e])}signIn(){this.router.navigate(["/login"])}buildCommentModal(){this.dialog.open(gP,{data:{type:"comment"}})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(qv),r.Kb(Ck),r.Kb(rw),r.Kb(KS),r.Kb(Hv),r.Kb(ci),r.Kb(zn),r.Kb(Bv),r.Kb(NS),r.Kb(zv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-achievement-guides"]],decls:31,vars:20,consts:[[1,"mdc-grid"],[3,"achievement","game","navigate"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-8"],[1,"centered"],["mat-button","","class","white-button",3,"click",4,"ngIf"],["scrollable","",3,"scrollPosition"],[3,"data",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"centered",2,"margin-top","5rem"],[1,"mdc-layout-grid__cell--span-4"],[1,"card","spacing-top"],[1,"spacing-top"],[3,"index","data","click",4,"ngFor","ngForOf"],["mat-button","",1,"white-button",3,"click"],[3,"data"],[1,"center"],[3,"index","data","click"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Lb(1,"achievement",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"div",4),r.yc(5,FP,2,0,"a",5),r.yc(6,VP,2,0,"a",5),r.Ob(),r.Pb(7,"div",6),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.yc(8,BP,1,1,"comment",7),r.cc(9,"async"),r.yc(10,UP,2,0,"p",8),r.cc(11,"async"),r.yc(12,HP,1,0,"loading-spinner",8),r.cc(13,"async"),r.Ob(),r.Pb(14,"div",9),r.Pb(15,"div",4),r.Ac(16," Need help or looking for a group ?"),r.Ob(),r.Lb(17,"discord"),r.Ob(),r.Ob(),r.Pb(18,"div",10),r.Pb(19,"div",11),r.Pb(20,"div"),r.Ac(21,"First Achievers"),r.Ob(),r.Lb(22,"div",12),r.yc(23,zP,1,2,"achievement-user",13),r.cc(24,"async"),r.Ob(),r.Pb(25,"div",11),r.Pb(26,"div"),r.Ac(27,"Latest Achievers"),r.Ob(),r.Lb(28,"div",12),r.yc(29,qP,1,2,"achievement-user",13),r.cc(30,"async"),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(1),r.gc("achievement",e.achievement)("game",e.game)("navigate",!1),r.Ab(4),r.gc("ngIf",!e.user),r.Ab(1),r.gc("ngIf",e.user),r.Ab(2),r.gc("ngForOf",r.dc(9,10,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(11,12,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(13,14,e.page.loading)),r.Ab(11),r.gc("ngForOf",r.dc(24,16,e.firstAchievers)),r.Ab(6),r.gc("ngForOf",r.dc(30,18,e.latestAchievers)))},directives:[vE,j,nw,P,kP,HC,MP,lw,NP],pipes:[H],styles:[""]}),t})(),KP=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["leaderboard-header"]],decls:17,vars:0,consts:[[1,"row","leaderboard-header"],[1,"leaderboard-number"],[1,"material-icons","md-light","md-16"],[1,"leaderboard-text","flex-1"],[1,"leaderboard-number","mobile-gone"],[1,"material-icons","md-gold","md-16"],[1,"material-icons","md-16"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Ac(2,"Ranking"),r.Ob(),r.Pb(3,"div"),r.Pb(4,"i",2),r.Ac(5,"person"),r.Ob(),r.Ob(),r.Pb(6,"div",3),r.Ac(7,"Username"),r.Ob(),r.Pb(8,"div",4),r.Pb(9,"i",5),r.Ac(10,"sports_esports"),r.Ob(),r.Ob(),r.Pb(11,"div",4),r.Pb(12,"i",6),r.Ac(13,"emoji_events"),r.Ob(),r.Ob(),r.Pb(14,"div",1),r.Pb(15,"i",6),r.Ac(16,"leaderboard"),r.Ob(),r.Ob(),r.Ob())},styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})();function $P(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"h2",9),r.Ac(2),r.Ob(),r.Mb()),2&t){const t=r.bc();r.Ab(2),r.Cc("Rank: ",t.buildRank(),"")}}function WP(t,e){1&t&&(r.Pb(0,"h2",9),r.Ac(1,"_"),r.Ob())}let QP=(()=>{class t{constructor(t,e){this.router=t,this.leaderboardService=e}ngOnInit(){}buildUndefined(t){return t||"-"}buildLeaderboard(){return this.leaderboardService.buildLeaderboard(this.type)}redirectLeaderboard(){this.router.navigate(["/leaderboard/"+this.type])}buildRank(){return this.leaderboardService.buildRank(this.type,this.user)}buildScore(){return this.leaderboardService.buildScore(this.type,this.user)}buildAchievements(){return this.leaderboardService.buildAchievements(this.type,this.user)}buildGames(){return this.leaderboardService.buildGames(this.type,this.user)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ci),r.Kb(bw))},t.\u0275cmp=r.Eb({type:t,selectors:[["profile-score"]],inputs:{type:"type",user:"user"},decls:22,vars:6,consts:[[1,"score-row",3,"click"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"row",2,"margin","1rem"],[1,"flex-1","row"],[1,"material-icons","md-gold","md-16"],[1,"score"],[1,"material-icons","md-16"],[1,"date","center"],[1,"center"]],template:function(t,e){if(1&t&&(r.Pb(0,"div",0),r.Xb("click",function(){return e.redirectLeaderboard()}),r.yc(1,$P,3,1,"ng-container",1),r.yc(2,WP,2,0,"ng-template",null,2,r.zc),r.Pb(4,"div",3),r.Pb(5,"div",4),r.Pb(6,"i",5),r.Ac(7,"sports_esports"),r.Ob(),r.Pb(8,"div",6),r.Ac(9),r.Ob(),r.Ob(),r.Pb(10,"div",4),r.Pb(11,"i",7),r.Ac(12,"emoji_events"),r.Ob(),r.Pb(13,"div",6),r.Ac(14),r.Ob(),r.Ob(),r.Pb(15,"div",4),r.Pb(16,"i",7),r.Ac(17,"leaderboard"),r.Ob(),r.Pb(18,"div",6),r.Ac(19),r.Ob(),r.Ob(),r.Ob(),r.Pb(20,"div",8),r.Ac(21),r.Ob(),r.Ob()),2&t){const t=r.nc(3);r.Ab(1),r.gc("ngIf",e.buildRank())("ngIfElse",t),r.Ab(8),r.Bc(e.buildGames()),r.Ab(5),r.Bc(e.buildAchievements()),r.Ab(5),r.Bc(e.buildScore()),r.Ab(2),r.Bc(e.buildLeaderboard())}},directives:[j],styles:[".score-row[_ngcontent-%COMP%]{margin:1rem 1rem 2rem;cursor:pointer}.score[_ngcontent-%COMP%]{margin:0 .5rem}"]}),t})();function XP(t,e){if(1&t&&(r.Pb(0,"div",6),r.Pb(1,"div",7),r.Ac(2),r.Ob(),r.Pb(3,"div",7),r.Ac(4),r.Ob(),r.Pb(5,"div",8),r.Ac(6),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(2),r.Bc(t.data.month_games_completed),r.Ab(2),r.Bc(t.data.month_achievements),r.Ab(2),r.Bc(t.data.month_score)}}function ZP(t,e){if(1&t&&(r.Pb(0,"div",6),r.Pb(1,"div",7),r.Ac(2),r.Ob(),r.Pb(3,"div",7),r.Ac(4),r.Ob(),r.Pb(5,"div",8),r.Ac(6),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(2),r.Bc(t.data.year_games_completed),r.Ab(2),r.Bc(t.data.year_achievements),r.Ab(2),r.Bc(t.data.year_score)}}function YP(t,e){if(1&t&&(r.Pb(0,"div",6),r.Pb(1,"div",7),r.Ac(2),r.Ob(),r.Pb(3,"div",7),r.Ac(4),r.Ob(),r.Pb(5,"div",8),r.Ac(6),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(2),r.Bc(t.data.games_completed),r.Ab(2),r.Bc(t.data.achievements_completed),r.Ab(2),r.Bc(t.data.score)}}let JP=(()=>{class t{constructor(t,e){this.firestore=t,this.user=e,this.filter="overall",this.isUser=!1}ngOnInit(){this.updateRank()}updateRank(){switch(this.filter){case"month":this.index!==this.data.month_rank&&this.data.month_score>0&&(this.data.month_rank=this.index,this.updateUser(this.data._id,{month_rank:this.index}));break;case"year":this.index!==this.data.year_rank&&this.data.year_score>0&&(this.data.year_rank=this.index,this.updateUser(this.data._id,{year_rank:this.index}));break;case"overall":this.index!==this.data.rank&&this.data.score>0&&(this.data.rank=this.index,this.updateUser(this.data._id,{rank:this.index}))}}buildRoute(){return this.data.username?"/user/"+this.data.username.replace("#","-"):""}changeUser(){console.log(this.data),this.user.changeUser(this.data)}updateUser(t,e){this.firestore.collection("profiles").doc(t).update(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Bv),r.Kb(Ck))},t.\u0275cmp=r.Eb({type:t,selectors:[["leaderboard-user"]],inputs:{index:"index",filter:"filter",data:"data",isUser:"isUser"},decls:10,vars:7,consts:[[3,"routerLink","click"],["ngclass","",1,"row","mdc-layout-grid__cell--span-12","leaderboard-user","location-card"],[1,"title","leaderboard-number"],[1,"avatar",3,"src"],[1,"leaderboard-text",2,"flex-grow","1"],["class","row",4,"ngIf"],[1,"row"],[1,"leaderboard-number","mobile-gone"],[1,"leaderboard-number"]],template:function(t,e){1&t&&(r.Pb(0,"a",0),r.Xb("click",function(){return e.changeUser()}),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Ac(3),r.Ob(),r.Lb(4,"img",3),r.Pb(5,"div",4),r.Ac(6),r.Ob(),r.yc(7,XP,7,3,"div",5),r.yc(8,ZP,7,3,"div",5),r.yc(9,YP,7,3,"div",5),r.Ob(),r.Ob()),2&t&&(r.hc("routerLink",e.buildRoute()),r.Ab(3),r.Bc(e.index),r.Ab(1),r.hc("src",e.data.avatar,r.sc),r.Ab(2),r.Bc(e.data.username),r.Ab(1),r.gc("ngIf","month"===e.filter),r.Ab(1),r.gc("ngIf","year"===e.filter),r.Ab(1),r.gc("ngIf","overall"===e.filter))},directives:[ui,j],styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})();function tI(t,e){if(1&t&&r.Lb(0,"profile-score",9),2&t){const t=r.bc();r.gc("type",t.filter)("user",t.user)}}function eI(t,e){if(1&t&&r.Lb(0,"leaderboard-user",10),2&t){const t=e.$implicit,n=e.index,i=r.bc();r.gc("filter",i.filter)("index",n+1)("data",t)}}function nI(t,e){1&t&&(r.Pb(0,"p",1),r.Ac(1," _______"),r.Ob())}function rI(t,e){1&t&&r.Lb(0,"loading-spinner",1)}let iI=(()=>{class t{constructor(t,e,n,r,i){this.seo=t,this.route=e,this.auth=n,this.page=r,this.leaderboardService=i,this.filter="overall"}ngOnInit(){let t=this.route.snapshot.paramMap.get("filter");this.filter=t||"overall",console.log(this.filter);let e="score";"month"==this.filter?e="month_score":"year"==this.filter&&(e="year_score"),this.metaTags(),this.page.init("profiles",e,{limit:25,reverse:!0,prepend:!1}),this.auth.loggedUser.subscribe(t=>{this.user=t})}metaTags(){let t="";"month"==this.filter?t=this.leaderboardService.getMonth():"year"==this.filter&&(t=this.leaderboardService.getYear()),this.seo.generateTags({title:`Stadia ${t} Achievement Leaderboards - StadiaHunters.com`,description:`Worldwide ${t} Leaderboard rankings for Stadia`,image:"https://firebasestorage.googleapis.com/v0/b/stadiaachievements-34145.appspot.com/o/Achievements%20%26%20Guides%20(7).png?alt=media&token=64343a06-8dcd-45f6-bf80-ee6b34de4ab4"})}getLeaderboard(){return this.leaderboardService.buildLeaderboard(this.filter)}scrollHandler(t){"bottom"===t&&this.page.more()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(qv),r.Kb(zn),r.Kb(Hv),r.Kb(zv),r.Kb(bw))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-leaderboard"]],decls:15,vars:11,consts:[[1,"mdc-grid"],[1,"center"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-2-tablet","mdc-layout-grid__cell--span-4-desktop"],["class","mdc-layout-grid__cell--span-12-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-desktop",3,"type","user",4,"ngIf"],[1,"mdc-layout-grid__cell--span-12"],["scrollable","",1,"mdc-layout-grid__cell--span-12",3,"scrollPosition"],[3,"filter","index","data",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"mdc-layout-grid__cell--span-12-phone","mdc-layout-grid__cell--span-4-tablet","mdc-layout-grid__cell--span-4-desktop",3,"type","user"],[3,"filter","index","data"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"h1",1),r.Ac(3),r.Ob(),r.Pb(4,"div",2),r.Lb(5,"div",3),r.yc(6,tI,1,2,"profile-score",4),r.Ob(),r.Lb(7,"leaderboard-header",5),r.Pb(8,"div",6),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.yc(9,eI,1,3,"leaderboard-user",7),r.cc(10,"async"),r.yc(11,nI,2,0,"p",8),r.cc(12,"async"),r.yc(13,rI,1,0,"loading-spinner",8),r.cc(14,"async"),r.Ob(),r.Ob()),2&t&&(r.Ab(3),r.Bc(e.getLeaderboard()),r.Ab(3),r.gc("ngIf",e.user),r.Ab(3),r.gc("ngForOf",r.dc(10,5,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(12,7,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(14,9,e.page.loading)))},directives:[Gv,j,KP,nw,P,QP,JP,lw],pipes:[H],styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})(),sI=(()=>{class t{constructor(t,e,n,r,i){this.fb=t,this.location=e,this.authService=n,this.userService=r,this.seo=i,this.profileForm=this.fb.group({name:new lT("",[yA.required]),tag:new lT("",[yA.required]),link:[""]})}ngOnInit(){this.seo.generateTags({title:"Login | Stadia Hunters"}),this.authService.loggedUser.subscribe(t=>{!t||this.user&&t._id==this.user._id||(this.user=t,this.userService.changeUser(t),this.location.back())})}register(){const t=this.profileForm.value.name,e=this.profileForm.value.tag,n=this.profileForm.value.link.split("profile/");let r="";n.length>1&&(r=n[1]);let i={stadiaId:r,username:this.userService.buildUsername(t,e).replace(/</g,"&lt;").replace(/>/g,"&gt;")};this.authService.googleRegister(i)}signIn(){this.authService.googleSignIn()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(TT),r.Kb(w),r.Kb(Hv),r.Kb(Ck),r.Kb(qv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-login"]],decls:43,vars:2,consts:[[1,"mdc-grid","mdc-layout-grid__inner"],[1,"form","mdc-layout-grid__cell--span-12-phone","mdc-layout-grid__cell--span-4-tablet","mdc-layout-grid__cell--span-6-desktop"],[3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","Stadia Username","required",""],[1,"date","hint"],["type","text","formControlName","tag","placeholder","Tag","required","","minlength","4","maxlength","4"],["type","url","formControlName","link","placeholder","Profile link"],["type","submit",3,"disabled"],[1,"google-button"],["src","../../../assets/images/search.svg","width","20","height","20"],[1,"google-text"],[2,"margin-top","1rem"],[3,"click"],[2,"margin","0"],[1,"hint"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"form",2),r.Xb("ngSubmit",function(){return e.register()}),r.Pb(4,"label"),r.Lb(5,"input",3),r.Pb(6,"span",4),r.Ac(7,"e.g. Endeavour"),r.Ob(),r.Ob(),r.Pb(8,"label"),r.Lb(9,"input",5),r.Pb(10,"span",4),r.Ac(11,"e.g. 6399 or 0000 if you are a founder"),r.Ob(),r.Ob(),r.Pb(12,"label"),r.Lb(13,"input",6),r.Pb(14,"span",4),r.Ac(15,"e.g. https://stadia.google.com/profile/11024621899961678477"),r.Ob(),r.Ob(),r.Pb(16,"button",7),r.Pb(17,"div",8),r.Lb(18,"img",9),r.Pb(19,"div",10),r.Ac(20,"Register with Google"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(21,"h4",11),r.Ac(22,"Already registered?"),r.Ob(),r.Pb(23,"button",12),r.Xb("click",function(){return e.signIn()}),r.Pb(24,"div",8),r.Lb(25,"img",9),r.Pb(26,"div",10),r.Ac(27,"Login with Google"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(28,"div",1),r.Pb(29,"h2"),r.Ac(30,"Register now, and enjoy the following benefits"),r.Ob(),r.Pb(31,"h3",13),r.Ac(32,"Track achievements on Google Stadia"),r.Ob(),r.Pb(33,"p",14),r.Ac(34,"Stadia hunters provides the ability to showcase and track your gaming progress on Google Stadia"),r.Ob(),r.Pb(35,"h3",13),r.Ac(36,"Get ranked"),r.Ob(),r.Pb(37,"p",14),r.Ac(38,"See how you rank up against 700+ (and counting!) gamers on our monthly, yearly and overall leaderboards. Compare games and view rarity of achievements."),r.Ob(),r.Pb(39,"h3",13),r.Ac(40,"Join a thriving community"),r.Ob(),r.Pb(41,"p",14),r.Ac(42,"Share tips and connect with other gamers on our community. Help search for secret achievement or write a guide for your favourite game on Stadia"),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(3),r.gc("formGroup",e.profileForm),r.Ab(13),r.gc("disabled",!e.profileForm.valid))},directives:[Gv,gT,LA,vT,dA,DA,wT,xT,kT,ET],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.date.hint[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]{margin:1rem}label[_ngcontent-%COMP%]{display:block;margin:1rem 0;font-weight:700}input[_ngcontent-%COMP%]{height:3rem;line-height:2rem;font-weight:400;position:relative;z-index:6}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-radius:.25rem;box-sizing:border-box;color:hsla(0,0%,100%,.9);border:none;margin:.5rem 0;padding:.375rem 1rem;width:100%;font-family:Roboto,sans-serif;font-size:1rem}textarea[_ngcontent-%COMP%]{height:5rem}.google-button[_ngcontent-%COMP%]{margin:auto;display:flex}.google-text[_ngcontent-%COMP%]{margin:auto .5rem}button[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:none;text-transform:uppercase;font-weight:500;width:100%;padding:.75rem;border-radius:.25rem;cursor:pointer;display:flex}button[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}button[_ngcontent-%COMP%]:disabled{background-color:#eee;color:#ccc;cursor:auto}"]}),t})();function oI(t,e){1&t&&(r.Pb(0,"div",9),r.Ac(1,"Achievements"),r.Ob())}function aI(t,e){if(1&t&&(r.Pb(0,"div",10),r.Pb(1,"i",11),r.Ac(2,"emoji_events"),r.Ob(),r.Pb(3,"span",12),r.Ac(4),r.Ob(),r.Pb(5,"span",12),r.Ac(6,"/"),r.Ob(),r.Pb(7,"span",12),r.Ac(8),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(4),r.Bc(t.game.achievements_completed),r.Ab(4),r.Bc(t.game.achievements)}}function cI(t,e){if(1&t&&(r.Pb(0,"div",13),r.Lb(1,"div",14),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.vc("width",t.buildPercentage())}}let uI=(()=>{class t{constructor(){}ngOnInit(){}buildPercentage(){return this.game.achievements_completed/this.game.achievements*100+"%"}buildLastPlayed(){if(this.game.last_played){var t=new Date(1970,0,1);return t.setSeconds(this.game.last_played.seconds),new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(t)}return""}buildHoursPlayed(){return this.game.time_played?Math.floor(this.game.time_played/3600)+" h":""}buildMinPlayed(){if(this.game.time_played){let t=this.game.time_played/3600;return Math.floor(60*(t-Math.floor(t)))+" m"}return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["profile-game"]],inputs:{game:"game"},decls:12,vars:9,consts:[[1,"profile-game-card"],[1,"profile-game-image"],[1,"mdc-layout-grid__inner","profile-game-body"],[1,"mdc-layout-grid__cell--span-12","profile-game-header"],[1,"mdc-layout-grid__cell--span-12","profile-game-last","max-1","date"],[1,"date",2,"margin","4rem"],["class","hint mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-2-phone","style","margin: auto 0 0;",4,"ngIf"],["class","mdc-layout-grid__cell--span-2 profile-game-trophies",4,"ngIf"],["class","progress-bar-container mdc-layout-grid__cell--span-12",4,"ngIf"],[1,"hint","mdc-layout-grid__cell--span-10-desktop","mdc-layout-grid__cell--span-6-tablet","mdc-layout-grid__cell--span-2-phone",2,"margin","auto 0 0"],[1,"mdc-layout-grid__cell--span-2","profile-game-trophies"],[1,"material-icons","md-light","md-16"],[1,"trophy"],[1,"progress-bar-container","mdc-layout-grid__cell--span-12"],[1,"progress-bar"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Lb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Ac(4),r.Ob(),r.Pb(5,"div",4),r.Ac(6),r.Pb(7,"span",5),r.Ac(8),r.Ob(),r.Ob(),r.yc(9,oI,2,0,"div",6),r.yc(10,aI,9,2,"div",7),r.yc(11,cI,2,2,"div",8),r.Ob(),r.Ob()),2&t&&(r.Ab(1),r.vc("background-image","url("+e.game.banner+")"),r.Ab(3),r.Bc(e.game.name),r.Ab(2),r.Cc("",e.buildLastPlayed()," "),r.Ab(2),r.Dc("",e.buildHoursPlayed()," ",e.buildMinPlayed(),""),r.Ab(1),r.gc("ngIf",e.game.achievements>0),r.Ab(1),r.gc("ngIf",e.game.achievements>0),r.Ab(1),r.gc("ngIf",e.game.achievements>0))},directives:[j],styles:[".profile-game-card[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.03);margin:0 1rem;display:flex;flex-direction:row;border-radius:.5rem;cursor:pointer}.profile-game-header[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;font-size:1rem;line-height:1.5rem;font-weight:400;margin:auto 0}.profile-game-image[_ngcontent-%COMP%]{width:20rem;height:8rem;background-size:cover;background-position:50%;border-radius:.5rem 0 0 .5rem}.progress-bar-container[_ngcontent-%COMP%]{background:#2d2e31;height:.5rem;width:100%;border-radius:.5rem}.progress-bar[_ngcontent-%COMP%]{background:#f5f5f5;height:.5rem;width:21%;border-radius:.5rem}.profile-game-body[_ngcontent-%COMP%]{width:-webkit-fill-available;padding:.5rem 1.5rem;grid-gap:8px}.profile-game-trophies[_ngcontent-%COMP%]{display:flex;margin:auto 0 0 auto}.profile-game-last[_ngcontent-%COMP%], .profile-game-trophies[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.5)}"]}),t})();function lI(t,e){if(1&t&&(r.Pb(0,"div",2),r.Lb(1,"div",3),r.Ob()),2&t){const t=r.bc();r.vc("background-image","url("+t.banner+")")}}function hI(t,e){if(1&t&&(r.Pb(0,"a",18),r.Lb(1,"img",19),r.Ob()),2&t){const t=r.bc(2);r.gc("href",t.stadiaLink(),r.sc)}}function dI(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",20),r.Xb("click",function(){return r.pc(t),r.bc(2).signOut()}),r.Pb(1,"mat-icon"),r.Ac(2,"power_settings_new"),r.Ob(),r.Ob()}}const fI=function(t){return{show:t}};function pI(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",21),r.Pb(1,"div",22),r.Pb(2,"h2"),r.Ac(3,"Games"),r.Ob(),r.Pb(4,"div",23),r.Ac(5),r.Ob(),r.Ob(),r.Lb(6,"div",24),r.Pb(7,"div",25),r.Pb(8,"div",26),r.Xb("click",function(){return r.pc(t),r.bc(2).showDialog()}),r.Lb(9,"div",27),r.Pb(10,"div"),r.Ac(11),r.Ob(),r.Pb(12,"i",28),r.Ac(13,"arrow_drop_down"),r.Ob(),r.Lb(14,"div",27),r.Ob(),r.Pb(15,"div",29),r.Pb(16,"a",30),r.Xb("click",function(){return r.pc(t),r.bc(2).sort("last_played")}),r.Ac(17,"Last Played"),r.Ob(),r.Pb(18,"a",30),r.Xb("click",function(){return r.pc(t),r.bc(2).sort("time_played")}),r.Ac(19,"Time Played"),r.Ob(),r.Lb(20,"div",31),r.Pb(21,"a",30),r.Xb("click",function(){return r.pc(t),r.bc(2).sort("achievements")}),r.Ac(22,"Total Achievements"),r.Ob(),r.Pb(23,"a",30),r.Xb("click",function(){return r.pc(t),r.bc(2).sort("achievements_completed")}),r.Ac(24,"Completed Achievements"),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.bc(2);r.Ab(5),r.Cc("( ",t.user.games_owned," played )"),r.Ab(6),r.Bc(t.buildDropdownText()),r.Ab(4),r.gc("ngClass",r.kc(3,fI,t.showDropdown))}}function mI(t,e){if(1&t){const t=r.Qb();r.Pb(0,"profile-game",32),r.Xb("click",function(){r.pc(t);const n=e.$implicit;return r.bc(2).redirect(n)}),r.Ob()}2&t&&r.gc("game",e.$implicit)}function gI(t,e){1&t&&(r.Pb(0,"p",33),r.Ac(1," _______"),r.Ob())}function bI(t,e){1&t&&r.Lb(0,"loading-spinner",33)}function yI(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",4),r.Pb(1,"div",5),r.Pb(2,"div",6),r.Pb(3,"h1",7),r.Ac(4),r.Ob(),r.Pb(5,"div",8),r.Ac(6),r.Ob(),r.Ob(),r.Pb(7,"div",9),r.yc(8,hI,2,1,"a",10),r.yc(9,dI,3,0,"button",11),r.Ob(),r.Lb(10,"profile-score",12),r.Lb(11,"profile-score",12),r.Lb(12,"profile-score",12),r.Ob(),r.yc(13,pI,25,5,"div",13),r.Pb(14,"div",14),r.Xb("scrollPosition",function(e){return r.pc(t),r.bc().scrollHandler(e)}),r.Pb(15,"div",15),r.yc(16,mI,1,1,"profile-game",16),r.cc(17,"async"),r.Ob(),r.yc(18,gI,2,0,"p",17),r.cc(19,"async"),r.yc(20,bI,1,0,"loading-spinner",17),r.cc(21,"async"),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.Ab(4),r.Bc(t.user.username),r.Ab(2),r.Bc(t.buildHoursPlayed()),r.Ab(2),r.gc("ngIf",t.user.stadiaId),r.Ab(1),r.gc("ngIf",t.isUser()),r.Ab(1),r.gc("type","month")("user",t.user),r.Ab(1),r.gc("type","year")("user",t.user),r.Ab(1),r.gc("type","overall")("user",t.user),r.Ab(1),r.gc("ngIf",t.user.games_owned),r.Ab(3),r.gc("ngForOf",r.dc(17,15,t.page.data))("ngForTrackBy",t.itemTrackBy),r.Ab(2),r.gc("ngIf",r.dc(19,17,t.page.done)),r.Ab(2),r.gc("ngIf",r.dc(21,19,t.page.loading))}}let vI=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.router=t,this.route=e,this.gameData=n,this.authService=r,this.userService=i,this.userGameService=s,this.firestore=o,this.seo=a,this.page=c,this.banner="",this.showDropdown=!1,this.selected="launchDate"}ngOnInit(){this.initTags(),this.authService.loggedUser.subscribe(t=>{this.loggedUser=t}),this.userService.currentUser.subscribe(t=>{t&&!this.user?(this.user=t,this.fetchGames(),this.fetchLastPlayedGame()):this.user||this.fetchUser()})}initTags(){const t=this.route.snapshot.paramMap.get("username");this.seo.generateTags({title:t+"'s profile | Stadia Hunters",description:`An overview of ${t}'s gaming activity. Full list of games, achievement and rank on the month, year and overall leaderboard.`})}isUser(){return!(!this.user||!this.loggedUser)&&this.user._id==this.loggedUser._id}signOut(){this.authService.signOut()}stadiaLink(){return`https://stadia.google.com/profile/${this.user.stadiaId}/gameactivities/all`}fetchLastPlayedGame(){this.firestore.collection(`profiles/${this.user._id}/games`,t=>t.limit(1).orderBy("last_played","desc")).valueChanges().subscribe(t=>{this.banner=void 0!==t[0]?t[0].banner:"https://storage.googleapis.com/stadiaachievements-34145.appspot.com/banners/outcasters.jpg"})}fetchUser(){var t;const e=null===(t=this.route.snapshot.paramMap.get("username"))||void 0===t?void 0:t.replace("-","#");console.log(e),e&&this.userService.fetchUserByUsername(e)}redirect(t){this.gameData.changeGame(void 0),this.userGameService.changeUserGame(t),this.router.navigate([`/game/${t.tag}/achievements/${this.user._id}`])}buildHoursPlayed(){return this.user.time_played?Math.floor(this.user.time_played/3600)+" h":""}scrollHandler(t){"bottom"===t&&this.page.more()}showDialog(){this.showDropdown=!this.showDropdown}buildDropdownText(){switch(this.selected){case"last_played":return"Sort by : Last Played";case"game_completed":return"Sort by : Completed";case"achievements":return"Sort by : Achievements";case"achievements_completed":return"Sort by : Achievements Completed";case"time_played":return"Sort by : Most Played";case"month":return"Sort by : Month Most Played";default:return"Sort by : Last Played"}}sort(t){this.showDialog(),t!==this.selected&&(this.selected=t,this.fetchGames(t))}fetchGames(t="last_played",e="",n=!0){this.page.init(`profiles/${this.user._id}/games`,t,{limit:36,reverse:n,prepend:!1,sort:{field:"achievements",reverse:!0}})}itemTrackBy(t,e){return e._id}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ci),r.Kb(zn),r.Kb(rw),r.Kb(Hv),r.Kb(Ck),r.Kb(cE),r.Kb(Bv),r.Kb(qv),r.Kb(zv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-profile"]],decls:2,vars:2,consts:[["class","game-banner",3,"background-image",4,"ngIf"],["class","mdc-grid",4,"ngIf"],[1,"game-banner"],[1,"game-banner__shade","mdc-layout-grid"],[1,"mdc-grid"],[1,"mdc-layout-grid__inner","profile-spacing"],[1,"mdc-layout-grid__cell--span-3-phone","mdc-layout-grid__cell--span-6-tablet","mdc-layout-grid__cell--span-10-desktop","row"],[1,"profile-spacing"],[1,"date",2,"margin","auto 5rem"],[1,"mdc-layout-grid__cell--span-1-phone","mdc-layout-grid__cell--span-2-tablet","mdc-layout-grid__cell--span-2-desktop",2,"margin","0 0 0 auto"],["target","_blank","mat-mini-fab","","class","white-button",3,"href",4,"ngIf"],["mat-mini-fab","","class","white-button",3,"click",4,"ngIf"],[1,"mdc-layout-grid__cell--span-12-phone","mdc-layout-grid__cell--span-4-tablet","mdc-layout-grid__cell--span-4-desktop",3,"type","user"],["class","mdc-layout-grid__inner","style","margin: 1rem;",4,"ngIf"],["scrollable","",2,"min-height","20rem",3,"scrollPosition"],[1,"mdc-layout-grid__inner"],["class","mdc-layout-grid__cell--span-12",3,"game","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","center",4,"ngIf"],["target","_blank","mat-mini-fab","",1,"white-button",3,"href"],["src","../assets/images/stadia.png","width","32"],["mat-mini-fab","",1,"white-button",3,"click"],[1,"mdc-layout-grid__inner",2,"margin","1rem"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone","row"],[1,"date",2,"margin","auto 1rem"],[1,"mdc-layout-grid__cell--span-6-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone","dropdown"],[1,"sort",3,"click"],[1,"flex-1"],[1,"material-icons","md-20"],[1,"dropdown-content",3,"ngClass"],[3,"click"],[1,"separator"],[1,"mdc-layout-grid__cell--span-12",3,"game","click"],[1,"center"]],template:function(t,e){1&t&&(r.yc(0,lI,2,2,"div",0),r.yc(1,yI,22,21,"div",1)),2&t&&(r.gc("ngIf",e.user),r.Ab(1),r.gc("ngIf",e.user))},directives:[j,QP,nw,P,HC,UC,Ok,A,K_,uI,lw],pipes:[H],styles:[".profile-spacing[_ngcontent-%COMP%]{margin:0 1rem}",".game-banner[_ngcontent-%COMP%]{cursor:pointer;background-repeat:no-repeat;background-size:cover;position:relative;background-position:50%}.game-banner__shade[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:240px;padding-top:25%;background-image:linear-gradient(0deg,rgba(0,0,0,.7),transparent)}.centered[_ngcontent-%COMP%]{text-align:center}"]}),t})(),_I=(()=>{class t{constructor(t){this.seo=t,this.data={title:"About | Stadia Hunters",description:"Stadia Hunters is the community of Stadia achievement hunters and available on Web and Android. Find all the secret achievements with guides, reporting bugged , seperationg by dlc requirements and more. Join the community of achievement hunters on Stadia",image:"https://firebasestorage.googleapis.com/v0/b/stadiaachievements-34145.appspot.com/o/Achievements%20%26%20Guides%20(7).png?alt=media&token=64343a06-8dcd-45f6-bf80-ee6b34de4ab4"}}ngOnInit(){this.seo.generateTags(this.data)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(qv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-about"]],decls:19,vars:0,consts:[[1,"mdc-grid"],[2,"margin","1rem"],[1,"subtitle"],["href","https://twitter.com/endroidvour","rel","noreferrer","target","_blank",1,"link"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"h1"),r.Ac(4,"About Stadia Hunters"),r.Ob(),r.Lb(5,"br"),r.Pb(6,"div",2),r.Pb(7,"b"),r.Ac(8,"StadiaHunters.com "),r.Ob(),r.Ac(9,"is a gaming community that focus in achievement tracking for Stadia, help the community with guides, report bugged or with DLC requirements to provide a better achievement hunting experience."),r.Ob(),r.Lb(10,"br"),r.Pb(11,"div",2),r.Ac(12,"Sign up and create a profile today to particate in the multiple leaderboards and track your games. Find other gamers to group and achievement hunt, ask for help or write a guide to your favourite game or achievement."),r.Ob(),r.Lb(13,"br"),r.Pb(14,"div",2),r.Ac(15,"The site is maintained and developed by "),r.Pb(16,"a",3),r.Ac(17,"Joao Pinto"),r.Ob(),r.Ac(18," ."),r.Ob(),r.Ob(),r.Ob())},directives:[Gv],styles:[""]}),t})(),wI=(()=>{class t{constructor(){this.statsSource=new Lt(void 0),this.globalStats=this.statsSource.asObservable()}changeStats(t){this.statsSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),OI=(()=>{class t{constructor(t,e,n,r){this.data=t,this.auth=e,this.firestore=n,this.route=r}ngOnInit(){const t=this.route.snapshot.paramMap.get("filter");this.data.globalStats.subscribe(e=>{if(console.log(e),e)switch(t){case"played":this.header="Most played Games",this.players=e.total_timed_players;break;case"owned":this.header="Most Owned Games",this.players=e.total_game_players;break;case"completed":this.header="Most Completed Games",this.players=e.total_game_players;break;default:this.header="Month Most Played Games",this.players=e.total_month_timed_players,console.log(e)}else this.fetchStats()})}fetchStats(){this.auth.isLoggedIn().pipe(Object(Re.a)(t=>{t?this.firestore.collection("global").doc("stats").get().subscribe(t=>this.data.changeStats(t.data())):this.auth.anonymousSignIn()})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(wI),r.Kb(Hv),r.Kb(Bv),r.Kb(zn))},t.\u0275cmp=r.Eb({type:t,selectors:[["stats-header"]],decls:12,vars:2,consts:[[1,"mdc-layout-grid__cell--span-12","leaderboard-header"],[1,"row"],[1,"leaderboard-number"],[1,"leaderboard-text","flex-1"],[1,"material-icons","md-light","md-16"],[1,"leaderboard-text"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Ac(3,"Ranking"),r.Ob(),r.Pb(4,"div",3),r.Ac(5),r.Ob(),r.Pb(6,"div",1),r.Pb(7,"div"),r.Pb(8,"i",4),r.Ac(9,"person"),r.Ob(),r.Ob(),r.Pb(10,"div",5),r.Ac(11),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(5),r.Bc(e.header),r.Ab(6),r.Bc(e.players))},styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})();function xI(t,e){if(1&t&&(r.Pb(0,"div",7),r.Pb(1,"div"),r.Ac(2),r.Ob(),r.Pb(3,"div",6),r.Ac(4,"Achievements"),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(2),r.Bc(t.data.achievements)}}function CI(t,e){if(1&t&&(r.Pb(0,"div",7),r.Pb(1,"div"),r.Ac(2),r.Ob(),r.Pb(3,"div",6),r.Ac(4,"Rarity"),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(2),r.Bc(t.buildRarity())}}function kI(t,e){if(1&t&&(r.Pb(0,"div",7),r.Pb(1,"div"),r.Ac(2),r.Ob(),r.Pb(3,"div",6),r.Ac(4,"Players"),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(2),r.Bc(t.data.owned)}}let SI=(()=>{class t{constructor(){}ngOnInit(){}buildData(){switch(this.filter){case"played":return this.buildTimePlayed(this.data.time_played);case"owned":return this.data.owned;case"completed":return this.data.completed;default:return this.buildTimePlayed(this.data.month_time_played)}}buildDataTitle(){switch(this.filter){case"played":return"Hours";case"owned":return"Players";case"completed":return"Completed";default:return"Hours"}}buildRarity(){return(this.data.completed/this.data.owned*100).toFixed(1)+" %"}buildTimePlayed(t){return""+Math.floor(t/3600)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["stats-user"]],inputs:{index:"index",filter:"filter",data:"data"},decls:14,vars:9,consts:[[1,"row","mdc-layout-grid__cell--span-12","leaderboard-user"],[1,"title","leaderboard-number"],[1,"banner"],[1,"leaderboard-text","max-1",2,"flex-grow","1","min-width","132px"],["class","leaderboard-number mobile-gone",4,"ngIf"],[1,"leaderboard-number"],[1,"date"],[1,"leaderboard-number","mobile-gone"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Ac(2),r.Ob(),r.Lb(3,"div",2),r.Pb(4,"div",3),r.Ac(5),r.Ob(),r.yc(6,xI,5,1,"div",4),r.yc(7,CI,5,1,"div",4),r.yc(8,kI,5,1,"div",4),r.Pb(9,"div",5),r.Pb(10,"div"),r.Ac(11),r.Ob(),r.Pb(12,"div",6),r.Ac(13),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(2),r.Bc(e.index+1),r.Ab(1),r.vc("background-image","url("+e.data.banner+")"),r.Ab(2),r.Bc(e.data.name),r.Ab(1),r.gc("ngIf","completed"==e.filter),r.Ab(1),r.gc("ngIf","completed"==e.filter),r.Ab(1),r.gc("ngIf","completed"==e.filter),r.Ab(3),r.Bc(e.buildData()),r.Ab(2),r.Bc(e.buildDataTitle()))},directives:[j],styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})();function EI(t,e){if(1&t){const t=r.Qb();r.Pb(0,"stats-user",5),r.Xb("click",function(){r.pc(t);const n=e.$implicit;return r.bc().redirect(n)}),r.Ob()}if(2&t){const t=e.$implicit,n=e.index,i=r.bc();r.gc("filter",i.filter)("index",n)("data",t)}}function AI(t,e){1&t&&(r.Pb(0,"p",6),r.Ac(1," _______"),r.Ob())}function TI(t,e){1&t&&r.Lb(0,"loading-spinner",6)}let PI=(()=>{class t{constructor(t,e,n,r){this.seo=t,this.route=e,this.router=n,this.page=r,this.filter="month"}ngOnInit(){const t=this.route.snapshot.paramMap.get("filter");switch(console.log(t),null!==t&&(this.filter=t),t){case"played":var e="time_played";break;case"owned":e="owned";break;case"month":e="month_time_played";break;default:e="completed"}this.metaTags(),this.page.init("games",e,{limit:25,reverse:!0,prepend:!1})}metaTags(){switch(this.filter){case"time_played":var t="time_played";break;case"owned":t="most owned (also counts free weekends)";break;case"completed":t="most completed";break;default:t="most played this month"}this.seo.generateTags({title:"Stadia Stats - StadiaHunters.com",description:"Worldwide Stadia Stats on the game "+t,image:"https://firebasestorage.googleapis.com/v0/b/stadiaachievements-34145.appspot.com/o/Achievements%20%26%20Guides%20(7).png?alt=media&token=64343a06-8dcd-45f6-bf80-ee6b34de4ab4"})}scrollHandler(t){"bottom"===t&&this.page.more()}redirect(t){console.log(t),this.router.navigate(["/game/"+t.tag])}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(qv),r.Kb(zn),r.Kb(ci),r.Kb(zv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-stats"]],decls:10,vars:9,consts:[[1,"mdc-grid"],[1,"mdc-layout-grid__cell--span-12"],["scrollable","",1,"mdc-layout-grid__cell--span-12",3,"scrollPosition"],[3,"filter","index","data","click",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[3,"filter","index","data","click"],[1,"center"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Lb(2,"stats-header",1),r.Pb(3,"div",2),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.yc(4,EI,1,3,"stats-user",3),r.cc(5,"async"),r.yc(6,AI,2,0,"p",4),r.cc(7,"async"),r.yc(8,TI,1,0,"loading-spinner",4),r.cc(9,"async"),r.Ob(),r.Ob()),2&t&&(r.Ab(4),r.gc("ngForOf",r.dc(5,3,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(7,5,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(9,7,e.page.loading)))},directives:[Gv,OI,nw,P,j,SI,lw],pipes:[H],styles:[".banner[_ngcontent-%COMP%]{height:2.7rem;width:7.5rem;border-radius:.5rem;background-size:cover;background-position:50%;cursor:pointer}.leaderboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fc4a1f 0,#ac0d57);padding:.5rem;border-radius:.5rem;box-shadow:0;margin-top:2rem}.leaderboard-user[_ngcontent-%COMP%]{padding:1rem .5rem 0}.leaderboard-text[_ngcontent-%COMP%]{font-weight:400;font-size:medium;overflow:hidden;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.leaderboard-number[_ngcontent-%COMP%]{min-width:4rem;text-align:center}.leaderboard-date[_ngcontent-%COMP%]{width:9rem;text-align:center}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto .5rem}.overflow[_ngcontent-%COMP%]{text-overflow:ellipsis}@media only screen and (max-width:600px){.leaderboard-number[_ngcontent-%COMP%]{width:3rem;text-align:center}.leaderboard-text[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:small;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}}"]}),t})(),II=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-contact"]],decls:17,vars:0,consts:[[1,"mdc-grid"],[2,"margin","1rem"],[1,"mdc-layout-grid__inner"],[1,"subtitle","mdc-layout-grid__cell--span-6"],["href","mailto:stadiahunters@gmail.com","rel","noreferrer","target","_blank",1,"link"],[1,"subtitle","mdc-layout-grid__cell--span-6","centered"],[1,"subtitle"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"h1"),r.Ac(4,"Contacts"),r.Ob(),r.Lb(5,"br"),r.Pb(6,"div",2),r.Pb(7,"div",3),r.Ac(8,"For business related inquiries such as advertising or partnerships, as well as press release information: "),r.Pb(9,"a",4),r.Ac(10,"stadiahunters@gmail.com"),r.Ob(),r.Ac(11," ."),r.Ob(),r.Pb(12,"div",5),r.Pb(13,"div",6),r.Ac(14," Need support help or report a bug feel free to contact us directly in any of the social media or join us in our discord and request help from the community."),r.Ob(),r.Lb(15,"br"),r.Lb(16,"discord"),r.Ob(),r.Ob(),r.Ob(),r.Ob())},directives:[Gv,kP],encapsulation:2}),t})(),jI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["question"]],inputs:{data:"data"},decls:4,vars:2,consts:[[1,"subtitle"]],template:function(t,e){1&t&&(r.Pb(0,"h2"),r.Ac(1),r.Ob(),r.Pb(2,"div",0),r.Ac(3),r.Ob()),2&t&&(r.Ab(1),r.Bc(e.data.question),r.Ab(2),r.Bc(e.data.response))},encapsulation:2}),t})();function RI(t,e){1&t&&r.Lb(0,"question",4),2&t&&r.gc("data",e.$implicit)}let DI=(()=>{class t{constructor(t,e){this.auth=t,this.firestore=e}ngOnInit(){this.fetchFaq()}fetchFaq(){this.auth.isLoggedIn().pipe(Object(Re.a)(t=>{t?this.firestore.collection("faq").valueChanges().subscribe(t=>{this.questions=t}):this.auth.anonymousSignIn()})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Hv),r.Kb(Bv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-faq"]],decls:8,vars:1,consts:[[1,"mdc-grid"],[2,"margin","1rem"],[1,"mdc-layout-grid__inner"],["class","mdc-layout-grid__cell--span-6",3,"data",4,"ngFor","ngForOf"],[1,"mdc-layout-grid__cell--span-6",3,"data"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"h1"),r.Ac(4,"FAQ"),r.Ob(),r.Lb(5,"br"),r.Pb(6,"div",2),r.yc(7,RI,1,1,"question",3),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(7),r.gc("ngForOf",e.questions))},directives:[Gv,P,jI],encapsulation:2}),t})();function LI(t,e){if(1&t&&(r.Pb(0,"div",9),r.Pb(1,"a",10),r.Ac(2,"Achievements"),r.Ob(),r.Pb(3,"a",10),r.Ac(4,"Leaderboard"),r.Ob(),r.Pb(5,"a",10),r.Ac(6,"Guides"),r.Ob(),r.Pb(7,"div",11),r.Ac(8,"Reviews"),r.Ob(),r.Ob()),2&t){const t=r.bc();r.Ab(1),r.hc("routerLink",t.achievements()),r.Ab(2),r.hc("routerLink",t.leaderboard()),r.Ab(2),r.hc("routerLink",t.guide())}}const MI=function(t,e){return{"mdc-layout-grid__cell--span-2":t,"mdc-layout-grid__cell--span-12":e}};function NI(t,e){if(1&t&&r.Lb(0,"guide",12),2&t){const t=e.$implicit;r.gc("guide",t)("ngClass",r.lc(2,MI,"video"==t.type||"image"==t.type,"video"!=t.type&&"image"!=t.type))}}function FI(t,e){1&t&&(r.Pb(0,"p",13),r.Ac(1," _______"),r.Ob())}function VI(t,e){1&t&&r.Lb(0,"loading-spinner",14)}function BI(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",15),r.Xb("click",function(){return r.pc(t),r.bc().signIn()}),r.Ac(1,"Sign in and add a review"),r.Ob()}}function UI(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",15),r.Xb("click",function(){return r.pc(t),r.bc().buildCommentModal()}),r.Ac(1,"Add a Review"),r.Ob()}}let HI=(()=>{class t{constructor(t,e,n,r,i,s,o){var a;this.router=t,this.seo=e,this.route=n,this.gameService=r,this.page=i,this.dialog=s,this.auth=o,this.tag=null===(a=this.route.parent)||void 0===a?void 0:a.snapshot.paramMap.get("tag")}ngOnInit(){this.initTags(),this.gameService.currentGame.subscribe(t=>{t&&(this.game=t,console.log(t),this.generateGameTags(t.name,t.banner),this.fetchGuides(t._id))}),this.auth.loggedUser.subscribe(t=>{this.user=t})}initTags(){this.tag&&this.generateGameTags(this.gameService.buildGameName(this.tag),this.gameService.buildGameBanner(this.tag))}generateGameTags(t,e){this.seo.generateTags({title:t+" Reviews | Stadia Hunters",description:t+" reviews on Stadia.",image:e})}fetchGuides(t){this.page.init(`games/${t}/review`,"position",{limit:20,reverse:!1,prepend:!1})}scrollHandler(t){"bottom"===t&&this.page.more()}achievements(){return`/game/${this.tag}/achievements/`}leaderboard(){return`/game/${this.tag}/leaderboard/`}guide(){return`/game/${this.tag}/guide/`}signIn(){this.router.navigate(["/login"])}buildCommentModal(){this.dialog.open(gP,{data:{type:"review"}})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ci),r.Kb(qv),r.Kb(zn),r.Kb(rw),r.Kb(zv),r.Kb(NS),r.Kb(Hv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-game-review"]],decls:13,vars:12,consts:[[1,"mdc-grid","mdc-layout-grid__inner",2,"grid-gap","0px"],["class","mdc-layout-grid__cell--span-10 row",4,"ngIf"],["scrollable","",1,"mdc-layout-grid__cell--span-12","mdc-layout-grid__inner",2,"grid-gap","0px",3,"scrollPosition"],[3,"guide","ngClass",4,"ngFor","ngForOf"],["class","center mdc-layout-grid__cell--span-12",4,"ngIf"],["class","center",4,"ngIf"],[1,"mdc-layout-grid__cell--span-12"],[1,"centered"],["mat-button","","class","white-button",3,"click",4,"ngIf"],[1,"mdc-layout-grid__cell--span-10","row"],[1,"stadia-button",3,"routerLink"],[1,"stadia-button","selected"],[3,"guide","ngClass"],[1,"center","mdc-layout-grid__cell--span-12"],[1,"center"],["mat-button","",1,"white-button",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.yc(1,LI,9,3,"div",1),r.Pb(2,"div",2),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.yc(3,NI,1,5,"guide",3),r.cc(4,"async"),r.yc(5,FI,2,0,"p",4),r.cc(6,"async"),r.yc(7,VI,1,0,"loading-spinner",5),r.cc(8,"async"),r.Ob(),r.Pb(9,"div",6),r.Pb(10,"div",7),r.yc(11,BI,2,0,"a",8),r.yc(12,UI,2,0,"a",8),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(1),r.gc("ngIf",e.tag),r.Ab(2),r.gc("ngForOf",r.dc(4,6,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(6,8,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(8,10,e.page.loading)),r.Ab(4),r.gc("ngIf",!e.user),r.Ab(1),r.gc("ngIf",e.user))},directives:[j,nw,P,ui,lP,A,K_,lw,HC],pipes:[H],encapsulation:2}),t})();function zI(t,e){1&t&&r.Lb(0,"game-guide",7),2&t&&r.gc("game",e.$implicit)}function qI(t,e){1&t&&(r.Pb(0,"p",8),r.Ac(1," _______"),r.Ob())}function GI(t,e){1&t&&r.Lb(0,"loading-spinner",8)}function KI(t,e){1&t&&r.Lb(0,"user-guide",7),2&t&&r.gc("activity",e.$implicit)}function $I(t,e){1&t&&(r.Pb(0,"p",8),r.Ac(1," _______"),r.Ob())}function WI(t,e){1&t&&r.Lb(0,"loading-spinner",8)}const QI=[{path:"",component:sE},{path:"about",component:_I},{path:"contact",component:II},{path:"faq",component:DI},{path:"games",component:gw},{path:"news",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-news"]],decls:5,vars:0,consts:[[1,"mdc-layout-grid","mdc-grid",2,"min-height","500px"],[1,"mdc-layout-grid__inner",2,"margin","1rem 0"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone","header"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"div",2),r.Ac(4,"News"),r.Ob(),r.Ob(),r.Ob())},directives:[Gv],encapsulation:2}),t})()},{path:"guides",component:(()=>{class t{constructor(t,e){this.page=t,this.seo=e,this.meta_data={title:"Game Guides Highlights | Stadia Hunters",description:"A list of the most recent game guides made by the community.",image:"https://firebasestorage.googleapis.com/v0/b/stadiaachievements-34145.appspot.com/o/Achievements%20%26%20Guides%20(7).png?alt=media&token=64343a06-8dcd-45f6-bf80-ee6b34de4ab4"}}ngOnInit(){this.seo.generateTags(this.meta_data),this.fetchGames()}fetchGames(t="created",e="",n=!0){this.page.init("guides",t,{limit:30,reverse:n,prepend:!1})}scrollHandler(t){"bottom"===t&&this.page.more()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(zv),r.Kb(qv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-guides"]],decls:13,vars:9,consts:[[1,"mdc-layout-grid","mdc-grid",2,"min-height","500px"],[1,"mdc-layout-grid__inner",2,"margin","1rem 0"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone","header"],["scrollable","",3,"scrollPosition"],[1,"mdc-layout-grid__inner"],["class","mdc-layout-grid__cell--span-4 mdc-layout-grid__cell--span-8-tablet",3,"game",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"mdc-layout-grid__cell--span-4","mdc-layout-grid__cell--span-8-tablet",3,"game"],[1,"center"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"div",2),r.Ac(4,"Achievement Guides"),r.Ob(),r.Ob(),r.Pb(5,"div",3),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.Pb(6,"div",4),r.yc(7,zI,1,1,"game-guide",5),r.cc(8,"async"),r.Ob(),r.yc(9,qI,2,0,"p",6),r.cc(10,"async"),r.yc(11,GI,1,0,"loading-spinner",6),r.cc(12,"async"),r.Ob(),r.Ob()),2&t&&(r.Ab(7),r.gc("ngForOf",r.dc(8,3,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(10,5,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(12,7,e.page.loading)))},directives:[Gv,nw,P,j,Tk,lw],pipes:[H],encapsulation:2}),t})()},{path:"highlights",component:(()=>{class t{constructor(t,e){this.page=t,this.seo=e,this.meta_data={title:"Achievement Guides Highlights | Stadia Hunters",description:"A list of the most recent achievement guides made by the community.",image:"https://firebasestorage.googleapis.com/v0/b/stadiaachievements-34145.appspot.com/o/Achievements%20%26%20Guides%20(7).png?alt=media&token=64343a06-8dcd-45f6-bf80-ee6b34de4ab4"}}ngOnInit(){this.seo.generateTags(this.meta_data),this.fetchGames()}fetchGames(t="created",e="",n=!0){this.page.init("highlight",t,{limit:30,reverse:n,prepend:!1})}scrollHandler(t){"bottom"===t&&this.page.more()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(zv),r.Kb(qv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-highlights"]],decls:13,vars:9,consts:[[1,"mdc-layout-grid","mdc-grid",2,"min-height","500px"],[1,"mdc-layout-grid__inner",2,"margin","1rem 0"],[1,"mdc-layout-grid__cell--span-3-desktop","mdc-layout-grid__cell--span-8-tablet","mdc-layout-grid__cell--span-12-phone","header"],["scrollable","",3,"scrollPosition"],[1,"mdc-layout-grid__inner"],["class","mdc-layout-grid__cell--span-4 mdc-layout-grid__cell--span-8-tablet",3,"activity",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"mdc-layout-grid__cell--span-4","mdc-layout-grid__cell--span-8-tablet",3,"activity"],[1,"center"]],template:function(t,e){1&t&&(r.Lb(0,"banner"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"div",2),r.Ac(4,"Achievement Guides"),r.Ob(),r.Ob(),r.Pb(5,"div",3),r.Xb("scrollPosition",function(t){return e.scrollHandler(t)}),r.Pb(6,"div",4),r.yc(7,KI,1,1,"user-guide",5),r.cc(8,"async"),r.Ob(),r.yc(9,$I,2,0,"p",6),r.cc(10,"async"),r.yc(11,WI,1,0,"loading-spinner",6),r.cc(12,"async"),r.Ob(),r.Ob()),2&t&&(r.Ab(7),r.gc("ngForOf",r.dc(8,3,e.page.data)),r.Ab(2),r.gc("ngIf",r.dc(10,5,e.page.done)),r.Ab(2),r.gc("ngIf",r.dc(12,7,e.page.loading)))},directives:[Gv,nw,P,j,$S,lw],pipes:[H],encapsulation:2}),t})()},{path:"login",component:sI},{path:"user/:username",component:vI},{path:"leaderboard",children:[{path:"",redirectTo:"month",pathMatch:"full"},{path:":filter",component:iI}]},{path:"stats",children:[{path:"",redirectTo:"completions",pathMatch:"full"},{path:":filter",component:PI}]},{path:"games/:gameId",component:aE,children:[{path:"achievement/:id/:name",component:GP}]},{path:"game/:tag",component:aE,children:[{path:"",redirectTo:"achievements",pathMatch:"full"},{path:"achievements",children:[{path:"",component:kE},{path:":userId",component:kE}]},{path:"leaderboard",component:jE},{path:"guide",component:CP},{path:"review",component:HI},{path:"achievement/:id/:name",component:GP}]}];let XI=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[wi.forRoot(QI,{initialNavigation:"enabled"})],wi]}),t})();const ZI=["*",[["mat-toolbar-row"]]],YI=["*","mat-toolbar-row"];class JI{constructor(t){this._elementRef=t}}const tj=xC(JI);let ej=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),nj=(()=>{class t extends tj{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(xw),r.Kb(o))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Db(n,ej,!0),2&t){let t;r.mc(t=r.Yb())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Cb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.xb],ngContentSelectors:YI,decls:2,vars:0,template:function(t,e){1&t&&(r.fc(ZI),r.ec(0),r.ec(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),rj=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[wC],wC]}),t})();function ij(t){return e=>e.lift(new sj(t))}class sj{constructor(t){this.value=t}call(t,e){return e.subscribe(new oj(t,this.value))}}class oj extends Ft.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const aj=["*"];function cj(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",2),r.Xb("click",function(){return r.pc(t),r.bc()._onBackdropClicked()}),r.Ob()}if(2&t){const t=r.bc();r.Cb("mat-drawer-shown",t._isShowingBackdrop())}}function uj(t,e){1&t&&(r.Pb(0,"mat-drawer-content"),r.ec(1,2),r.Ob())}const lj=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],hj=["mat-drawer","mat-drawer-content","*"];function dj(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",2),r.Xb("click",function(){return r.pc(t),r.bc()._onBackdropClicked()}),r.Ob()}if(2&t){const t=r.bc();r.Cb("mat-drawer-shown",t._isShowingBackdrop())}}function fj(t,e){1&t&&(r.Pb(0,"mat-sidenav-content",3),r.ec(1,2),r.Ob())}const pj=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],mj=["mat-sidenav","mat-sidenav-content","*"],gj=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",bj={transformDrawer:Zw("transform",[eO("open, open-instant",tO({transform:"none",visibility:"visible"})),eO("void",tO({"box-shadow":"none",visibility:"hidden"})),nO("void => open-instant",Yw("0ms")),nO("void <=> open, open-instant => void",Yw("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},yj=new r.q("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),vj=new r.q("MAT_DRAWER_CONTAINER");let _j=(()=>{class t extends Mk{constructor(t,e,n,r,i){super(n,r,i),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.h),r.Kb(Object(r.U)(()=>Oj)),r.Kb(r.l),r.Kb(Lk),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&r.vc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[r.xb],ngContentSelectors:aj,decls:1,vars:0,template:function(t,e){1&t&&(r.fc(),r.ec(0))},encapsulation:2,changeDetection:0}),t})(),wj=(()=>{class t{constructor(t,e,n,i,s,o,a){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=s,this._doc=o,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Rt.a,this._animationEnd=new Rt.a,this._animationState="void",this.openedChange=new r.n(!0),this._openedStream=this.openedChange.pipe(fe(t=>t),Object(te.a)(()=>{})),this.openedStart=this._animationStarted.pipe(fe(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),ij(void 0)),this._closedStream=this.openedChange.pipe(fe(t=>!t),Object(te.a)(()=>{})),this.closedStart=this._animationStarted.pipe(fe(t=>t.fromState!==t.toState&&"void"===t.toState),ij(void 0)),this._destroyed=new Rt.a,this.onPositionChanged=new r.n,this._modeChanged=new Rt.a,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{$v(this._elementRef.nativeElement,"keydown").pipe(fe(t=>27===t.keyCode&&!this.disableClose&&!yw(t)),Jv(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(Li((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=V_(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=V_(t)}get opened(){return this._opened}set opened(t){this.toggle(V_(t))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var t;const e=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(t=!this.opened,e){return this._setOpen(t,!t&&this._isFocusWithinDrawer(),e)}_setOpen(t,e,n="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",e&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(oe(1)).subscribe(e=>t(e?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(Mw),r.Kb(zw),r.Kb(xw),r.Kb(r.z),r.Kb(o,8),r.Kb(vj,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&r.wc("@transform.start",function(t){return e._animationStartListener(t)})("@transform.done",function(t){return e._animationDoneListener(t)}),2&t&&(r.Bb("align",null),r.xc("@transform",e._animationState),r.Cb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:aj,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(r.fc(),r.Pb(0,"div",0),r.ec(1),r.Ob())},encapsulation:2,data:{animation:[bj.transformDrawer]},changeDetection:0}),t})(),Oj=(()=>{class t{constructor(t,e,n,i,s,o=!1,a){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=a,this._drawers=new r.D,this.backdropClick=new r.n,this._destroyed=new Rt.a,this._doCheckSubject=new Rt.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Rt.a,t&&t.change.pipe(Jv(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Jv(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=V_(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:V_(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ue(this._allDrawers),Jv(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ue(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Qv(10),Jv(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(fe(t=>t.fromState!==t.toState),Jv(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Jv(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Jv(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(oe(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Jv(Object(lv.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(r.Kb($w,8),r.Kb(r.l),r.Kb(r.z),r.Kb(r.h),r.Kb(Nk),r.Kb(yj),r.Kb(mC,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){if(1&t&&(r.Db(n,_j,!0),r.Db(n,wj,!0)),2&t){let t;r.mc(t=r.Yb())&&(e._content=t.first),r.mc(t=r.Yb())&&(e._allDrawers=t)}},viewQuery:function(t,e){if(1&t&&r.Fc(_j,!0),2&t){let t;r.mc(t=r.Yb())&&(e._userContent=t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&r.Cb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[r.zb([{provide:vj,useExisting:t}])],ngContentSelectors:hj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(r.fc(lj),r.yc(0,cj,1,2,"div",0),r.ec(1),r.ec(2,1),r.yc(3,uj,2,0,"mat-drawer-content",1)),2&t&&(r.gc("ngIf",e.hasBackdrop),r.Ab(3),r.gc("ngIf",!e._content))},directives:[j,_j],styles:[gj],encapsulation:2,changeDetection:0}),t})(),xj=(()=>{class t extends _j{constructor(t,e,n,r,i){super(t,e,n,r,i)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.h),r.Kb(Object(r.U)(()=>Sj)),r.Kb(r.l),r.Kb(Lk),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,e){2&t&&r.vc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[r.xb],ngContentSelectors:aj,decls:1,vars:0,template:function(t,e){1&t&&(r.fc(),r.ec(0))},encapsulation:2,changeDetection:0}),t})(),Cj=(()=>{class t extends wj{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=V_(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=B_(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=B_(t)}}return t.\u0275fac=function(e){return kj(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,e){2&t&&(r.Bb("align",null),r.vc("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),r.Cb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[r.xb],ngContentSelectors:aj,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(r.fc(),r.Pb(0,"div",0),r.ec(1),r.Ob())},encapsulation:2,data:{animation:[bj.transformDrawer]},changeDetection:0}),t})();const kj=r.Rb(Cj);let Sj=(()=>{class t extends Oj{}return t.\u0275fac=function(e){return Ej(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,n){if(1&t&&(r.Db(n,xj,!0),r.Db(n,Cj,!0)),2&t){let t;r.mc(t=r.Yb())&&(e._content=t.first),r.mc(t=r.Yb())&&(e._allDrawers=t)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,e){2&t&&r.Cb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[r.zb([{provide:vj,useExisting:t}]),r.xb],ngContentSelectors:mj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(r.fc(pj),r.yc(0,dj,1,2,"div",0),r.ec(1),r.ec(2,1),r.yc(3,fj,2,0,"mat-sidenav-content",1)),2&t&&(r.gc("ngIf",e.hasBackdrop),r.Ab(3),r.gc("ngIf",!e._content))},directives:[j,xj,Mk],styles:[gj],encapsulation:2,changeDetection:0}),t})();const Ej=r.Rb(Sj);let Aj=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[z,wC,Cw,Fk],Fk,wC]}),t})();const Tj=["row","column","row-reverse","column-reverse"];function Pj(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let Ij=(()=>{class t extends M_{buildStyles(t){return function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return Tj.find(t=>t===e)||(e=Tj[0]),"inline"===n&&(n="inline"!==r?r:"",r="inline"),[e,Pj(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(t)}}return t.\u0275fac=function(e){return jj(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const jj=r.Rb(Ij),Rj=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Dj=(()=>{class t extends p_{constructor(t,e,n,r){super(t,n,e,r),this.DIRECTIVE_KEY="layout",this.styleCache=Nj,this.init()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(L_),r.Kb(Ij),r.Kb(N_))},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})(),Lj=(()=>{class t extends Dj{constructor(){super(...arguments),this.inputs=Rj}}return t.\u0275fac=function(e){return Mj(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[r.xb]}),t})();const Mj=r.Rb(Lj),Nj=new Map;new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;const Fj={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let Vj=(()=>{class t extends M_{buildStyles(t){return Fj}}return t.\u0275fac=function(e){return Bj(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Bj=r.Rb(Vj);let Uj=(()=>{class t extends p_{constructor(t,e,n,r){super(t,n,e,r),this.styleCache=Hj,this.addStyles("")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(L_),r.Kb(Vj),r.Kb(N_))},t.\u0275dir=r.Fb({type:t,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[r.xb]}),t})();const Hj=new Map;new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let zj=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[i_,Ww]]}),t})(),qj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-footer"]],decls:42,vars:0,consts:[[1,"mdc-grid","mdc-layout-grid__inner",2,"padding","2rem"],[1,"centered","mdc-layout-grid__cell--span-4"],["mat-button","","routerLink","/",1,"companyName",2,"margin-bottom","0.5rem"],["alt","Stadia Logo","src","../assets/images/text-logo.png","width","200"],["mat-button","",1,"title"],["mat-flat-button","","href","https://www.patreon.com/stadiahunters","target","_blank","rel","noreferrer",1,"link","footer-button"],[1,"centered","mdc-layout-grid__cell--span-2"],[2,"padding","0 16px"],["mat-flat-button","","routerLink","/faq",1,"footer-button"],["mat-flat-button","","routerLink","/rules",1,"footer-button"],["mat-flat-button","","routerLink","/about",1,"footer-button"],["mat-flat-button","","routerLink","/contact",1,"footer-button"],["mat-flat-button","","routerLink","/privacy",1,"footer-button"],["mat-flat-button","","href","https://twitter.com/stadiahunters","target","_blank","rel","noreferrer",1,"footer-button"],["mat-flat-button","","href","https://www.youtube.com/channel/UCmv33RU50LgFnR-7TfZOvQw","target","_blank","rel","noreferrer",1,"footer-button"],["mat-flat-button","","href","https://www.facebook.com/StadiaHunters/","target","_blank","rel","noreferrer",1,"footer-button"],["mat-flat-button","","href","https://www.instagram.com/stadiahunters/","target","_blank","rel","noreferrer",1,"footer-button"],["mat-flat-button","","href","http://discord.gg/U9Bykub","target","_blank","rel","noreferrer",1,"footer-button"],["mat-flat-button","","href","https://chrome.google.com/webstore/detail/stadia-hunters/fpbdilcfficmipfhflimkhokccldbhph","target","_blank","rel","noreferrer",1,"footer-button"],["mat-flat-button","","href","https://play.google.com/store/apps/details?id=com.endeavour.stadiahunters&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1","target","_blank","rel","noreferrer",1,"footer-button"]],template:function(t,e){1&t&&(r.Pb(0,"footer"),r.Pb(1,"div",0),r.Pb(2,"div",1),r.Pb(3,"a",2),r.Lb(4,"img",3),r.Ob(),r.Pb(5,"a",4),r.Ac(6,"\xa9 2020 Stadia Hunters, All Rights Reserved"),r.Ob(),r.Pb(7,"a",5),r.Ac(8," Patreon"),r.Ob(),r.Ob(),r.Pb(9,"div",6),r.Pb(10,"h2",7),r.Ac(11,"Info"),r.Ob(),r.Pb(12,"a",8),r.Ac(13,"FAQ"),r.Ob(),r.Pb(14,"a",9),r.Ac(15,"Rules"),r.Ob(),r.Pb(16,"a",10),r.Ac(17,"About"),r.Ob(),r.Pb(18,"a",11),r.Ac(19,"Contact"),r.Ob(),r.Pb(20,"a",12),r.Ac(21,"Privacy Policy"),r.Ob(),r.Ob(),r.Pb(22,"div",6),r.Pb(23,"h2",7),r.Ac(24,"Social Media"),r.Ob(),r.Pb(25,"a",13),r.Ac(26," Twitter"),r.Ob(),r.Pb(27,"a",14),r.Ac(28,"Youtube"),r.Ob(),r.Pb(29,"a",15),r.Ac(30,"Facebook"),r.Ob(),r.Pb(31,"a",16),r.Ac(32,"Instagram"),r.Ob(),r.Pb(33,"a",17),r.Ac(34,"Discord"),r.Ob(),r.Ob(),r.Pb(35,"div",6),r.Pb(36,"h2",7),r.Ac(37,"Tools"),r.Ob(),r.Pb(38,"a",18),r.Ac(39," Extension"),r.Ob(),r.Pb(40,"a",19),r.Ac(41," Android App"),r.Ob(),r.Ob(),r.Ob(),r.Ob())},directives:[HC,ui],styles:[".centered[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1rem auto}.footer-button[_ngcontent-%COMP%]{width:100%;margin:.25rem;text-align:left;background:#191a1c;color:#fff}.footer-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .footer-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}footer[_ngcontent-%COMP%]{background:#191a1c}",".button-more[_ngcontent-%COMP%]{margin:auto 0 0 auto;cursor:pointer}.mat-raised-button.mat-twitter[_ngcontent-%COMP%]{padding:.25rem 2rem;margin:1rem 0;background-color:#00acee;color:#fff}.social-button[_ngcontent-%COMP%]{width:100%;margin:.25rem 0;color:#fff}.twitter[_ngcontent-%COMP%]{background:#1da1f2}.facebook[_ngcontent-%COMP%]{background:#4267b2}.discord[_ngcontent-%COMP%]{background:#7289da}.playstore[_ngcontent-%COMP%]{background:#000}.extension[_ngcontent-%COMP%], .instagram[_ngcontent-%COMP%], .youtube[_ngcontent-%COMP%]{background:#fff;color:#000}.social-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 .5rem;width:24px}.stadia-video[_ngcontent-%COMP%]{width:100%;height:230px}"]}),t})();function Gj(t,e){1&t&&(r.Pb(0,"a",29),r.Ac(1,"Login"),r.Ob())}function Kj(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",30),r.Xb("click",function(){return r.pc(t),r.bc().redirectUser()}),r.Ob()}if(2&t){const t=r.bc();r.vc("background-image","url("+t.user.avatar+")")}}function $j(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",31),r.Xb("click",function(){return r.pc(t),r.bc(),r.nc(21).toggle()}),r.Ac(1,"Login"),r.Ob()}}function Wj(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",32),r.Xb("click",function(){r.pc(t);const e=r.bc(),n=r.nc(21);return e.redirectUser(),n.toggle()}),r.Lb(1,"div",33),r.Pb(2,"div",34),r.Ac(3),r.Ob(),r.Ob()}if(2&t){const t=r.bc();r.Ab(1),r.vc("background-image","url("+t.user.avatar+")"),r.Ab(2),r.Cc(" ",t.user.username,"")}}let Qj=(()=>{class t{constructor(e,n,r,i){this.auth=e,this.router=n,this.userService=r,this.platformId=i,this.title="Stadia Hunters",t.isBrowser.next(q(i))}ngOnInit(){this.auth.loggedUser.subscribe(t=>{this.user=t}),this.router.events.subscribe(t=>{t instanceof Be&&window.scrollTo(0,0)})}redirectUser(){this.userService.changeUser(this.user),this.router.navigate(["/user/"+this.user.username.replace("#","-")])}}return t.isBrowser=new Lt(!1),t.\u0275fac=function(e){return new(e||t)(r.Kb(Hv),r.Kb(ci),r.Kb(Ck),r.Kb(r.B))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:52,vars:4,consts:[["color","primary"],["fxShow","true","fxHide.gt-sm","true"],["mat-icon-button","",3,"click"],["mat-button","","routerLink","/",1,"companyName"],["alt","Stadia Logo","src","../assets/images/text-logo.png","width","200"],["fxShow","true","fxHide.lt-md","true"],["mat-button","","routerLink","/leaderboard"],["mat-button","","routerLink","/games"],["mat-button","","routerLink","/stats/completed"],[1,"example-spacer"],["mat-button","","routerLink","/login",4,"ngIf"],["mat-button","","class","avatar",3,"background-image","click",4,"ngIf"],["fxFlexFill","",1,"example-container"],["color","primary","fxLayout","column","mode","over","opened","false","fxHide.gt-sm","true"],["sidenav",""],["fxLayout","column"],["class","sidebar-primary","routerLink","/login",3,"click",4,"ngIf"],["class","sidebar-primary row",3,"click",4,"ngIf"],["routerLink","/games",1,"sidebar-primary",3,"click"],[1,"separator"],[1,"sidebar-primary"],["routerLink","/leaderboard/month",1,"sidebar-secondary",3,"click"],["routerLink","/leaderboard/year",1,"sidebar-secondary",3,"click"],["routerLink","/leaderboard/overall",1,"sidebar-secondary",3,"click"],["routerLink","/stats/completed",1,"sidebar-secondary",3,"click"],["routerLink","/stats/owned",1,"sidebar-secondary",3,"click"],["routerLink","/stats/month",1,"sidebar-secondary",3,"click"],["routerLink","/stats/played",1,"sidebar-secondary",3,"click"],["fxFlexFill",""],["mat-button","","routerLink","/login"],["mat-button","",1,"avatar",3,"click"],["routerLink","/login",1,"sidebar-primary",3,"click"],[1,"sidebar-primary","row",3,"click"],[1,"avatar"],[1,"username"]],template:function(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.Pb(1,"mat-toolbar",0),r.Pb(2,"div",1),r.Pb(3,"button",2),r.Xb("click",function(){return r.pc(t),r.nc(21).toggle()}),r.Pb(4,"mat-icon"),r.Ac(5,"menu"),r.Ob(),r.Ob(),r.Ob(),r.Pb(6,"a",3),r.Lb(7,"img",4),r.Ob(),r.Pb(8,"div",5),r.Pb(9,"a",6),r.Ac(10,"Leaderboard"),r.Ob(),r.Pb(11,"a",7),r.Ac(12,"Games"),r.Ob(),r.Pb(13,"a",8),r.Ac(14,"Completions"),r.Ob(),r.Ob(),r.Lb(15,"span",9),r.Pb(16,"div",5),r.yc(17,Gj,2,0,"a",10),r.yc(18,Kj,1,2,"div",11),r.Ob(),r.Ob(),r.Pb(19,"mat-sidenav-container",12),r.Pb(20,"mat-sidenav",13,14),r.Pb(22,"div",15),r.yc(23,$j,2,0,"a",16),r.yc(24,Wj,4,3,"div",17),r.Ob(),r.Pb(25,"div",15),r.Pb(26,"a",18),r.Xb("click",function(){return r.pc(t),r.nc(21).toggle()}),r.Ac(27,"Games"),r.Ob(),r.Ob(),r.Lb(28,"div",19),r.Pb(29,"div",20),r.Ac(30,"Leaderboard"),r.Ob(),r.Pb(31,"div",15),r.Pb(32,"a",21),r.Xb("click",function(){return r.pc(t),r.nc(21).toggle()}),r.Ac(33,"Month"),r.Ob(),r.Pb(34,"a",22),r.Xb("click",function(){return r.pc(t),r.nc(21).toggle()}),r.Ac(35,"Year"),r.Ob(),r.Pb(36,"a",23),r.Xb("click",function(){return r.pc(t),r.nc(21).toggle()}),r.Ac(37,"Overall"),r.Ob(),r.Ob(),r.Pb(38,"div",20),r.Ac(39,"Statistics"),r.Ob(),r.Pb(40,"div",15),r.Pb(41,"a",24),r.Xb("click",function(){return r.pc(t),r.nc(21).toggle()}),r.Ac(42,"Completions"),r.Ob(),r.Pb(43,"a",25),r.Xb("click",function(){return r.pc(t),r.nc(21).toggle()}),r.Ac(44,"Most Owned"),r.Ob(),r.Pb(45,"a",26),r.Xb("click",function(){return r.pc(t),r.nc(21).toggle()}),r.Ac(46,"Most Played - Month"),r.Ob(),r.Pb(47,"a",27),r.Xb("click",function(){return r.pc(t),r.nc(21).toggle()}),r.Ac(48,"Most Played - Overall"),r.Ob(),r.Ob(),r.Ob(),r.Pb(49,"mat-sidenav-content",28),r.Lb(50,"router-outlet"),r.Ob(),r.Ob(),r.Lb(51,"app-footer"),r.Ob()}2&t&&(r.Ab(17),r.gc("ngIf",!e.user),r.Ab(1),r.gc("ngIf",e.user),r.Ab(5),r.gc("ngIf",!e.user),r.Ab(1),r.gc("ngIf",e.user))},directives:[nj,J_,UC,Ok,HC,ui,j,Sj,Uj,Cj,Lj,xj,hi,qj],styles:["companyName[_ngcontent-%COMP%]{font-size:150%}.mat-toolbar[_ngcontent-%COMP%]{height:7vh}.mat-drawer[_ngcontent-%COMP%]{background:#202124;min-width:240px}div[_ngcontent-%COMP%]{overflow:inherit}.mat-sidenav-container[_ngcontent-%COMP%]{min-height:93vh!important}a[_ngcontent-%COMP%]{text-decoration:none;white-space:normal;color:#fff}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:110%}button[_ngcontent-%COMP%]{min-width:-webkit-min-content;min-width:-moz-min-content;min-width:min-content}.example-icon[_ngcontent-%COMP%]{padding:0 14px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-icon-button[_ngcontent-%COMP%]{color:#fff;background:transparent}.sidebar-primary[_ngcontent-%COMP%]{padding:.5rem 2rem;height:32px;color:#fff}.sidebar-secondary[_ngcontent-%COMP%]{padding:.5rem 4rem;height:32px}.username[_ngcontent-%COMP%]{margin:auto .5rem}"]}),t})(),Xj=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Cw]]}),t})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let Zj=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[i_]]}),t})();new r.P("11.0.0-beta.33");let Yj=(()=>{class t{constructor(t,e){G(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:c_,useValue:Object.assign(Object.assign({},a_),e)},{provide:l_,useValue:n,multi:!0},{provide:u_,useValue:!0}]:[{provide:c_,useValue:Object.assign(Object.assign({},a_),e)},{provide:l_,useValue:n,multi:!0}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Tb(u_),r.Tb(r.B))},imports:[[zj,ew,Zj],zj,ew,Zj]}),t})();var Jj=n("KqfI");const tR=new Ht.a(Jj.a);var eR=n("oB13"),nR=n("WMd4");class rR{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new iR(t,this.delay,this.scheduler))}}class iR extends Ft.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(iR.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new sR(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(nR.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(nR.a.createComplete()),this.unsubscribe()}}class sR{constructor(t,e){this.time=t,this.notification=e}}const oR="Service workers are disabled or not supported by this browser";class aR{constructor(t){if(this.serviceWorker=t,t){const e=$v(t,"controllerchange").pipe(Object(te.a)(()=>t.controller)),n=Zt(Jt(()=>Object(jt.a)(t.controller)),e);this.worker=n.pipe(fe(t=>!!t)),this.registration=this.worker.pipe(ne(()=>t.getRegistration()));const r=$v(t,"message").pipe(Object(te.a)(t=>t.data)).pipe(fe(t=>t&&t.type)).pipe(Object(eR.a)(new Rt.a));r.connect(),this.events=r}else this.worker=this.events=this.registration=Jt(()=>Object(qC.a)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(t,e){return this.worker.pipe(oe(1),Object(Re.a)(n=>{n.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithStatus(t,e,n){const r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(fe(e=>e.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(oe(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(fe(e=>e.nonce===t),oe(1),Object(te.a)(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let cR=(()=>{class t{constructor(t){if(this.sw=t,this.subscriptionChanges=new Rt.a,!t.isEnabled)return this.messages=tR,this.notificationClicks=tR,void(this.subscription=tR);this.messages=this.sw.eventsOfType("PUSH").pipe(Object(te.a)(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Object(te.a)(t=>t.data)),this.pushManager=this.sw.registration.pipe(Object(te.a)(t=>t.pushManager));const e=this.pushManager.pipe(ne(t=>t.getSubscription()));this.subscription=Object(lv.a)(e,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(oR));const e={userVisibleOnly:!0};let n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return e.applicationServerKey=r,this.pushManager.pipe(ne(t=>t.subscribe(e)),oe(1)).toPromise().then(t=>(this.subscriptionChanges.next(t),t))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(oe(1),ne(t=>{if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(oR))}decodeBase64(t){return atob(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(aR))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),uR=(()=>{class t{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=tR,this.activated=tR,void(this.unrecoverable=tR);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oR));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oR));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(aR))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class lR{}const hR=new r.q("NGSW_REGISTER_SCRIPT");function dR(t,e,n,i){return()=>{if(!q(i)||!("serviceWorker"in navigator)||!1===n.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)s=n.registrationStrategy();else{const[e,...r]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(e){case"registerImmediately":s=Object(jt.a)(null);break;case"registerWithDelay":s=fR(+r[0]||0);break;case"registerWhenStable":s=r[0]?Object(lv.a)(pR(t),fR(+r[0])):pR(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: "+n.registrationStrategy)}}t.get(r.z).runOutsideAngular(()=>s.pipe(oe(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(t=>console.error("Service worker registration failed with:",t))))}}function fR(t){return Object(jt.a)(null).pipe(function(t,e=Ii.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new rR(r,e))}(t))}function pR(t){return t.get(r.g).isStable.pipe(fe(t=>t))}function mR(t,e){return new aR(q(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let gR=(()=>{class t{static register(e,n={}){return{ngModule:t,providers:[{provide:hR,useValue:e},{provide:lR,useValue:n},{provide:aR,useFactory:mR,deps:[lR,r.B]},{provide:r.d,useFactory:dR,deps:[r.r,hR,lR,r.B],multi:!0}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[cR,uR]}),t})();const bR={apiKey:"AIzaSyARYOQ7YNL0l5cFN_c1vmp3COTSZ9EQ0TE",authDomain:"stadiaachievements-34145.firebaseapp.com",databaseURL:"https://stadiaachievements-34145.firebaseio.com",projectId:"stadiaachievements-34145",storageBucket:"stadiaachievements-34145.appspot.com",messagingSenderId:"1001591143424",appId:"1:1001591143424:web:0fff83f75d010b041aece5",measurementId:"G-QR3K7T3HHE"};let yR=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[Qj]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[Vi.a.initializeApp(bR),Uv,kv,z,PT,IT,Xj,kt.withServerTransition({appId:"serverApp"}),XI,bC,rj,Aj,eP,kt,PT,Yj,BS,iA,xk,zC,gR.register("ngsw-worker.js",{enabled:!1})],rj,Aj]}),t})();Object(r.T)(),document.addEventListener("DOMContentLoaded",()=>{xt().bootstrapModule(yR).catch(t=>console.error(t))})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);